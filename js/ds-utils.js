!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=30)}({2:function(e,t,o){"use strict";var n,r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},c=function(){var e={};return function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[t]=o}return e[t]}}(),l=[];function i(e){for(var t=-1,o=0;o<l.length;o++)if(l[o].identifier===e){t=o;break}return t}function s(e,t){for(var o={},n=[],r=0;r<e.length;r++){var c=e[r],s=t.base?c[0]+t.base:c[0],a=o[s]||0,u="".concat(s," ").concat(a);o[s]=a+1;var d=i(u),f={css:c[1],media:c[2],sourceMap:c[3]};-1!==d?(l[d].references++,l[d].updater(f)):l.push({identifier:u,updater:y(f,t),references:1}),n.push(u)}return n}function a(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var r=o.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var l=c(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,o,n){var r=o?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var c=document.createTextNode(r),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(c,l[t]):e.appendChild(c)}}function m(e,t,o){var n=o.css,r=o.media,c=o.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),c&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(c))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var g=null,v=0;function y(e,t){var o,n,r;if(t.singleton){var c=v++;o=g||(g=a(t)),n=f.bind(null,o,c,!1),r=f.bind(null,o,c,!0)}else o=a(t),n=m.bind(null,o,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var o=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<o.length;n++){var r=i(o[n]);l[r].references--}for(var c=s(e,t),a=0;a<o.length;a++){var u=i(o[a]);0===l[u].references&&(l[u].updater(),l.splice(u,1))}o=c}}}},30:function(e,t,o){o(31),e.exports=o(33)},31:function(e,t,o){var n=o(2),r=o(32);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}},32:function(e,t,o){},33:function(e,t){window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".disable-transition");e&&e.classList.toggle("disable-transition")}));var o=document.querySelectorAll(".stock-full");o&&o.forEach((function(e){var t=e.querySelector(".stock-full__wrapper");e.querySelector(".stock-full__expand").addEventListener("click",(function(){return t.classList.toggle("is-expanded")}))}));var n=document.querySelectorAll(".stock-dropdown-filter");n&&n.forEach((function(e){e.querySelector(".stock-dropdown-filter__head").addEventListener("click",(function(){return e.classList.toggle("is-expanded")}))}));var r=document.querySelectorAll(".item-params-list__item");r&&r.forEach((function(e){e.addEventListener("click",(function(){return e.classList.toggle("is-selected")}))}));var c=document.querySelectorAll(".item-params-list");r&&c.forEach((function(e){var t=e.nextElementSibling;t&&t.addEventListener("click",(function(){return e.classList.toggle("is-expanded")}))}));var l=document.querySelectorAll(".collapse-section");l&&l.forEach((function(e){e.querySelector(".collapse-section__heading").addEventListener("click",(function(){return e.classList.toggle("is-expanded")}))}));var i=document.querySelectorAll(".modal__select");if(i)for(var s=0;s<i.length;s++)i[s].addEventListener("click",(function(){this.classList.toggle("is-toggle")}));var a=document.querySelectorAll(".modal__select");a&&a.forEach((function(e){var t=e.querySelector(".modal__selected-position");e.querySelectorAll("li").forEach((function(e){e.addEventListener("click",(function(){t.innerHTML=e.innerHTML}))}))}));var u,d=document.querySelector(".modal__btn-about-goods"),f=document.querySelector(".modal__goods-info");d&&d.addEventListener("click",(function(){f.classList.toggle("is-toggle")})),document.querySelectorAll(".btn-sum").forEach((function(e){var t=e.querySelector(".btn-sum__plus"),o=e.querySelector(".btn-sum__minus"),n=e.querySelector(".btn-sum__sum-num");t&&o&&n&&(t.addEventListener("click",(function(){n.value++})),o.addEventListener("click",(function(){n.value--})))})),(u=document.querySelectorAll(".modal-message-for-org"))&&u.forEach((function(e){e.querySelectorAll(".img-container_small").forEach((function(e){e.addEventListener("click",(function(){e.parentNode.removeChild(e)}))}))}));var m,g,v,y,_,p,h,S,q=document.querySelectorAll(".icon-heart-bold");q&&q.forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("icon-heart-filled")}))})),(m=document.querySelectorAll(".collapse-block"))&&m.forEach((function(e){e.querySelector(".collapse-block__header").addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),(g=document.querySelectorAll(".delivery__mobile"))&&g.forEach((function(e){var t=e.querySelector("#btn-toggle-wrap");t&&t.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),(v=document.querySelectorAll(".delivery__city"))&&v.forEach((function(e){var t=e.querySelector(".delivery__city-header");t&&t.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),document.querySelectorAll(".sidebar").forEach((function(e){var t=e.querySelector(".sidebar__background"),o=e.querySelector(".sidebar__close");t.addEventListener("click",(function(){e.classList.toggle("sidebar_is-active")})),o.addEventListener("click",(function(){e.classList.toggle("sidebar_is-active")}))})),(y=document.querySelectorAll(".card-active-custom"))&&y.forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),(_=document.querySelectorAll(".modal"))&&_.forEach((function(e){var t=e.querySelector(".modal__bg"),o=e.querySelector(".modal__btn-close");t&&t.addEventListener("click",(function(){e.classList.remove("is-visible")})),o&&o.addEventListener("click",(function(){e.classList.remove("is-visible")}))})),(p=document.querySelectorAll(".switcher__label"))&&p.forEach((function(e){e.addEventListener("click",(function(){var e=document.querySelectorAll(".card-active-custom");e&&e.forEach((function(e){e.classList.toggle("is-toggle")}))}))})),(h=document.querySelectorAll(".auth-form"))&&h.forEach((function(e){var t=e.querySelector("#auth-tabs");t.addEventListener("click",(function(){!0===t.checked?(e.classList.toggle("auth-form_sign-up"),e.querySelector(".auth-form__form-sign-up").style.display="flex",e.querySelector(".auth-form__form-sign-in").style.display="none"):(e.classList.remove("auth-form_sign-up"),e.querySelector(".auth-form__form-sign-up").style.display="none",e.querySelector(".auth-form__form-sign-in").style.display="flex")}))})),(S=document.querySelectorAll(".auth-form"))&&S.forEach((function(e){var t=e.querySelector(".auth-form__link-to-recovery-password"),o=e.querySelector(".auth-form__form-sign-in"),n=e.querySelector(".auth-form__form-password-recovery");t.addEventListener("click",(function(e){e.preventDefault(),o.style.display="none",n.style.display="block"}))}));var b=document.querySelectorAll(".modal-list-catalogs");b&&b.forEach((function(e){var t=e.querySelector(".modal-container__wrap"),o=e.querySelector(".modal-container__catalogs"),n=e.querySelector(".modal-container__positions"),r=e.querySelector(".modal-list-catalogs__selected-position-link"),c=e.querySelector(".modal-list-catalogs__selected-catalogs-link"),l=e.querySelector(".modal-container__btn-position"),i=e.querySelector(".modal-container__btn-catalogs"),s=e.querySelector(".modal-container__footer-btn-toggle");t&&s&&r&&c&&i&&l&&o&&n&&(s.addEventListener("click",(function(){t.classList.toggle("is-toggle"),console.log("Click")})),r.addEventListener("click",(function(){t.classList.toggle("is-toggle")})),c.addEventListener("click",(function(){t.classList.toggle("is-toggle")})),l.addEventListener("click",(function(){n.classList.toggle("is-toggle")})),i.addEventListener("click",(function(){o.classList.toggle("is-toggle")})))}));var L=document.querySelectorAll(".stock-d__main");L&&L.forEach((function(e){var t=e.querySelectorAll(".checkbox__input"),o=e.querySelector(".ds-btn_hover"),n=e.querySelector(".modal-list-catalogs");t&&t.forEach((function(e){e.addEventListener("click",(function(){console.log("Click"),n&&n.classList.toggle("is-visible")}))})),o&&o.addEventListener("click",(function(){n.classList.toggle("is-visible")}))}));try{var E=moment([2020,1,19]),k=moment([2020,2,17]).diff(E,"days");document.querySelector(".timer-reverse__time").innerHTML=k,document.querySelector("#daysView").innerHTML=k;var A=document.querySelector(".promo-for-begginners__btn-look");A&&A.addEventListener("click",(function(){document.querySelector(".promo-for-begginners").classList.toggle("is-view")}))}catch(e){}var w,x=document.querySelectorAll("#ds-inputs-form__phone");function M(e,t){var o=document.querySelectorAll(e);o&&o.forEach((function(e){var o=e.textContent.trim().substring(0,t);e.innerText=o+"...",console.log(o+"...")}))}x&&x.forEach((function(e){e.addEventListener("keyup",(function(){this.value=this.value.replace(/[^\d]/g,"")}))})),(w=document.querySelectorAll(".price"))?w.forEach((function(e){var t=e.querySelector(".price__input-integer"),o=e.querySelector(".price__rub"),n=e.querySelector(".price__kopek"),r=t.innerText.toString(),c=r.slice(-3);console.log(c);var l=r.slice(0,-3);o.innerHTML=l,n.innerHTML=c})):console.error("Нет элемента с классом .color-size-kopek. Присвойте класс необходимому элементу"),M(".cart__item-title",55),M(".cart__purhase-heading",83);var T=document.querySelectorAll(".stock-m-items");T&&T.forEach((function(e){console.dir(e);var t=e.querySelector(".stock-rows__values"),o=e.querySelector(".stock-rows-help");console.log("Ok"),console.dir(o),console.dir(t),console.log("scroll <"+t.scrollWidth+"Чем ширина "+t.clientWidth),t.scrollWidth<=t.clientWidth&&(console.log("scroll <"+t.scrollWidth),o.style.display="none")}))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMvdXRpbHMvX2RzLXV0aWxzLnNjc3M/ZGIxZSIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm1lbW8iLCJpc09sZElFIiwiQm9vbGVhbiIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsImxlbmd0aCIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImlkIiwiYmFzZSIsImNvdW50IiwiY29uY2F0IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwicHVzaCIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwidG9TdHJpbmciLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsInNwbGljZSIsImFwaSIsImNvbnRlbnQiLCJkZWZhdWx0IiwibG9jYWxzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc2FibGVfdHJhbnNpdGlvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInN0b2NrX2Z1bGwiLCJxdWVyeVNlbGVjdG9yQWxsIiwic3RvY2siLCJzdG9ja19mdWxsX3dyYXBwZXIiLCJzdG9ja19kcm9wZG93bl9maWx0ZXIiLCJpdGVtX3BhcmFtc19saXN0X19pdGVtcyIsIml0ZW1fcGFyYW1zX2xpc3QiLCJsaW5rIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiY29sbGFwc2Vfc2VjdGlvbiIsInNlY3Rpb24iLCJzZWxlY3QiLCJidCIsInRoaXMiLCJzZWxlY3RDb250Iiwic2MiLCJzZWxfcG9zaXRpb24iLCJpbm5lckhUTUwiLCJtb2RhbF9tc2dfb3JnIiwiYnRuX3RvZ2dsZSIsInRvZ2dsZV90eHRfY29udGFpbmVyIiwicGx1cyIsIm1pbnVzIiwiaW5wdXQiLCJtc28iLCJjYiIsInRvZ2dsZUJsb2NrIiwiZGN3IiwiZGMiLCJjYXJkQWN0aXZlIiwibW9kYWwiLCJzd2l0Y2hlcl9fbGFiZWwiLCJhdXRoX3dyYXAiLCJhZiIsImhlYXJ0cyIsImhlYXJ0IiwiYnRuX3RvZyIsImJ0bl90b2dnbGVfY2l0eSIsInNpZGViYXIiLCJzaWRlYmFyX2JhY2siLCJzaWRlYmFyX2Nsb3NlIiwibW9kYWxfYmciLCJidG5fY2xvc2UiLCJzbCIsImNhcmQiLCJhdyIsImF1dGhfdGFicyIsImNoZWNrZWQiLCJkaXNwbGF5IiwiYSIsImJ0bl9saW5rIiwiZm9ybV9zaWduVXAiLCJmb3JtX3JlY292ZXJ5IiwiYmwiLCJwcmV2ZW50RGVmYXVsdCIsIm1vZGFsTGlzdENhdCIsIm1sYyIsImNhdGFsb2dzIiwicG9zaXRpb25zIiwidG9nZ2xlTGlua1BvcyIsInRvZ2dsZUxpbmtDYXQiLCJ0b2dnbGVCdG5Qb3MiLCJ0b2dnbGVCdG5DYXQiLCJ0b2dnbGVCdG4iLCJjb25zb2xlIiwibG9nIiwicGFnZVN0b2NrT3JnIiwicHNvIiwiY2hlY2tib3giLCJnb1RvIiwicGFuZWwiLCJjaHgiLCJzdGFydFRpbWUiLCJtb21lbnQiLCJkaWZmIiwiYnRuTG9vayIsInByaWNlIiwiaW5wdXRQaG9uZSIsImNoYXJhY3RlcnNMaW1pdCIsInNlbGVjdG9yIiwibnVtYmVyT2ZDaGFyIiwiZWxlbWVudCIsInNob3J0VHh0IiwidGV4dENvbnRlbnQiLCJ0cmltIiwic3Vic3RyaW5nIiwiaW5uZXJUZXh0IiwiaXAiLCJyZXBsYWNlIiwiaW5wdXRJbnRlZ2VyIiwicnViIiwia29wZWsiLCJ0eHRJbkluIiwibGFzdENoYXJzIiwic2xpY2UiLCJydWJJbnRlZ2VyIiwiZXJyb3IiLCJzdG9ja01JdGVtcyIsInNtaSIsImRpciIsInJvd3NXcmFwcGVyIiwiaGVscCIsInNjcm9sbFdpZHRoIiwiY2xpZW50V2lkdGgiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlB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QmxCLFFBQVFDLElBQUlpQixFQUFXLFVBdEQvQkwsR0FDQUEsRUFBVzlILFNBQVEsU0FBQ3dJLEdBQ2hCQSxFQUFHM0YsaUJBQWlCLFNBQVMsV0FDekJpQixLQUFLMUgsTUFBUTBILEtBQUsxSCxNQUFNcU0sUUFBUSxTQUFVLFdBTzlDWixFQUFRdEssU0FBUzJGLGlCQUFpQixXQUdsQzJFLEVBQU03SCxTQUFRLFNBQUMvQyxHQUNYLElBQUl5TCxFQUFlekwsRUFBRVksY0FBYyx5QkFDL0I4SyxFQUFlMUwsRUFBRVksY0FBYyxlQUMvQitLLEVBQWUzTCxFQUFFWSxjQUFjLGlCQUcvQmdMLEVBQVVILEVBQWFILFVBQVVuRyxXQU1qQzBHLEVBQVlELEVBQVFFLE9BQU8sR0FDL0I5QixRQUFRQyxJQUFJNEIsR0FFWixJQUFJRSxFQUFhSCxFQUFRRSxNQUFNLEdBQUksR0FHbkNKLEVBQUl6RSxVQUFjOEUsRUFDbEJKLEVBQU0xRSxVQUFZNEUsS0FJdEI3QixRQUFRZ0MsTUFBTSxtRkF3QnRCbEIsRUFBZ0Isb0JBQXFCLElBRXJDQSxFQUFnQix5QkFBMEIsSUFHMUMsSUFBSW1CLEVBQWMzTCxTQUFTMkYsaUJBQWlCLGtCQUV4Q2dHLEdBRUFBLEVBQVlsSixTQUFRLFNBQUNtSixHQUNqQmxDLFFBQVFtQyxJQUFJRCxHQUdaLElBQUlFLEVBQWNGLEVBQUl0TCxjQUFjLHVCQUNoQ3lMLEVBQU9ILEVBQUl0TCxjQUFjLG9CQUM3Qm9KLFFBQVFDLElBQUksTUFFWkQsUUFBUW1DLElBQUlFLEdBQ1pyQyxRQUFRbUMsSUFBSUMsR0FDWnBDLFFBQVFDLElBQUksV0FBYW1DLEVBQVlFLFlBQWMsY0FBZ0JGLEVBQVlHLGFBRTNFSCxFQUFZRSxhQUFlRixFQUFZRyxjQUV2Q3ZDLFFBQVFDLElBQUksV0FBYW1DLEVBQVlFLGFBQ3JDRCxFQUFLM0osTUFBTXNHLFFBQVUiLCJmaWxlIjoianMvZHMtdXRpbHMuanM/ODg5NGNlZjRmMmE1ZTUzMjM5NTUiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMzApO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanM/P3JlZi0tMi0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTItMiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTItMyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMi00IS4vX2RzLXV0aWxzLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIi8vINCS0YHQv9C+0LzQvtCz0LDRgtC10LvRjNC90YvQtSDRhNGD0L3QutGG0LjQuCDQv9GA0L7QtdC60YLQsCAo0LTQtdC80L7QvdGB0YLRgNCw0YbQuNGPINC40L3RgtC10YDQsNC60YLQuNCy0L3QvtGB0YLQuClcblxuLy8g0L7RgtC60YDRi9GC0LjQtSDQv9C+0LvQvdC+0Lkg0LjQvdGE0Ysg0L4g0LfQsNC60YPQv9C60LVcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gICAgY29uc3QgZGlzYWJsZV90cmFuc2l0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kaXNhYmxlLXRyYW5zaXRpb25cIik7XG4gICAgaWYgKGRpc2FibGVfdHJhbnNpdGlvbikge1xuICAgICAgICBkaXNhYmxlX3RyYW5zaXRpb24uY2xhc3NMaXN0LnRvZ2dsZShcImRpc2FibGUtdHJhbnNpdGlvblwiKTtcbiAgICB9XG59KTtcblxuLy8g0L7RgtC60YDRi9GC0LjQtSDQv9C+0LvQvdC+0Lkg0LjQvdGE0Ysg0L4g0LfQsNC60YPQv9C60LVcbmNvbnN0IHN0b2NrX2Z1bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnN0b2NrLWZ1bGxcIik7XG5pZiAoc3RvY2tfZnVsbCkge1xuICAgIHN0b2NrX2Z1bGwuZm9yRWFjaChzdG9jayA9PiB7XG4gICAgICAgIGNvbnN0IHN0b2NrX2Z1bGxfd3JhcHBlciA9IHN0b2NrLnF1ZXJ5U2VsZWN0b3IoXCIuc3RvY2stZnVsbF9fd3JhcHBlclwiKTtcbiAgICAgICAgY29uc3QgbGlua19vcGVuID0gc3RvY2sucXVlcnlTZWxlY3RvcihcIi5zdG9jay1mdWxsX19leHBhbmRcIik7XG4gICAgICAgIGxpbmtfb3Blbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gc3RvY2tfZnVsbF93cmFwcGVyLmNsYXNzTGlzdC50b2dnbGUoXCJpcy1leHBhbmRlZFwiKSk7XG4gICAgfSk7XG59XG5cbmNvbnN0IHN0b2NrX2Ryb3Bkb3duX2ZpbHRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3RvY2stZHJvcGRvd24tZmlsdGVyXCIpO1xuaWYgKHN0b2NrX2Ryb3Bkb3duX2ZpbHRlcikge1xuICAgIHN0b2NrX2Ryb3Bkb3duX2ZpbHRlci5mb3JFYWNoKGZpbHRlciA9PiB7XG4gICAgICAgIGNvbnN0IGhlYWRpbmcgPSBmaWx0ZXIucXVlcnlTZWxlY3RvcihcIi5zdG9jay1kcm9wZG93bi1maWx0ZXJfX2hlYWRcIik7XG4gICAgICAgIGhlYWRpbmcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGZpbHRlci5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtZXhwYW5kZWRcIikpO1xuICAgIH0pO1xufVxuXG5jb25zdCBpdGVtX3BhcmFtc19saXN0X19pdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaXRlbS1wYXJhbXMtbGlzdF9faXRlbVwiKTtcbmlmIChpdGVtX3BhcmFtc19saXN0X19pdGVtcykge1xuICAgIGl0ZW1fcGFyYW1zX2xpc3RfX2l0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZShcImlzLXNlbGVjdGVkXCIpKTtcbiAgICB9KTtcbn1cblxuY29uc3QgaXRlbV9wYXJhbXNfbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaXRlbS1wYXJhbXMtbGlzdFwiKTtcbmlmIChpdGVtX3BhcmFtc19saXN0X19pdGVtcykge1xuICAgIGl0ZW1fcGFyYW1zX2xpc3QuZm9yRWFjaChsaXN0ID0+IHtcbiAgICAgICAgY29uc3QgbGluayA9IGxpc3QubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICBpZiAobGluaykge1xuICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gbGlzdC5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtZXhwYW5kZWRcIikpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmNvbnN0IGNvbGxhcHNlX3NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvbGxhcHNlLXNlY3Rpb25cIik7XG5pZiAoY29sbGFwc2Vfc2VjdGlvbikge1xuICAgIGNvbGxhcHNlX3NlY3Rpb24uZm9yRWFjaChzZWN0aW9uID0+IHtcbiAgICAgICAgY29uc3QgaGVhZGluZyA9IHNlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5jb2xsYXBzZS1zZWN0aW9uX19oZWFkaW5nXCIpO1xuICAgICAgICBoZWFkaW5nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBzZWN0aW9uLmNsYXNzTGlzdC50b2dnbGUoXCJpcy1leHBhbmRlZFwiKSk7XG4gICAgfSk7XG59XG5cbi8v0JzQvtC00LDQu9C60LhcblxuLy8gPCEtLSDQnNC+0LTQsNC70LrQsCDQutC+0L/QuNGA0L7QstCw0L3QuNC1INC/0L7Qt9C40YbQuNC4IC0tPlxuXG4vL9Cg0LDRgdC60YDRi9GC0LjQtSDRgdC/0LjRgdC60LBcbmxldCBzZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19zZWxlY3RcIik7IC8v0LrQvdC+0L/QutCwINGA0LDRgdC60YDRi9Cy0LDRjtGJ0LDRjyDQsdC70L7QulxuLy/Qn9C10YDQtdCx0LjRgNCw0LXQvCDQstGB0LUg0LrQvdC+0L/QutC4XG5pZiAoc2VsZWN0KSB7XG4gICAgZm9yIChsZXQgYnQgPSAwOyBidCA8IHNlbGVjdC5sZW5ndGg7IGJ0KyspIHtcbiAgICAgICAgc2VsZWN0W2J0XS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoXCJpcy10b2dnbGVcIik7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLy/QktGL0LHQvtGAINC/0L7Qt9C40YbQuNC4XG5cbmxldCBzZWxlY3RDb250ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9fc2VsZWN0XCIpO1xuaWYgKHNlbGVjdENvbnQpIHtcbiAgICBzZWxlY3RDb250LmZvckVhY2goc2MgPT4ge1xuICAgICAgICBsZXQgc2VsX3Bvc2l0aW9uID0gc2MucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc2VsZWN0ZWQtcG9zaXRpb25cIiksXG4gICAgICAgICAgICBsaSA9IHNjLnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaVwiKTtcblxuICAgICAgICBsaS5mb3JFYWNoKGkgPT4ge1xuICAgICAgICAgICAgaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbF9wb3NpdGlvbi5pbm5lckhUTUwgPSBpLmlubmVySFRNTDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuLy8gPCEtLSDQmtCw0YDRgtC+0YfQutCwINGC0L7QstCw0YDQsCDRgSDQutC+0YDQvtGC0LrQuNC8INC40LfQvtCx0YDQsNC20LXQvdC40LXQvCAtLT5cblxubGV0IGJ0bl90b2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idG4tYWJvdXQtZ29vZHNcIiksXG4gICAgdG9nZ2xlX3R4dF9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19nb29kcy1pbmZvXCIpO1xuXG5pZiAoYnRuX3RvZ2dsZSkge1xuICAgIGJ0bl90b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdG9nZ2xlX3R4dF9jb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICB9KTtcbn1cblxuLy8gPCEtLSDQmtC90L7Qv9C60Lgg0YPQv9GA0LDQstC70LXQvdC40Y8g0LrQvtC70LjRh9C10YHRgtCy0L7QvCDRgtC+0LLQsNGA0LAgLS0+XG5sZXQgYnRuX3N1bSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnRuLXN1bVwiKTtcblxuYnRuX3N1bS5mb3JFYWNoKG0gPT4ge1xuICAgIGxldCBwbHVzID0gbS5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1zdW1fX3BsdXNcIiksXG4gICAgICAgIG1pbnVzID0gbS5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1zdW1fX21pbnVzXCIpLFxuICAgICAgICBpbnB1dCA9IG0ucXVlcnlTZWxlY3RvcihcIi5idG4tc3VtX19zdW0tbnVtXCIpO1xuXG4gICAgaWYgKHBsdXMgJiYgbWludXMgJiYgaW5wdXQpIHtcbiAgICAgICAgcGx1cy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaW5wdXQudmFsdWUrKztcbiAgICAgICAgfSk7XG4gICAgICAgIG1pbnVzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBpbnB1dC52YWx1ZS0tO1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLy/Ql9Cw0LrRgNGL0YLQuNC1INC60LDRgNGC0LjQvdC+0Log0LIg0LzQvtC00LDQu9C60LUgXCLQodC+0L7QsdGJ0LXQvdC40LUg0L7RgNCz0LDQvdC40LfQsNGC0L7RgNGDXCJcbigoKSA9PiB7XG4gICAgbGV0IG1vZGFsX21zZ19vcmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsLW1lc3NhZ2UtZm9yLW9yZ1wiKTtcbiAgICBpZiAobW9kYWxfbXNnX29yZykge1xuICAgICAgICBtb2RhbF9tc2dfb3JnLmZvckVhY2gobXNvID0+IHtcbiAgICAgICAgICAgIGxldCBjbG9zZV9idG4gPSBtc28ucXVlcnlTZWxlY3RvckFsbChcIi5pbWctY29udGFpbmVyX3NtYWxsXCIpO1xuICAgICAgICAgICAgY2xvc2VfYnRuLmZvckVhY2goY2IgPT4ge1xuICAgICAgICAgICAgICAgIGNiLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG5cbi8vIDwhLS0g0KHQtdGA0LTQtdGH0LrQviAtLT5cblxubGV0IGhlYXJ0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaWNvbi1oZWFydC1ib2xkXCIpO1xuXG5pZiAoaGVhcnRzKSB7XG4gICAgaGVhcnRzLmZvckVhY2goaGVhcnQgPT4ge1xuICAgICAgICBoZWFydC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaGVhcnQuY2xhc3NMaXN0LnRvZ2dsZShcImljb24taGVhcnQtZmlsbGVkXCIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuLy/QoNCw0LfQstC+0YDQsNGH0LjQstCw0Y7RidC40LnRgdGPINCx0LvQvtC6XG4oKCkgPT4ge1xuICAgIGxldCB0b2dnbGVCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29sbGFwc2UtYmxvY2tcIik7XG5cbiAgICBpZiAodG9nZ2xlQmxvY2spIHtcbiAgICAgICAgdG9nZ2xlQmxvY2suZm9yRWFjaCh0ID0+IHtcbiAgICAgICAgICAgIGxldCB0b2dnbGVCdG4gPSB0LnF1ZXJ5U2VsZWN0b3IoXCIuY29sbGFwc2UtYmxvY2tfX2hlYWRlclwiKTtcbiAgICAgICAgICAgIHRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHQuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuXG4vL9Ch0LLQvtGA0LDRh9C40LLQsNC90LjQtSDQtNC+0YHRgtCw0LLQutC4INCyINC80L7QsdC40LvQutC1XG4oKCkgPT4ge1xuICAgIGxldCBkY3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRlbGl2ZXJ5X19tb2JpbGVcIik7XG5cbiAgICBpZiAoZGN3KSB7XG4gICAgICAgIGRjdy5mb3JFYWNoKGQgPT4ge1xuICAgICAgICAgICAgbGV0IGJ0bl90b2cgPSBkLnF1ZXJ5U2VsZWN0b3IoXCIjYnRuLXRvZ2dsZS13cmFwXCIpO1xuXG4gICAgICAgICAgICBpZiAoYnRuX3RvZykge1xuICAgICAgICAgICAgICAgIGJ0bl90b2cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZC5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdG9nZ2xlXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuXG4vL9Ch0LLQvtGA0LDRh9C40LLQsNC90LjQtSDQutCw0YDRgtC+0YfQutC4INCz0L7RgNC+0LTQsCDQsiDQsdC70L7QutC1IC0g0LTQvtGB0YLQsNCy0LrQsCDQutGD0YDRjNC10YDQvtC8ICjQsiDQvNC+0LHQuNC70LrQtSkgKNC90LDQv9GA0LjQvNC10YAg0LrQsNGA0YLQvtGH0LrQsCBcItCh0LDQvNCw0YDQsFwiKVxuKCgpID0+IHtcbiAgICBsZXQgZGMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRlbGl2ZXJ5X19jaXR5XCIpO1xuXG4gICAgaWYgKGRjKSB7XG4gICAgICAgIGRjLmZvckVhY2goZCA9PiB7XG4gICAgICAgICAgICBsZXQgYnRuX3RvZ2dsZV9jaXR5ID0gZC5xdWVyeVNlbGVjdG9yKFwiLmRlbGl2ZXJ5X19jaXR5LWhlYWRlclwiKTtcblxuICAgICAgICAgICAgaWYgKGJ0bl90b2dnbGVfY2l0eSkge1xuICAgICAgICAgICAgICAgIGJ0bl90b2dnbGVfY2l0eS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkLmNsYXNzTGlzdC50b2dnbGUoXCJpcy10b2dnbGVcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG5cbmNvbnN0IHNpZGViYXJfYXJyYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNpZGViYXJcIik7XG5cbnNpZGViYXJfYXJyYXkuZm9yRWFjaChzaWRlYmFyID0+IHtcbiAgICBjb25zdCBzaWRlYmFyX2JhY2sgPSBzaWRlYmFyLnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhcl9fYmFja2dyb3VuZFwiKTtcbiAgICBjb25zdCBzaWRlYmFyX2Nsb3NlID0gc2lkZWJhci5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXJfX2Nsb3NlXCIpO1xuXG4gICAgc2lkZWJhcl9iYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2lkZWJhci5jbGFzc0xpc3QudG9nZ2xlKFwic2lkZWJhcl9pcy1hY3RpdmVcIik7XG4gICAgfSk7XG5cbiAgICBzaWRlYmFyX2Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2lkZWJhci5jbGFzc0xpc3QudG9nZ2xlKFwic2lkZWJhcl9pcy1hY3RpdmVcIik7XG4gICAgfSk7XG59KTtcblxuLy/QmtCw0YDRgtC+0YfQutC4INCw0LrRgtC40LLQvdGL0YUg0LfQsNC60YPQv9C+0LpcblxuKCgpID0+IHtcbiAgICBsZXQgY2FyZEFjdGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FyZC1hY3RpdmUtY3VzdG9tXCIpO1xuXG4gICAgaWYgKGNhcmRBY3RpdmUpIHtcbiAgICAgICAgY2FyZEFjdGl2ZS5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGMuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuXG4vL9CX0LDQutGA0YvRgtC40LUg0LzQvtC00LDQu9C60LhcbigoKSA9PiB7XG4gICAgbGV0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbFwiKTtcblxuICAgIGlmIChtb2RhbCkge1xuICAgICAgICBtb2RhbC5mb3JFYWNoKG0gPT4ge1xuICAgICAgICAgICAgbGV0IG1vZGFsX2JnID0gbS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19iZ1wiKSxcbiAgICAgICAgICAgICAgICBidG5fY2xvc2UgPSBtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J0bi1jbG9zZVwiKTtcblxuICAgICAgICAgICAgaWYgKG1vZGFsX2JnKSB7XG4gICAgICAgICAgICAgICAgbW9kYWxfYmcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtdmlzaWJsZVwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChidG5fY2xvc2UpIHtcbiAgICAgICAgICAgICAgICBidG5fY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtdmlzaWJsZVwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcblxuLy8g0KHQstC+0YDQsNGH0LjQstCw0L3QuNC1L9GA0LDQt9Cy0L7RgNCw0YfQuNCy0LDQvdC40LUg0LLRgdC10YUg0LrQsNGA0YLQvtGH0LXQuiDQvdCwINGB0YLRgNCw0L3QuNGG0LVcbigoKSA9PiB7XG4gICAgbGV0IHN3aXRjaGVyX19sYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3dpdGNoZXJfX2xhYmVsXCIpO1xuICAgIGlmIChzd2l0Y2hlcl9fbGFiZWwpIHtcbiAgICAgICAgc3dpdGNoZXJfX2xhYmVsLmZvckVhY2goc2wgPT4ge1xuICAgICAgICAgICAgc2wuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FyZC1hY3RpdmUtY3VzdG9tXCIpO1xuICAgICAgICAgICAgICAgIGlmIChjYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcmQuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG5cbi8vINCe0LrQvdC+INCw0LLRgtC+0YDQuNC30LDRhtC40Lgo0L/QtdGA0LXQutC70Y7Rh9C10L3QuNC1INCy0LrQu9Cw0LTQvtC6KVxuKCgpID0+IHtcbiAgICBsZXQgYXV0aF93cmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hdXRoLWZvcm1cIik7XG5cbiAgICBpZiAoYXV0aF93cmFwKSB7XG4gICAgICAgIGF1dGhfd3JhcC5mb3JFYWNoKGF3ID0+IHtcbiAgICAgICAgICAgIGxldCBhdXRoX3RhYnMgPSBhdy5xdWVyeVNlbGVjdG9yKFwiI2F1dGgtdGFic1wiKTtcblxuICAgICAgICAgICAgYXV0aF90YWJzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGF1dGhfdGFicy5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3LmNsYXNzTGlzdC50b2dnbGUoXCJhdXRoLWZvcm1fc2lnbi11cFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYXcucXVlcnlTZWxlY3RvcihcIi5hdXRoLWZvcm1fX2Zvcm0tc2lnbi11cFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgICAgICAgICAgICAgIGF3LnF1ZXJ5U2VsZWN0b3IoXCIuYXV0aC1mb3JtX19mb3JtLXNpZ24taW5cIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF3LmNsYXNzTGlzdC5yZW1vdmUoXCJhdXRoLWZvcm1fc2lnbi11cFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYXcucXVlcnlTZWxlY3RvcihcIi5hdXRoLWZvcm1fX2Zvcm0tc2lnbi11cFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgIGF3LnF1ZXJ5U2VsZWN0b3IoXCIuYXV0aC1mb3JtX19mb3JtLXNpZ24taW5cIikuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuXG4vLyDQutC90L7Qv9C60LAg0L3QsNC30LDQtFxuLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuLy8gICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbi8vICAgICBlbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImRzLWhvbWVcIik7XG4vLyAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGdvX2hvbWUpO1xuLy8gICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuXG4vLyAgICAgZnVuY3Rpb24gZ29faG9tZSgpIHtcbi8vICAgICAgICAgY29uc3QgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xuLy8gICAgICAgICBjb25zdCBvcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuLy8gICAgICAgICBsZXQgcGF0aDtcblxuLy8gICAgICAgICBpZiAoaG9zdC5pbmNsdWRlcyhcImdpdGh1YlwiKSkge1xuLy8gICAgICAgICAgICAgcGF0aCA9IGAke29yaWdpbn0vZGVzaWduLXN5c3RlbS9gO1xuLy8gICAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAgICAgcGF0aCA9IGAke29yaWdpbn1gO1xuLy8gICAgICAgICB9XG5cbi8vICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBwYXRoO1xuLy8gICAgIH1cbi8vIH0pO1xuXG4vLyDQl9Cw0LHRi9C70Lgg0L/QsNGA0L7Qu9GMP1xuKCgpID0+IHtcbiAgICBsZXQgYWYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmF1dGgtZm9ybVwiKTtcblxuICAgIGlmIChhZikge1xuICAgICAgICBhZi5mb3JFYWNoKGEgPT4ge1xuICAgICAgICAgICAgbGV0IGJ0bl9saW5rID0gYS5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fbGluay10by1yZWNvdmVyeS1wYXNzd29yZFwiKSxcbiAgICAgICAgICAgICAgICBmb3JtX3NpZ25VcCA9IGEucXVlcnlTZWxlY3RvcihcIi5hdXRoLWZvcm1fX2Zvcm0tc2lnbi1pblwiKSxcbiAgICAgICAgICAgICAgICBmb3JtX3JlY292ZXJ5ID0gYS5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fZm9ybS1wYXNzd29yZC1yZWNvdmVyeVwiKTtcblxuICAgICAgICAgICAgYnRuX2xpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGJsID0+IHtcbiAgICAgICAgICAgICAgICBibC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGZvcm1fc2lnblVwLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBmb3JtX3JlY292ZXJ5LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcblxuLy8g0J/QkNC90LXQu9GMINGBINC60LDRgtCw0LvQvtCz0LDQvNC4INC00LvRjyDQvtGA0LPQsFxubGV0IG1vZGFsTGlzdENhdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWwtbGlzdC1jYXRhbG9nc1wiKTtcblxuaWYgKG1vZGFsTGlzdENhdCkge1xuICAgIG1vZGFsTGlzdENhdC5mb3JFYWNoKG1sYyA9PiB7XG4gICAgICAgIGxldCBjb250ZW50ID0gbWxjLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY29udGFpbmVyX193cmFwXCIpLFxuICAgICAgICAgICAgY2F0YWxvZ3MgPSBtbGMucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jb250YWluZXJfX2NhdGFsb2dzXCIpLFxuICAgICAgICAgICAgcG9zaXRpb25zID0gbWxjLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY29udGFpbmVyX19wb3NpdGlvbnNcIiksXG4gICAgICAgICAgICB0b2dnbGVMaW5rUG9zID0gbWxjLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtbGlzdC1jYXRhbG9nc19fc2VsZWN0ZWQtcG9zaXRpb24tbGlua1wiKSxcbiAgICAgICAgICAgIHRvZ2dsZUxpbmtDYXQgPSBtbGMucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1saXN0LWNhdGFsb2dzX19zZWxlY3RlZC1jYXRhbG9ncy1saW5rXCIpLFxuICAgICAgICAgICAgdG9nZ2xlQnRuUG9zID0gbWxjLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY29udGFpbmVyX19idG4tcG9zaXRpb25cIiksXG4gICAgICAgICAgICB0b2dnbGVCdG5DYXQgPSBtbGMucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jb250YWluZXJfX2J0bi1jYXRhbG9nc1wiKSxcbiAgICAgICAgICAgIHRvZ2dsZUJ0biA9IG1sYy5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWNvbnRhaW5lcl9fZm9vdGVyLWJ0bi10b2dnbGVcIik7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGNvbnRlbnQgJiZcbiAgICAgICAgICAgIHRvZ2dsZUJ0biAmJlxuICAgICAgICAgICAgdG9nZ2xlTGlua1BvcyAmJlxuICAgICAgICAgICAgdG9nZ2xlTGlua0NhdCAmJlxuICAgICAgICAgICAgdG9nZ2xlQnRuQ2F0ICYmXG4gICAgICAgICAgICB0b2dnbGVCdG5Qb3MgJiZcbiAgICAgICAgICAgIGNhdGFsb2dzICYmXG4gICAgICAgICAgICBwb3NpdGlvbnNcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0b2dnbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb250ZW50LmNsYXNzTGlzdC50b2dnbGUoXCJpcy10b2dnbGVcIik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDbGlja1wiKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdG9nZ2xlTGlua1Bvcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdG9nZ2xlTGlua0NhdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdG9nZ2xlQnRuUG9zLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zLmNsYXNzTGlzdC50b2dnbGUoXCJpcy10b2dnbGVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRvZ2dsZUJ0bkNhdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhdGFsb2dzLmNsYXNzTGlzdC50b2dnbGUoXCJpcy10b2dnbGVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vLyBzdG9jay1kZXNjdG9wLW9yZy12ZXIg0LLRi9C30L7QsiDQv9Cw0L3QtdC70Lgg0L7RgNCz0LBcbmxldCBwYWdlU3RvY2tPcmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnN0b2NrLWRfX21haW5cIik7XG5cbmlmIChwYWdlU3RvY2tPcmcpIHtcbiAgICBwYWdlU3RvY2tPcmcuZm9yRWFjaChwc28gPT4ge1xuICAgICAgICBsZXQgY2hlY2tib3ggPSBwc28ucXVlcnlTZWxlY3RvckFsbChcIi5jaGVja2JveF9faW5wdXRcIiksXG4gICAgICAgICAgICBnb1RvID0gcHNvLnF1ZXJ5U2VsZWN0b3IoXCIuZHMtYnRuX2hvdmVyXCIpLFxuICAgICAgICAgICAgcGFuZWwgPSBwc28ucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1saXN0LWNhdGFsb2dzXCIpO1xuXG4gICAgICAgIGlmIChjaGVja2JveCkge1xuICAgICAgICAgICAgY2hlY2tib3guZm9yRWFjaChjaHggPT4ge1xuICAgICAgICAgICAgICAgIGNoeC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNsaWNrXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFuZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoXCJpcy12aXNpYmxlXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ29Ubykge1xuICAgICAgICAgICAgZ29Uby5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoXCJpcy12aXNpYmxlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxudHJ5IHtcbiAgICAvLyBUaW1lciByZXZlcnNlXG4gICAgbGV0IHN0YXJ0VGltZSA9IG1vbWVudChbMjAyMCwgMSwgMTldKTsgLy/QlNCw0YLQsCDQvdCw0YfQsNC70LBcbiAgICBsZXQgZW5kVGltZSA9IG1vbWVudChbMjAyMCwgMiwgMTddKTsgLy/QlNCw0YLQsCDQvtC60L7QvdGH0LDQvdC40Y9cblxuICAgIGxldCB0ID0gZW5kVGltZS5kaWZmKHN0YXJ0VGltZSwgXCJkYXlzXCIpOyAvL9Cg0JDQt9C90LjRhtCwINC80LXQttC00YMg0L3QsNGH0LDQu9GM0L3QvtC5INC4INC60L7QvdC10YfQvdC+0Lkg0LTQsNGC0L7QuVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGltZXItcmV2ZXJzZV9fdGltZVwiKS5pbm5lckhUTUwgPSB0O1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGF5c1ZpZXdcIikuaW5uZXJIVE1MID0gdDtcblxuICAgIGxldCBidG5Mb29rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9tby1mb3ItYmVnZ2lubmVyc19fYnRuLWxvb2tcIik7XG4gICAgaWYgKGJ0bkxvb2spIHtcbiAgICAgICAgYnRuTG9vay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9tby1mb3ItYmVnZ2lubmVyc1wiKS5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdmlld1wiKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSBjYXRjaCB7fVxuXG5sZXQgaW5wdXRQaG9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNkcy1pbnB1dHMtZm9ybV9fcGhvbmUnKTtcblxuaWYgKGlucHV0UGhvbmUpIHtcbiAgICBpbnB1dFBob25lLmZvckVhY2goKGlwKSA9PiB7XG4gICAgICAgIGlwLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9bXlxcZF0vZywgJycpO1xuICAgICAgICB9KVxuICAgIH0pXG59XG5cbi8vINCY0LfQvNC10L3QtdC90LjQtSDRhtCy0LXRgtCwINC4INGA0LDQt9C80LXRgNCwINGI0YDQuNGE0YLQsCDQutC+0L/QtdC10LogXG4oKCk9PiB7XG4gICAgbGV0IHByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcmljZVwiKTtcblxuICAgIGlmIChwcmljZSkge1xuICAgICAgICBwcmljZS5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgICBsZXQgaW5wdXRJbnRlZ2VyID0gcC5xdWVyeVNlbGVjdG9yKFwiLnByaWNlX19pbnB1dC1pbnRlZ2VyXCIpLFxuICAgICAgICAgICAgICAgIHJ1YiAgICAgICAgICA9IHAucXVlcnlTZWxlY3RvcihcIi5wcmljZV9fcnViXCIpLFxuICAgICAgICAgICAgICAgIGtvcGVrICAgICAgICA9IHAucXVlcnlTZWxlY3RvcihcIi5wcmljZV9fa29wZWtcIik7XG5cbiAgICAgICAgICAgIC8vINCf0L7Qu9GD0YfQsNC10Lwg0YHQvtC00LXRgNC20LjQvNC+0LUg0Y3Qu9C10LzQtdC90YLQsCDQsiDQstC40LTQtSDRgdGC0YDQvtC60LhcbiAgICAgICAgICAgIGxldCB0eHRJbkluID0gaW5wdXRJbnRlZ2VyLmlubmVyVGV4dC50b1N0cmluZygpOyBcblxuICAgICAgICAgICAgLy8g0J/QvtC70YPRh9Cw0LXQvCDRgNCw0LfQvNC10YAg0YjRgNC40YTRgtCwIGtvcGVrU2l6ZVxuICAgICAgICAgICAgLy8gbGV0IGtvcGVrU2l6ZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGN6aykuZm9udFNpemU7XG5cbiAgICAgICAgICAgIC8vINCf0L7Qu9GD0YfQsNC10Lwg0L/QvtGB0LvQtdC00L3QuNC1INGC0YDQuCDRgdC40LzQstC+0LvQsFxuICAgICAgICAgICAgbGV0IGxhc3RDaGFycyA9IHR4dEluSW4uc2xpY2UoLTMpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cobGFzdENoYXJzKTtcbiAgICAgICAgICAgIC8vINCf0L7Qu9GD0YfQsNC10Lwg0YbQtdC70L7QtSDRh9C40YHQu9C+LCDQtNC+INC30LDQv9GP0YLQvtC5XG4gICAgICAgICAgICBsZXQgcnViSW50ZWdlciA9IHR4dEluSW4uc2xpY2UoMCwgLTMpO1xuXG4gICAgICAgICAgICAvLyDQl9Cw0L/QuNGB0YvQstCw0LXQvCDQuNC30LzQtdC90ZHQvdC90YvQtSDQt9C90LDRh9C10L3QuNGPINCyINGN0LvQtdC80LXQvdGC0Ysg0L3QsCDRgdGC0YDQsNC90LjRhtC1ICAgIFxuICAgICAgICAgICAgcnViLmlubmVySFRNTCAgID0gcnViSW50ZWdlcjtcbiAgICAgICAgICAgIGtvcGVrLmlubmVySFRNTCA9IGxhc3RDaGFycztcblxuICAgICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLQndC10YIg0Y3Qu9C10LzQtdC90YLQsCDRgSDQutC70LDRgdGB0L7QvCAuY29sb3Itc2l6ZS1rb3Blay4g0J/RgNC40YHQstC+0LnRgtC1INC60LvQsNGB0YEg0L3QtdC+0LHRhdC+0LTQuNC80L7QvNGDINGN0LvQtdC80LXQvdGC0YNcIik7XG4gICAgICAgIFxuICAgIH1cblxufSkoKTtcblxuLy8g0J7Qs9GA0LDQvdC40YfQtdC90LjQtSDRgtC10LrRgdGC0LAg0Lgg0LTQvtCx0LDQstC70LXQvdC40LUg0YLRgNGR0YUg0YLQvtGH0LXQuiDQsiDQutC+0L3RhtC1XG5mdW5jdGlvbiBjaGFyYWN0ZXJzTGltaXQgKHNlbGVjdG9yLCBudW1iZXJPZkNoYXIpIHtcbiAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoZSk9PiB7XG4gICAgICAgICAgICAvLyDQn9C+0LvRg9GH0LDQtdC8INGB0L7QtNC10YDQttC40LzQvtC1INGN0LvQtdC80LXQvdGC0LBcbiAgICAgICAgICAgIGxldCBpbnB1dFR4dCA9IGUudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAvL9Cf0YDQuCDQv9C+0LzQvtGJ0LggdHJpbSgpINGD0LTQsNC70Y/QtdC8INC/0YDQvtCx0LXQu9GLINCy0L3QsNGH0LDQu9C1INC4INCy0LrQvtC90YbQtSDRgdGC0YDQvtC60LhcbiAgICAgICAgICAgIC8v0J7RgtC+0LHRgNCw0LbQsNC10Lwg0YHRgtGA0L7QutGDINC+0YIg0L/QtdGA0LLQvtCz0L4g0YHQuNC80LLQvtC70LAg0LTQviDRg9C60LDQt9Cw0L3QvdC+0LPQviDQsiBudW1iZXJPZkNoYXJcbiAgICAgICAgICAgIGxldCBzaG9ydFR4dCA9IGlucHV0VHh0LnRyaW0oKS5zdWJzdHJpbmcoMCwgbnVtYmVyT2ZDaGFyKTtcbiAgICAgICAgICAgIC8vINCX0JDQvNC10L3Rj9C10Lwg0YHRgtCw0YDQvtC1INGB0L7QtNC10YDQttC40LzQvtC1INC90LAg0L3QvtCy0L7QtVxuICAgICAgICAgICAgZS5pbm5lclRleHQgPSBzaG9ydFR4dCArIFwiLi4uXCI7IFxuICAgICAgICAgICAgY29uc29sZS5sb2coc2hvcnRUeHQgKyBcIi4uLlwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybjtcbn07XG4vLyDQvtCz0YDQsNC90LjRh9C10L3QuNC1INGB0LjQvNCy0L7Qu9C+0LIg0YMg0L3QsNC30LLQsNC90LjRjyDRgtC+0LLQsNGA0LAg0LIg0LrQvtGA0LfQuNC90LVcbmNoYXJhY3RlcnNMaW1pdChcIi5jYXJ0X19pdGVtLXRpdGxlXCIsIDU1KTtcbi8vINC+0LPRgNCw0L3QuNGH0LXQvdC40LUg0YHQuNC80LLQvtC70L7QsiDRgyDQvdCw0LfQstCw0L3QuNGPINC30LDQutGD0L/QutC4INCyINC60L7RgNC30LjQvdC1XG5jaGFyYWN0ZXJzTGltaXQoXCIuY2FydF9fcHVyaGFzZS1oZWFkaW5nXCIsIDgzKTtcblxuXG5sZXQgc3RvY2tNSXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnN0b2NrLW0taXRlbXNcIik7XG5cbmlmIChzdG9ja01JdGVtcykge1xuXG4gICAgc3RvY2tNSXRlbXMuZm9yRWFjaCgoc21pKT0+IHtcbiAgICAgICAgY29uc29sZS5kaXIoc21pKTtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBsZXQgcm93c1dyYXBwZXIgPSBzbWkucXVlcnlTZWxlY3RvcignLnN0b2NrLXJvd3NfX3ZhbHVlcycpO1xuICAgICAgICBsZXQgaGVscCA9IHNtaS5xdWVyeVNlbGVjdG9yKCcuc3RvY2stcm93cy1oZWxwJylcbiAgICAgICAgY29uc29sZS5sb2coXCJPa1wiKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUuZGlyKGhlbHApO1xuICAgICAgICBjb25zb2xlLmRpcihyb3dzV3JhcHBlcik7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzY3JvbGwgPCcgKyByb3dzV3JhcHBlci5zY3JvbGxXaWR0aCArICfQp9C10Lwg0YjQuNGA0LjQvdCwICcgKyByb3dzV3JhcHBlci5jbGllbnRXaWR0aCk7XG5cbiAgICAgICAgaWYgKHJvd3NXcmFwcGVyLnNjcm9sbFdpZHRoIDw9IHJvd3NXcmFwcGVyLmNsaWVudFdpZHRoKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzY3JvbGwgPCcgKyByb3dzV3JhcHBlci5zY3JvbGxXaWR0aCk7XG4gICAgICAgICAgICBoZWxwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7ICAgICAgICBcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0=