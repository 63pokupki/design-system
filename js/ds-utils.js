!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=30)}({2:function(e,t,n){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},c=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function l(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},o=[],r=0;r<e.length;r++){var c=e[r],a=t.base?c[0]+t.base:c[0],s=n[a]||0,u="".concat(a," ").concat(s);n[a]=s+1;var d=l(u),f={css:c[1],media:c[2],sourceMap:c[3]};-1!==d?(i[d].references++,i[d].updater(f)):i.push({identifier:u,updater:y(f,t),references:1}),o.push(u)}return o}function s(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var i=c(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var c=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(c,i[t]):e.appendChild(c)}}function m(e,t,n){var o=n.css,r=n.media,c=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),c&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(c))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var g=null,v=0;function y(e,t){var n,o,r;if(t.singleton){var c=v++;n=g||(g=s(t)),o=f.bind(null,n,c,!1),r=f.bind(null,n,c,!0)}else n=s(t),o=m.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=l(n[o]);i[r].references--}for(var c=a(e,t),s=0;s<n.length;s++){var u=l(n[s]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}n=c}}}},30:function(e,t,n){n(31),e.exports=n(33)},31:function(e,t,n){var o=n(2),r=n(32);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1},i=(o(r,c),r.locals?r.locals:{});e.exports=i},32:function(e,t,n){},33:function(e,t){window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".disable-transition");e&&e.classList.toggle("disable-transition")}));var n=document.querySelectorAll(".stock-full");n&&n.forEach((function(e){var t=e.querySelector(".stock-full__wrapper");e.querySelector(".stock-full__expand").addEventListener("click",(function(){return t.classList.toggle("is-expanded")}))}));var o=document.querySelectorAll(".stock-dropdown-filter");o&&o.forEach((function(e){e.querySelector(".stock-dropdown-filter__head").addEventListener("click",(function(){return e.classList.toggle("is-expanded")}))}));var r=document.querySelectorAll(".item-params-list__item");r&&r.forEach((function(e){e.addEventListener("click",(function(){return e.classList.toggle("is-selected")}))}));var c=document.querySelectorAll(".item-params-list");r&&c.forEach((function(e){var t=e.nextElementSibling;t&&t.addEventListener("click",(function(){return e.classList.toggle("is-expanded")}))}));var i=document.querySelectorAll(".collapse-section");i&&i.forEach((function(e){e.querySelector(".collapse-section__heading").addEventListener("click",(function(){return e.classList.toggle("is-expanded")}))}));var l=document.querySelectorAll(".modal__select");if(l)for(var a=0;a<l.length;a++)l[a].addEventListener("click",(function(){this.classList.toggle("is-toggle")}));var s=document.querySelectorAll(".modal__select");s&&s.forEach((function(e){var t=e.querySelector(".modal__selected-position");e.querySelectorAll("li").forEach((function(e){e.addEventListener("click",(function(){t.innerHTML=e.innerHTML}))}))}));var u,d=document.querySelector(".modal__btn-about-goods"),f=document.querySelector(".modal__goods-info");d&&d.addEventListener("click",(function(){f.classList.toggle("is-toggle")})),document.querySelectorAll(".btn-sum").forEach((function(e){var t=e.querySelector(".btn-sum__plus"),n=e.querySelector(".btn-sum__minus"),o=e.querySelector(".btn-sum__sum-num");t&&n&&o&&(t.addEventListener("click",(function(){o.value++})),n.addEventListener("click",(function(){o.value--})))})),(u=document.querySelectorAll(".modal-message-for-org"))&&u.forEach((function(e){e.querySelectorAll(".img-container_small").forEach((function(e){e.addEventListener("click",(function(){e.parentNode.removeChild(e)}))}))}));var m,g,v,y,_,p,h,S,b=document.querySelectorAll(".icon-heart-bold");b&&b.forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("icon-heart-filled")}))})),(m=document.querySelectorAll(".collapse-block"))&&m.forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),(g=document.querySelectorAll(".delivery__mobile"))&&g.forEach((function(e){var t=e.querySelector("#btn-toggle-wrap");t&&t.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),(v=document.querySelectorAll(".delivery__city"))&&v.forEach((function(e){var t=e.querySelector(".delivery__city-header");t&&t.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),document.querySelectorAll(".sidebar").forEach((function(e){var t=e.querySelector(".sidebar__background"),n=e.querySelector(".sidebar__close");t.addEventListener("click",(function(){e.classList.toggle("sidebar_is-active")})),n.addEventListener("click",(function(){e.classList.toggle("sidebar_is-active")}))})),(y=document.querySelectorAll(".card-active-custom"))&&y.forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),(_=document.querySelectorAll(".modal"))&&_.forEach((function(e){var t=e.querySelector(".modal__bg"),n=e.querySelector(".modal__btn-close");t&&t.addEventListener("click",(function(){e.classList.remove("is-visible")})),n&&n.addEventListener("click",(function(){e.classList.remove("is-visible")}))})),(p=document.querySelectorAll(".switcher__label"))&&p.forEach((function(e){e.addEventListener("click",(function(){var e=document.querySelectorAll(".card-active-custom");e&&e.forEach((function(e){e.classList.toggle("is-toggle")}))}))})),(h=document.querySelectorAll(".auth-form"))&&h.forEach((function(e){var t=e.querySelector("#auth-tabs");t.addEventListener("click",(function(){!0===t.checked?(e.classList.toggle("auth-form_sign-up"),e.querySelector(".auth-form__form-sign-up").style.display="flex",e.querySelector(".auth-form__form-sign-in").style.display="none"):(e.classList.remove("auth-form_sign-up"),e.querySelector(".auth-form__form-sign-up").style.display="none",e.querySelector(".auth-form__form-sign-in").style.display="flex")}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.createElement("div");e.setAttribute("class","ds-home"),e.addEventListener("click",(function(){var e,t=window.location.host,n=window.location.origin;e=t.includes("github")?"".concat(n,"/design-system/"):"".concat(n);window.location.href=e})),document.body.appendChild(e)})),(S=document.querySelectorAll(".auth-form"))&&S.forEach((function(e){var t=e.querySelector(".auth-form__link-to-recovery-password"),n=e.querySelector(".auth-form__form-sign-in"),o=e.querySelector(".auth-form__form-password-recovery");t.addEventListener("click",(function(e){e.preventDefault(),n.style.display="none",o.style.display="block"}))}));var L=document.querySelectorAll(".modal-list-catalogs");L&&L.forEach((function(e){var t=e.querySelector(".modal-container__wrap"),n=e.querySelector(".modal-container__catalogs"),o=e.querySelector(".modal-container__positions"),r=e.querySelector(".modal-list-catalogs__selected-position-link"),c=e.querySelector(".modal-list-catalogs__selected-catalogs-link"),i=e.querySelector(".modal-container__btn-position"),l=e.querySelector(".modal-container__btn-catalogs"),a=e.querySelector(".modal-container__footer-btn-toggle");t&&a&&r&&c&&l&&i&&n&&o&&(a.addEventListener("click",(function(){t.classList.toggle("is-toggle"),console.log("Click")})),r.addEventListener("click",(function(){t.classList.toggle("is-toggle")})),c.addEventListener("click",(function(){t.classList.toggle("is-toggle")})),i.addEventListener("click",(function(){o.classList.toggle("is-toggle")})),l.addEventListener("click",(function(){n.classList.toggle("is-toggle")})))}));var E=document.querySelectorAll(".stock-d__main");E&&E.forEach((function(e){var t=e.querySelectorAll(".checkbox__input"),n=e.querySelector(".ds-btn_hover"),o=e.querySelector(".modal-list-catalogs");t&&t.forEach((function(e){e.addEventListener("click",(function(){console.log("Click"),o&&o.classList.toggle("is-visible")}))})),n&&n.addEventListener("click",(function(){o.classList.toggle("is-visible")}))}));try{var q=moment([2020,1,19]),k=moment([2020,2,17]).diff(q,"days");document.querySelector(".timer-reverse__time").innerHTML=k,document.querySelector("#daysView").innerHTML=k;var A=document.querySelector(".promo-for-begginners__btn-look");A&&A.addEventListener("click",(function(){document.querySelector(".promo-for-begginners").classList.toggle("is-view")}))}catch(e){}var w=document.querySelectorAll("#ds-inputs-form__phone");w&&w.forEach((function(e){e.addEventListener("keyup",(function(){this.value=this.value.replace(/[^\d]/g,"")}))}))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMvdXRpbHMvX2RzLXV0aWxzLnNjc3M/ZGIxZSIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm1lbW8iLCJpc09sZElFIiwiQm9vbGVhbiIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsImxlbmd0aCIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImlkIiwiYmFzZSIsImNvdW50IiwiY29uY2F0IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwicHVzaCIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwidG9TdHJpbmciLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsInNwbGljZSIsImFwaSIsImNvbnRlbnQiLCJkZWZhdWx0IiwiZXhwb3J0ZWQiLCJsb2NhbHMiLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzYWJsZV90cmFuc2l0aW9uIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwic3RvY2tfZnVsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzdG9jayIsInN0b2NrX2Z1bGxfd3JhcHBlciIsInN0b2NrX2Ryb3Bkb3duX2ZpbHRlciIsIml0ZW1fcGFyYW1zX2xpc3RfX2l0ZW1zIiwiaXRlbV9wYXJhbXNfbGlzdCIsImxpbmsiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJjb2xsYXBzZV9zZWN0aW9uIiwic2VjdGlvbiIsInNlbGVjdCIsImJ0IiwidGhpcyIsInNlbGVjdENvbnQiLCJzYyIsInNlbF9wb3NpdGlvbiIsImlubmVySFRNTCIsIm1vZGFsX21zZ19vcmciLCJidG5fdG9nZ2xlIiwidG9nZ2xlX3R4dF9jb250YWluZXIiLCJwbHVzIiwibWludXMiLCJpbnB1dCIsIm1zbyIsImNiIiwidG9nZ2xlQmxvY2siLCJkY3ciLCJkYyIsImNhcmRBY3RpdmUiLCJtb2RhbCIsInN3aXRjaGVyX19sYWJlbCIsImF1dGhfd3JhcCIsImFmIiwiaGVhcnRzIiwiaGVhcnQiLCJidG5fdG9nIiwiYnRuX3RvZ2dsZV9jaXR5Iiwic2lkZWJhciIsInNpZGViYXJfYmFjayIsInNpZGViYXJfY2xvc2UiLCJtb2RhbF9iZyIsImJ0bl9jbG9zZSIsInNsIiwiY2FyZCIsImF3IiwiYXV0aF90YWJzIiwiY2hlY2tlZCIsImRpc3BsYXkiLCJlbCIsInBhdGgiLCJob3N0IiwibG9jYXRpb24iLCJvcmlnaW4iLCJpbmNsdWRlcyIsImhyZWYiLCJib2R5IiwiYSIsImJ0bl9saW5rIiwiZm9ybV9zaWduVXAiLCJmb3JtX3JlY292ZXJ5IiwiYmwiLCJwcmV2ZW50RGVmYXVsdCIsIm1vZGFsTGlzdENhdCIsIm1sYyIsImNhdGFsb2dzIiwicG9zaXRpb25zIiwidG9nZ2xlTGlua1BvcyIsInRvZ2dsZUxpbmtDYXQiLCJ0b2dnbGVCdG5Qb3MiLCJ0b2dnbGVCdG5DYXQiLCJ0b2dnbGVCdG4iLCJjb25zb2xlIiwibG9nIiwicGFnZVN0b2NrT3JnIiwicHNvIiwiY2hlY2tib3giLCJnb1RvIiwicGFuZWwiLCJjaHgiLCJzdGFydFRpbWUiLCJtb21lbnQiLCJkaWZmIiwiYnRuTG9vayIsImlucHV0UGhvbmUiLCJpcCIsInJlcGxhY2UiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdB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LEtBQUszSCxNQUFRMkgsS0FBSzNILE1BQU1vTSxRQUFRLFNBQVUiLCJmaWxlIjoianMvZHMtdXRpbHMuanM/ZWM2NjI2MGM0MTdiZWVkNzI1NDYiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMzApO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanM/P3JlZi0tMi0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTItMiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTItMyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMi00IS4vX2RzLXV0aWxzLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7IiwiLy8g0JLRgdC/0L7QvNC+0LPQsNGC0LXQu9GM0L3Ri9C1INGE0YPQvdC60YbQuNC4INC/0YDQvtC10LrRgtCwICjQtNC10LzQvtC90YHRgtGA0LDRhtC40Y8g0LjQvdGC0LXRgNCw0LrRgtC40LLQvdC+0YHRgtC4KVxuXG4vLyDQvtGC0LrRgNGL0YLQuNC1INC/0L7Qu9C90L7QuSDQuNC90YTRiyDQviDQt9Cw0LrRg9C/0LrQtVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgICBjb25zdCBkaXNhYmxlX3RyYW5zaXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRpc2FibGUtdHJhbnNpdGlvblwiKTtcbiAgICBpZiAoZGlzYWJsZV90cmFuc2l0aW9uKSB7XG4gICAgICAgIGRpc2FibGVfdHJhbnNpdGlvbi5jbGFzc0xpc3QudG9nZ2xlKFwiZGlzYWJsZS10cmFuc2l0aW9uXCIpO1xuICAgIH1cbn0pO1xuXG4vLyDQvtGC0LrRgNGL0YLQuNC1INC/0L7Qu9C90L7QuSDQuNC90YTRiyDQviDQt9Cw0LrRg9C/0LrQtVxuY29uc3Qgc3RvY2tfZnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3RvY2stZnVsbFwiKTtcbmlmIChzdG9ja19mdWxsKSB7XG4gICAgc3RvY2tfZnVsbC5mb3JFYWNoKHN0b2NrID0+IHtcbiAgICAgICAgY29uc3Qgc3RvY2tfZnVsbF93cmFwcGVyID0gc3RvY2sucXVlcnlTZWxlY3RvcihcIi5zdG9jay1mdWxsX193cmFwcGVyXCIpO1xuICAgICAgICBjb25zdCBsaW5rX29wZW4gPSBzdG9jay5xdWVyeVNlbGVjdG9yKFwiLnN0b2NrLWZ1bGxfX2V4cGFuZFwiKTtcbiAgICAgICAgbGlua19vcGVuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBzdG9ja19mdWxsX3dyYXBwZXIuY2xhc3NMaXN0LnRvZ2dsZShcImlzLWV4cGFuZGVkXCIpKTtcbiAgICB9KTtcbn1cblxuY29uc3Qgc3RvY2tfZHJvcGRvd25fZmlsdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zdG9jay1kcm9wZG93bi1maWx0ZXJcIik7XG5pZiAoc3RvY2tfZHJvcGRvd25fZmlsdGVyKSB7XG4gICAgc3RvY2tfZHJvcGRvd25fZmlsdGVyLmZvckVhY2goZmlsdGVyID0+IHtcbiAgICAgICAgY29uc3QgaGVhZGluZyA9IGZpbHRlci5xdWVyeVNlbGVjdG9yKFwiLnN0b2NrLWRyb3Bkb3duLWZpbHRlcl9faGVhZFwiKTtcbiAgICAgICAgaGVhZGluZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gZmlsdGVyLmNsYXNzTGlzdC50b2dnbGUoXCJpcy1leHBhbmRlZFwiKSk7XG4gICAgfSk7XG59XG5cbmNvbnN0IGl0ZW1fcGFyYW1zX2xpc3RfX2l0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pdGVtLXBhcmFtcy1saXN0X19pdGVtXCIpO1xuaWYgKGl0ZW1fcGFyYW1zX2xpc3RfX2l0ZW1zKSB7XG4gICAgaXRlbV9wYXJhbXNfbGlzdF9faXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gaXRlbS5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtc2VsZWN0ZWRcIikpO1xuICAgIH0pO1xufVxuXG5jb25zdCBpdGVtX3BhcmFtc19saXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pdGVtLXBhcmFtcy1saXN0XCIpO1xuaWYgKGl0ZW1fcGFyYW1zX2xpc3RfX2l0ZW1zKSB7XG4gICAgaXRlbV9wYXJhbXNfbGlzdC5mb3JFYWNoKGxpc3QgPT4ge1xuICAgICAgICBjb25zdCBsaW5rID0gbGlzdC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBsaXN0LmNsYXNzTGlzdC50b2dnbGUoXCJpcy1leHBhbmRlZFwiKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuY29uc3QgY29sbGFwc2Vfc2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29sbGFwc2Utc2VjdGlvblwiKTtcbmlmIChjb2xsYXBzZV9zZWN0aW9uKSB7XG4gICAgY29sbGFwc2Vfc2VjdGlvbi5mb3JFYWNoKHNlY3Rpb24gPT4ge1xuICAgICAgICBjb25zdCBoZWFkaW5nID0gc2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwiLmNvbGxhcHNlLXNlY3Rpb25fX2hlYWRpbmdcIik7XG4gICAgICAgIGhlYWRpbmcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHNlY3Rpb24uY2xhc3NMaXN0LnRvZ2dsZShcImlzLWV4cGFuZGVkXCIpKTtcbiAgICB9KTtcbn1cblxuLy/QnNC+0LTQsNC70LrQuFxuXG4vLyA8IS0tINCc0L7QtNCw0LvQutCwINC60L7Qv9C40YDQvtCy0LDQvdC40LUg0L/QvtC30LjRhtC40LggLS0+XG5cbi8v0KDQsNGB0LrRgNGL0YLQuNC1INGB0L/QuNGB0LrQsFxubGV0IHNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX3NlbGVjdFwiKTsgLy/QutC90L7Qv9C60LAg0YDQsNGB0LrRgNGL0LLQsNGO0YnQsNGPINCx0LvQvtC6XG4vL9Cf0LXRgNC10LHQuNGA0LDQtdC8INCy0YHQtSDQutC90L7Qv9C60LhcbmlmIChzZWxlY3QpIHtcbiAgICBmb3IgKGxldCBidCA9IDA7IGJ0IDwgc2VsZWN0Lmxlbmd0aDsgYnQrKykge1xuICAgICAgICBzZWxlY3RbYnRdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG4vL9CS0YvQsdC+0YAg0L/QvtC30LjRhtC40LhcblxubGV0IHNlbGVjdENvbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19zZWxlY3RcIik7XG5pZiAoc2VsZWN0Q29udCkge1xuICAgIHNlbGVjdENvbnQuZm9yRWFjaChzYyA9PiB7XG4gICAgICAgIGxldCBzZWxfcG9zaXRpb24gPSBzYy5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zZWxlY3RlZC1wb3NpdGlvblwiKSxcbiAgICAgICAgICAgIGxpID0gc2MucXVlcnlTZWxlY3RvckFsbChcImxpXCIpO1xuXG4gICAgICAgIGxpLmZvckVhY2goaSA9PiB7XG4gICAgICAgICAgICBpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsX3Bvc2l0aW9uLmlubmVySFRNTCA9IGkuaW5uZXJIVE1MO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vLyA8IS0tINCa0LDRgNGC0L7Rh9C60LAg0YLQvtCy0LDRgNCwINGBINC60L7RgNC+0YLQutC40Lwg0LjQt9C+0LHRgNCw0LbQtdC90LjQtdC8IC0tPlxuXG5sZXQgYnRuX3RvZ2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J0bi1hYm91dC1nb29kc1wiKSxcbiAgICB0b2dnbGVfdHh0X2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2dvb2RzLWluZm9cIik7XG5cbmlmIChidG5fdG9nZ2xlKSB7XG4gICAgYnRuX3RvZ2dsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0b2dnbGVfdHh0X2NvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdG9nZ2xlXCIpO1xuICAgIH0pO1xufVxuXG4vLyA8IS0tINCa0L3QvtC/0LrQuCDRg9C/0YDQsNCy0LvQtdC90LjRjyDQutC+0LvQuNGH0LXRgdGC0LLQvtC8INGC0L7QstCw0YDQsCAtLT5cbmxldCBidG5fc3VtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idG4tc3VtXCIpO1xuXG5idG5fc3VtLmZvckVhY2gobSA9PiB7XG4gICAgbGV0IHBsdXMgPSBtLnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLXN1bV9fcGx1c1wiKSxcbiAgICAgICAgbWludXMgPSBtLnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLXN1bV9fbWludXNcIiksXG4gICAgICAgIGlucHV0ID0gbS5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1zdW1fX3N1bS1udW1cIik7XG5cbiAgICBpZiAocGx1cyAmJiBtaW51cyAmJiBpbnB1dCkge1xuICAgICAgICBwbHVzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBpbnB1dC52YWx1ZSsrO1xuICAgICAgICB9KTtcbiAgICAgICAgbWludXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIGlucHV0LnZhbHVlLS07XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vL9CX0LDQutGA0YvRgtC40LUg0LrQsNGA0YLQuNC90L7QuiDQsiDQvNC+0LTQsNC70LrQtSBcItCh0L7QvtCx0YnQtdC90LjQtSDQvtGA0LPQsNC90LjQt9Cw0YLQvtGA0YNcIlxuKCgpID0+IHtcbiAgICBsZXQgbW9kYWxfbXNnX29yZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWwtbWVzc2FnZS1mb3Itb3JnXCIpO1xuICAgIGlmIChtb2RhbF9tc2dfb3JnKSB7XG4gICAgICAgIG1vZGFsX21zZ19vcmcuZm9yRWFjaChtc28gPT4ge1xuICAgICAgICAgICAgbGV0IGNsb3NlX2J0biA9IG1zby5xdWVyeVNlbGVjdG9yQWxsKFwiLmltZy1jb250YWluZXJfc21hbGxcIik7XG4gICAgICAgICAgICBjbG9zZV9idG4uZm9yRWFjaChjYiA9PiB7XG4gICAgICAgICAgICAgICAgY2IuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjYik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcblxuLy8gPCEtLSDQodC10YDQtNC10YfQutC+IC0tPlxuXG5sZXQgaGVhcnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pY29uLWhlYXJ0LWJvbGRcIik7XG5cbmlmIChoZWFydHMpIHtcbiAgICBoZWFydHMuZm9yRWFjaChoZWFydCA9PiB7XG4gICAgICAgIGhlYXJ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBoZWFydC5jbGFzc0xpc3QudG9nZ2xlKFwiaWNvbi1oZWFydC1maWxsZWRcIik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vL9Cg0LDQt9Cy0L7RgNCw0YfQuNCy0LDRjtGJ0LjQudGB0Y8g0LHQu9C+0LpcbigoKSA9PiB7XG4gICAgbGV0IHRvZ2dsZUJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb2xsYXBzZS1ibG9ja1wiKTtcblxuICAgIGlmICh0b2dnbGVCbG9jaykge1xuICAgICAgICB0b2dnbGVCbG9jay5mb3JFYWNoKHQgPT4ge1xuICAgICAgICAgICAgdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHQuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuXG4vL9Ch0LLQvtGA0LDRh9C40LLQsNC90LjQtSDQtNC+0YHRgtCw0LLQutC4INCyINC80L7QsdC40LvQutC1XG4oKCkgPT4ge1xuICAgIGxldCBkY3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRlbGl2ZXJ5X19tb2JpbGVcIik7XG5cbiAgICBpZiAoZGN3KSB7XG4gICAgICAgIGRjdy5mb3JFYWNoKGQgPT4ge1xuICAgICAgICAgICAgbGV0IGJ0bl90b2cgPSBkLnF1ZXJ5U2VsZWN0b3IoXCIjYnRuLXRvZ2dsZS13cmFwXCIpO1xuXG4gICAgICAgICAgICBpZiAoYnRuX3RvZykge1xuICAgICAgICAgICAgICAgIGJ0bl90b2cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZC5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdG9nZ2xlXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuXG4vL9Ch0LLQvtGA0LDRh9C40LLQsNC90LjQtSDQutCw0YDRgtC+0YfQutC4INCz0L7RgNC+0LTQsCDQsiDQsdC70L7QutC1IC0g0LTQvtGB0YLQsNCy0LrQsCDQutGD0YDRjNC10YDQvtC8ICjQsiDQvNC+0LHQuNC70LrQtSkgKNC90LDQv9GA0LjQvNC10YAg0LrQsNGA0YLQvtGH0LrQsCBcItCh0LDQvNCw0YDQsFwiKVxuKCgpID0+IHtcbiAgICBsZXQgZGMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRlbGl2ZXJ5X19jaXR5XCIpO1xuXG4gICAgaWYgKGRjKSB7XG4gICAgICAgIGRjLmZvckVhY2goZCA9PiB7XG4gICAgICAgICAgICBsZXQgYnRuX3RvZ2dsZV9jaXR5ID0gZC5xdWVyeVNlbGVjdG9yKFwiLmRlbGl2ZXJ5X19jaXR5LWhlYWRlclwiKTtcblxuICAgICAgICAgICAgaWYgKGJ0bl90b2dnbGVfY2l0eSkge1xuICAgICAgICAgICAgICAgIGJ0bl90b2dnbGVfY2l0eS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkLmNsYXNzTGlzdC50b2dnbGUoXCJpcy10b2dnbGVcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG5cbmNvbnN0IHNpZGViYXJfYXJyYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNpZGViYXJcIik7XG5cbnNpZGViYXJfYXJyYXkuZm9yRWFjaChzaWRlYmFyID0+IHtcbiAgICBjb25zdCBzaWRlYmFyX2JhY2sgPSBzaWRlYmFyLnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhcl9fYmFja2dyb3VuZFwiKTtcbiAgICBjb25zdCBzaWRlYmFyX2Nsb3NlID0gc2lkZWJhci5xdWVyeVNlbGVjdG9yKFwiLnNpZGViYXJfX2Nsb3NlXCIpO1xuXG4gICAgc2lkZWJhcl9iYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2lkZWJhci5jbGFzc0xpc3QudG9nZ2xlKFwic2lkZWJhcl9pcy1hY3RpdmVcIik7XG4gICAgfSk7XG5cbiAgICBzaWRlYmFyX2Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2lkZWJhci5jbGFzc0xpc3QudG9nZ2xlKFwic2lkZWJhcl9pcy1hY3RpdmVcIik7XG4gICAgfSk7XG59KTtcblxuLy/QmtCw0YDRgtC+0YfQutC4INCw0LrRgtC40LLQvdGL0YUg0LfQsNC60YPQv9C+0LpcblxuKCgpID0+IHtcbiAgICBsZXQgY2FyZEFjdGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FyZC1hY3RpdmUtY3VzdG9tXCIpO1xuXG4gICAgaWYgKGNhcmRBY3RpdmUpIHtcbiAgICAgICAgY2FyZEFjdGl2ZS5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGMuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuXG4vL9CX0LDQutGA0YvRgtC40LUg0LzQvtC00LDQu9C60LhcbigoKSA9PiB7XG4gICAgbGV0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbFwiKTtcblxuICAgIGlmIChtb2RhbCkge1xuICAgICAgICBtb2RhbC5mb3JFYWNoKG0gPT4ge1xuICAgICAgICAgICAgbGV0IG1vZGFsX2JnID0gbS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19iZ1wiKSxcbiAgICAgICAgICAgICAgICBidG5fY2xvc2UgPSBtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J0bi1jbG9zZVwiKTtcblxuICAgICAgICAgICAgaWYgKG1vZGFsX2JnKSB7XG4gICAgICAgICAgICAgICAgbW9kYWxfYmcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtdmlzaWJsZVwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChidG5fY2xvc2UpIHtcbiAgICAgICAgICAgICAgICBidG5fY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtdmlzaWJsZVwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcblxuLy8g0KHQstC+0YDQsNGH0LjQstCw0L3QuNC1L9GA0LDQt9Cy0L7RgNCw0YfQuNCy0LDQvdC40LUg0LLRgdC10YUg0LrQsNGA0YLQvtGH0LXQuiDQvdCwINGB0YLRgNCw0L3QuNGG0LVcbigoKSA9PiB7XG4gICAgbGV0IHN3aXRjaGVyX19sYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3dpdGNoZXJfX2xhYmVsXCIpO1xuICAgIGlmIChzd2l0Y2hlcl9fbGFiZWwpIHtcbiAgICAgICAgc3dpdGNoZXJfX2xhYmVsLmZvckVhY2goc2wgPT4ge1xuICAgICAgICAgICAgc2wuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FyZC1hY3RpdmUtY3VzdG9tXCIpO1xuICAgICAgICAgICAgICAgIGlmIChjYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcmQuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG5cbi8vINCe0LrQvdC+INCw0LLRgtC+0YDQuNC30LDRhtC40Lgo0L/QtdGA0LXQutC70Y7Rh9C10L3QuNC1INCy0LrQu9Cw0LTQvtC6KVxuKCgpID0+IHtcbiAgICBsZXQgYXV0aF93cmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hdXRoLWZvcm1cIik7XG5cbiAgICBpZiAoYXV0aF93cmFwKSB7XG4gICAgICAgIGF1dGhfd3JhcC5mb3JFYWNoKGF3ID0+IHtcbiAgICAgICAgICAgIGxldCBhdXRoX3RhYnMgPSBhdy5xdWVyeVNlbGVjdG9yKFwiI2F1dGgtdGFic1wiKTtcblxuICAgICAgICAgICAgYXV0aF90YWJzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGF1dGhfdGFicy5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3LmNsYXNzTGlzdC50b2dnbGUoXCJhdXRoLWZvcm1fc2lnbi11cFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYXcucXVlcnlTZWxlY3RvcihcIi5hdXRoLWZvcm1fX2Zvcm0tc2lnbi11cFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgICAgICAgICAgICAgIGF3LnF1ZXJ5U2VsZWN0b3IoXCIuYXV0aC1mb3JtX19mb3JtLXNpZ24taW5cIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF3LmNsYXNzTGlzdC5yZW1vdmUoXCJhdXRoLWZvcm1fc2lnbi11cFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYXcucXVlcnlTZWxlY3RvcihcIi5hdXRoLWZvcm1fX2Zvcm0tc2lnbi11cFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgIGF3LnF1ZXJ5U2VsZWN0b3IoXCIuYXV0aC1mb3JtX19mb3JtLXNpZ24taW5cIikuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuXG4vLyDQutC90L7Qv9C60LAg0L3QsNC30LDQtFxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImRzLWhvbWVcIik7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGdvX2hvbWUpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpO1xuXG4gICAgZnVuY3Rpb24gZ29faG9tZSgpIHtcbiAgICAgICAgY29uc3QgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0O1xuICAgICAgICBjb25zdCBvcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luO1xuICAgICAgICBsZXQgcGF0aDtcblxuICAgICAgICBpZiAoaG9zdC5pbmNsdWRlcyhcImdpdGh1YlwiKSkge1xuICAgICAgICAgICAgcGF0aCA9IGAke29yaWdpbn0vZGVzaWduLXN5c3RlbS9gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGF0aCA9IGAke29yaWdpbn1gO1xuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBwYXRoO1xuICAgIH1cbn0pO1xuXG4vLyDQl9Cw0LHRi9C70Lgg0L/QsNGA0L7Qu9GMP1xuKCgpID0+IHtcbiAgICBsZXQgYWYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmF1dGgtZm9ybVwiKTtcblxuICAgIGlmIChhZikge1xuICAgICAgICBhZi5mb3JFYWNoKGEgPT4ge1xuICAgICAgICAgICAgbGV0IGJ0bl9saW5rID0gYS5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fbGluay10by1yZWNvdmVyeS1wYXNzd29yZFwiKSxcbiAgICAgICAgICAgICAgICBmb3JtX3NpZ25VcCA9IGEucXVlcnlTZWxlY3RvcihcIi5hdXRoLWZvcm1fX2Zvcm0tc2lnbi1pblwiKSxcbiAgICAgICAgICAgICAgICBmb3JtX3JlY292ZXJ5ID0gYS5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fZm9ybS1wYXNzd29yZC1yZWNvdmVyeVwiKTtcblxuICAgICAgICAgICAgYnRuX2xpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGJsID0+IHtcbiAgICAgICAgICAgICAgICBibC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGZvcm1fc2lnblVwLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICBmb3JtX3JlY292ZXJ5LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcblxuLy8g0J/QkNC90LXQu9GMINGBINC60LDRgtCw0LvQvtCz0LDQvNC4INC00LvRjyDQvtGA0LPQsFxubGV0IG1vZGFsTGlzdENhdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWwtbGlzdC1jYXRhbG9nc1wiKTtcblxuaWYgKG1vZGFsTGlzdENhdCkge1xuICAgIG1vZGFsTGlzdENhdC5mb3JFYWNoKG1sYyA9PiB7XG4gICAgICAgIGxldCBjb250ZW50ID0gbWxjLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY29udGFpbmVyX193cmFwXCIpLFxuICAgICAgICAgICAgY2F0YWxvZ3MgPSBtbGMucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jb250YWluZXJfX2NhdGFsb2dzXCIpLFxuICAgICAgICAgICAgcG9zaXRpb25zID0gbWxjLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY29udGFpbmVyX19wb3NpdGlvbnNcIiksXG4gICAgICAgICAgICB0b2dnbGVMaW5rUG9zID0gbWxjLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtbGlzdC1jYXRhbG9nc19fc2VsZWN0ZWQtcG9zaXRpb24tbGlua1wiKSxcbiAgICAgICAgICAgIHRvZ2dsZUxpbmtDYXQgPSBtbGMucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1saXN0LWNhdGFsb2dzX19zZWxlY3RlZC1jYXRhbG9ncy1saW5rXCIpLFxuICAgICAgICAgICAgdG9nZ2xlQnRuUG9zID0gbWxjLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY29udGFpbmVyX19idG4tcG9zaXRpb25cIiksXG4gICAgICAgICAgICB0b2dnbGVCdG5DYXQgPSBtbGMucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jb250YWluZXJfX2J0bi1jYXRhbG9nc1wiKSxcbiAgICAgICAgICAgIHRvZ2dsZUJ0biA9IG1sYy5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWNvbnRhaW5lcl9fZm9vdGVyLWJ0bi10b2dnbGVcIik7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGNvbnRlbnQgJiZcbiAgICAgICAgICAgIHRvZ2dsZUJ0biAmJlxuICAgICAgICAgICAgdG9nZ2xlTGlua1BvcyAmJlxuICAgICAgICAgICAgdG9nZ2xlTGlua0NhdCAmJlxuICAgICAgICAgICAgdG9nZ2xlQnRuQ2F0ICYmXG4gICAgICAgICAgICB0b2dnbGVCdG5Qb3MgJiZcbiAgICAgICAgICAgIGNhdGFsb2dzICYmXG4gICAgICAgICAgICBwb3NpdGlvbnNcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0b2dnbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb250ZW50LmNsYXNzTGlzdC50b2dnbGUoXCJpcy10b2dnbGVcIik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDbGlja1wiKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdG9nZ2xlTGlua1Bvcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdG9nZ2xlTGlua0NhdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdG9nZ2xlQnRuUG9zLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zLmNsYXNzTGlzdC50b2dnbGUoXCJpcy10b2dnbGVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRvZ2dsZUJ0bkNhdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhdGFsb2dzLmNsYXNzTGlzdC50b2dnbGUoXCJpcy10b2dnbGVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vLyBzdG9jay1kZXNjdG9wLW9yZy12ZXIg0LLRi9C30L7QsiDQv9Cw0L3QtdC70Lgg0L7RgNCz0LBcbmxldCBwYWdlU3RvY2tPcmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnN0b2NrLWRfX21haW5cIik7XG5cbmlmIChwYWdlU3RvY2tPcmcpIHtcbiAgICBwYWdlU3RvY2tPcmcuZm9yRWFjaChwc28gPT4ge1xuICAgICAgICBsZXQgY2hlY2tib3ggPSBwc28ucXVlcnlTZWxlY3RvckFsbChcIi5jaGVja2JveF9faW5wdXRcIiksXG4gICAgICAgICAgICBnb1RvID0gcHNvLnF1ZXJ5U2VsZWN0b3IoXCIuZHMtYnRuX2hvdmVyXCIpLFxuICAgICAgICAgICAgcGFuZWwgPSBwc28ucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1saXN0LWNhdGFsb2dzXCIpO1xuXG4gICAgICAgIGlmIChjaGVja2JveCkge1xuICAgICAgICAgICAgY2hlY2tib3guZm9yRWFjaChjaHggPT4ge1xuICAgICAgICAgICAgICAgIGNoeC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNsaWNrXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFuZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoXCJpcy12aXNpYmxlXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ29Ubykge1xuICAgICAgICAgICAgZ29Uby5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHBhbmVsLmNsYXNzTGlzdC50b2dnbGUoXCJpcy12aXNpYmxlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxudHJ5IHtcbiAgICAvLyBUaW1lciByZXZlcnNlXG4gICAgbGV0IHN0YXJ0VGltZSA9IG1vbWVudChbMjAyMCwgMSwgMTldKTsgLy/QlNCw0YLQsCDQvdCw0YfQsNC70LBcbiAgICBsZXQgZW5kVGltZSA9IG1vbWVudChbMjAyMCwgMiwgMTddKTsgLy/QlNCw0YLQsCDQvtC60L7QvdGH0LDQvdC40Y9cblxuICAgIGxldCB0ID0gZW5kVGltZS5kaWZmKHN0YXJ0VGltZSwgXCJkYXlzXCIpOyAvL9Cg0JDQt9C90LjRhtCwINC80LXQttC00YMg0L3QsNGH0LDQu9GM0L3QvtC5INC4INC60L7QvdC10YfQvdC+0Lkg0LTQsNGC0L7QuVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGltZXItcmV2ZXJzZV9fdGltZVwiKS5pbm5lckhUTUwgPSB0O1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGF5c1ZpZXdcIikuaW5uZXJIVE1MID0gdDtcblxuICAgIGxldCBidG5Mb29rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9tby1mb3ItYmVnZ2lubmVyc19fYnRuLWxvb2tcIik7XG4gICAgaWYgKGJ0bkxvb2spIHtcbiAgICAgICAgYnRuTG9vay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9tby1mb3ItYmVnZ2lubmVyc1wiKS5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdmlld1wiKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSBjYXRjaCB7fVxuXG5sZXQgaW5wdXRQaG9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNkcy1pbnB1dHMtZm9ybV9fcGhvbmUnKTtcblxuaWYgKGlucHV0UGhvbmUpIHtcbiAgICBpbnB1dFBob25lLmZvckVhY2goKGlwKSA9PiB7XG4gICAgICAgIGlwLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9bXlxcZF0vZywgJycpO1xuICAgICAgICB9KVxuICAgIH0pXG59XG5cbi8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkcy1pbnB1dHMtZm9ybV9fcGhvbmUnKS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKCl7XG4vLyAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUucmVwbGFjZSgvW15cXGRdL2csICcnKTtcbi8vIH0pO1xuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0=