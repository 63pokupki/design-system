!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=30)}({2:function(e,t,n){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},c=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function l(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},o=[],r=0;r<e.length;r++){var c=e[r],a=t.base?c[0]+t.base:c[0],s=n[a]||0,u="".concat(a," ").concat(s);n[a]=s+1;var d=l(u),f={css:c[1],media:c[2],sourceMap:c[3]};-1!==d?(i[d].references++,i[d].updater(f)):i.push({identifier:u,updater:y(f,t),references:1}),o.push(u)}return o}function s(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var i=c(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var c=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(c,i[t]):e.appendChild(c)}}function m(e,t,n){var o=n.css,r=n.media,c=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),c&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(c))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var g=null,v=0;function y(e,t){var n,o,r;if(t.singleton){var c=v++;n=g||(g=s(t)),o=f.bind(null,n,c,!1),r=f.bind(null,n,c,!0)}else n=s(t),o=m.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=l(n[o]);i[r].references--}for(var c=a(e,t),s=0;s<n.length;s++){var u=l(n[s]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}n=c}}}},30:function(e,t,n){n(31),e.exports=n(33)},31:function(e,t,n){var o=n(2),r=n(32);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};o(r,c);e.exports=r.locals||{}},32:function(e,t,n){},33:function(e,t){window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".disable-transition");e&&e.classList.toggle("disable-transition")}));var n=document.querySelectorAll(".stock-full");n&&n.forEach((function(e){var t=e.querySelector(".stock-full__wrapper");e.querySelector(".stock-full__expand").addEventListener("click",(function(){return t.classList.toggle("is-expanded")}))}));var o=document.querySelectorAll(".stock-dropdown-filter");o&&o.forEach((function(e){e.querySelector(".stock-dropdown-filter__head").addEventListener("click",(function(){return e.classList.toggle("is-expanded")}))}));var r=document.querySelectorAll(".item-params-list__item");r&&r.forEach((function(e){e.addEventListener("click",(function(){return e.classList.toggle("is-selected")}))}));var c=document.querySelectorAll(".item-params-list");r&&c.forEach((function(e){var t=e.nextElementSibling;t&&t.addEventListener("click",(function(){return e.classList.toggle("is-expanded")}))}));var i=document.querySelectorAll(".collapse-section");i&&i.forEach((function(e){e.querySelector(".collapse-section__heading").addEventListener("click",(function(){return e.classList.toggle("is-expanded")}))}));var l=document.querySelectorAll(".modal__select");if(l)for(var a=0;a<l.length;a++)l[a].addEventListener("click",(function(){this.classList.toggle("is-toggle")}));var s=document.querySelectorAll(".modal__select");s&&s.forEach((function(e){var t=e.querySelector(".modal__selected-position");e.querySelectorAll("li").forEach((function(e){e.addEventListener("click",(function(){t.innerHTML=e.innerHTML}))}))}));var u,d=document.querySelector(".modal__btn-about-goods"),f=document.querySelector(".modal__goods-info");d&&d.addEventListener("click",(function(){f.classList.toggle("is-toggle")})),document.querySelectorAll(".btn-sum").forEach((function(e){var t=e.querySelector(".btn-sum__plus"),n=e.querySelector(".btn-sum__minus"),o=e.querySelector(".btn-sum__sum-num");t&&n&&o&&(t.addEventListener("click",(function(){o.value++})),n.addEventListener("click",(function(){o.value--})))})),(u=document.querySelectorAll(".modal-message-for-org"))&&u.forEach((function(e){e.querySelectorAll(".img-container_small").forEach((function(e){e.addEventListener("click",(function(){e.parentNode.removeChild(e)}))}))}));var m,g,v,y,_,p,h,S,b=document.querySelectorAll(".icon-heart-bold");b&&b.forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("icon-heart-filled")}))})),(m=document.querySelectorAll(".collapse-block"))&&m.forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),(g=document.querySelectorAll(".delivery__mobile"))&&g.forEach((function(e){var t=e.querySelector("#btn-toggle-wrap");t&&t.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),(v=document.querySelectorAll(".delivery__city"))&&v.forEach((function(e){var t=e.querySelector(".delivery__city-header");t&&t.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),document.querySelectorAll(".sidebar").forEach((function(e){var t=e.querySelector(".sidebar__background"),n=e.querySelector(".sidebar__close");t.addEventListener("click",(function(){e.classList.toggle("sidebar_is-active")})),n.addEventListener("click",(function(){e.classList.toggle("sidebar_is-active")}))})),(y=document.querySelectorAll(".card-active-custom"))&&y.forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),(_=document.querySelectorAll(".modal"))&&_.forEach((function(e){var t=e.querySelector(".modal__bg"),n=e.querySelector(".modal__btn-close");t&&t.addEventListener("click",(function(){e.classList.remove("is-visible")})),n&&n.addEventListener("click",(function(){e.classList.remove("is-visible")}))})),(p=document.querySelectorAll(".switcher__label"))&&p.forEach((function(e){e.addEventListener("click",(function(){var e=document.querySelectorAll(".card-active-custom");e&&e.forEach((function(e){e.classList.toggle("is-toggle")}))}))})),(h=document.querySelectorAll(".auth-form"))&&h.forEach((function(e){var t=e.querySelector("#auth-tabs");t.addEventListener("click",(function(){!0===t.checked?(e.classList.toggle("auth-form_sign-up"),e.querySelector(".auth-form__form-sign-up").style.display="flex",e.querySelector(".auth-form__form-sign-in").style.display="none"):(e.classList.remove("auth-form_sign-up"),e.querySelector(".auth-form__form-sign-up").style.display="none",e.querySelector(".auth-form__form-sign-in").style.display="flex")}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.createElement("div");e.setAttribute("class","ds-home"),e.addEventListener("click",(function(){var e,t=window.location.host,n=window.location.origin;e=t.includes("github")?"".concat(n,"/design-system/"):"".concat(n);window.location.href=e})),document.body.appendChild(e)})),(S=document.querySelectorAll(".auth-form"))&&S.forEach((function(e){var t=e.querySelector(".auth-form__link-to-recovery-password"),n=e.querySelector(".auth-form__form-sign-in"),o=e.querySelector(".auth-form__form-password-recovery");t.addEventListener("click",(function(e){e.preventDefault(),n.style.display="none",o.style.display="block"}))}));var L=document.querySelectorAll(".modal-list-catalogs");L&&L.forEach((function(e){var t=e.querySelector(".modal-container__wrap"),n=e.querySelector(".modal-container__catalogs"),o=e.querySelector(".modal-container__positions"),r=e.querySelector(".modal-list-catalogs__selected-position-link"),c=e.querySelector(".modal-list-catalogs__selected-catalogs-link"),i=e.querySelector(".modal-container__btn-position"),l=e.querySelector(".modal-container__btn-catalogs"),a=e.querySelector(".modal-container__footer-btn-toggle");t&&a&&r&&c&&l&&i&&n&&o&&(a.addEventListener("click",(function(){t.classList.toggle("is-toggle"),console.log("Click")})),r.addEventListener("click",(function(){t.classList.toggle("is-toggle")})),c.addEventListener("click",(function(){t.classList.toggle("is-toggle")})),i.addEventListener("click",(function(){o.classList.toggle("is-toggle")})),l.addEventListener("click",(function(){n.classList.toggle("is-toggle")})))}));var E=document.querySelectorAll(".stock-d__main");E&&E.forEach((function(e){var t=e.querySelectorAll(".checkbox__input"),n=e.querySelector(".ds-btn_hover"),o=e.querySelector(".modal-list-catalogs");t&&t.forEach((function(e){e.addEventListener("click",(function(){console.log("Click"),o&&o.classList.toggle("is-visible")}))})),n&&n.addEventListener("click",(function(){o.classList.toggle("is-visible")}))}));try{var q=moment([2020,1,19]),k=moment([2020,2,17]).diff(q,"days");document.querySelector(".timer-reverse__time").innerHTML=k,document.querySelector("#daysView").innerHTML=k;var A=document.querySelector(".promo-for-begginners__btn-look");A&&A.addEventListener("click",(function(){document.querySelector(".promo-for-begginners").classList.toggle("is-view")}))}catch(e){}var w=document.querySelectorAll("#ds-inputs-form__phone");w&&w.forEach((function(e){e.addEventListener("keyup",(function(){this.value=this.value.replace(/[^\d]/g,"")}))}))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMvdXRpbHMvX2RzLXV0aWxzLnNjc3M/ZGIxZSIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm1lbW8iLCJpc09sZElFIiwiQm9vbGVhbiIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsImxlbmd0aCIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImlkIiwiYmFzZSIsImNvdW50IiwiY29uY2F0IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwicHVzaCIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwidG9TdHJpbmciLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsInNwbGljZSIsImFwaSIsImNvbnRlbnQiLCJkZWZhdWx0IiwibG9jYWxzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc2FibGVfdHJhbnNpdGlvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInN0b2NrX2Z1bGwiLCJxdWVyeVNlbGVjdG9yQWxsIiwic3RvY2siLCJzdG9ja19mdWxsX3dyYXBwZXIiLCJzdG9ja19kcm9wZG93bl9maWx0ZXIiLCJpdGVtX3BhcmFtc19saXN0X19pdGVtcyIsIml0ZW1fcGFyYW1zX2xpc3QiLCJsaW5rIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiY29sbGFwc2Vfc2VjdGlvbiIsInNlY3Rpb24iLCJzZWxlY3QiLCJidCIsInRoaXMiLCJzZWxlY3RDb250Iiwic2MiLCJzZWxfcG9zaXRpb24iLCJpbm5lckhUTUwiLCJtb2RhbF9tc2dfb3JnIiwiYnRuX3RvZ2dsZSIsInRvZ2dsZV90eHRfY29udGFpbmVyIiwicGx1cyIsIm1pbnVzIiwiaW5wdXQiLCJtc28iLCJjYiIsInRvZ2dsZUJsb2NrIiwiZGN3IiwiZGMiLCJjYXJkQWN0aXZlIiwibW9kYWwiLCJzd2l0Y2hlcl9fbGFiZWwiLCJhdXRoX3dyYXAiLCJhZiIsImhlYXJ0cyIsImhlYXJ0IiwiYnRuX3RvZyIsImJ0bl90b2dnbGVfY2l0eSIsInNpZGViYXIiLCJzaWRlYmFyX2JhY2siLCJzaWRlYmFyX2Nsb3NlIiwibW9kYWxfYmciLCJidG5fY2xvc2UiLCJzbCIsImNhcmQiLCJhdyIsImF1dGhfdGFicyIsImNoZWNrZWQiLCJkaXNwbGF5IiwiZWwiLCJwYXRoIiwiaG9zdCIsImxvY2F0aW9uIiwib3JpZ2luIiwiaW5jbHVkZXMiLCJocmVmIiwiYm9keSIsImEiLCJidG5fbGluayIsImZvcm1fc2lnblVwIiwiZm9ybV9yZWNvdmVyeSIsImJsIiwicHJldmVudERlZmF1bHQiLCJtb2RhbExpc3RDYXQiLCJtbGMiLCJjYXRhbG9ncyIsInBvc2l0aW9ucyIsInRvZ2dsZUxpbmtQb3MiLCJ0b2dnbGVMaW5rQ2F0IiwidG9nZ2xlQnRuUG9zIiwidG9nZ2xlQnRuQ2F0IiwidG9nZ2xlQnRuIiwiY29uc29sZSIsImxvZyIsInBhZ2VTdG9ja09yZyIsInBzbyIsImNoZWNrYm94IiwiZ29UbyIsInBhbmVsIiwiY2h4Iiwic3RhcnRUaW1lIiwibW9tZW50IiwiZGlmZiIsImJ0bkxvb2siLCJpbnB1dFBob25lIiwiaXAiLCJyZXBsYWNlIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJ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IiwiZmlsZSI6ImpzL2RzLXV0aWxzLmpzPzNmZTIzNWQyYTAzMmE2ODIxMDg4Iiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMwKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzPz9yZWYtLTItMSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0yLTIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS0yLTMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTItNCEuL19kcy11dGlscy5zY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCIvLyDQktGB0L/QvtC80L7Qs9Cw0YLQtdC70YzQvdGL0LUg0YTRg9C90LrRhtC40Lgg0L/RgNC+0LXQutGC0LAgKNC00LXQvNC+0L3RgdGC0YDQsNGG0LjRjyDQuNC90YLQtdGA0LDQutGC0LjQstC90L7RgdGC0LgpXG5cbi8vINC+0YLQutGA0YvRgtC40LUg0L/QvtC70L3QvtC5INC40L3RhNGLINC+INC30LDQutGD0L/QutC1XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGRpc2FibGVfdHJhbnNpdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGlzYWJsZS10cmFuc2l0aW9uXCIpO1xuICAgIGlmIChkaXNhYmxlX3RyYW5zaXRpb24pIHtcbiAgICAgICAgZGlzYWJsZV90cmFuc2l0aW9uLmNsYXNzTGlzdC50b2dnbGUoXCJkaXNhYmxlLXRyYW5zaXRpb25cIik7XG4gICAgfVxufSk7XG5cbi8vINC+0YLQutGA0YvRgtC40LUg0L/QvtC70L3QvtC5INC40L3RhNGLINC+INC30LDQutGD0L/QutC1XG5jb25zdCBzdG9ja19mdWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zdG9jay1mdWxsXCIpO1xuaWYgKHN0b2NrX2Z1bGwpIHtcbiAgICBzdG9ja19mdWxsLmZvckVhY2goc3RvY2sgPT4ge1xuICAgICAgICBjb25zdCBzdG9ja19mdWxsX3dyYXBwZXIgPSBzdG9jay5xdWVyeVNlbGVjdG9yKFwiLnN0b2NrLWZ1bGxfX3dyYXBwZXJcIik7XG4gICAgICAgIGNvbnN0IGxpbmtfb3BlbiA9IHN0b2NrLnF1ZXJ5U2VsZWN0b3IoXCIuc3RvY2stZnVsbF9fZXhwYW5kXCIpO1xuICAgICAgICBsaW5rX29wZW4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHN0b2NrX2Z1bGxfd3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtZXhwYW5kZWRcIikpO1xuICAgIH0pO1xufVxuXG5jb25zdCBzdG9ja19kcm9wZG93bl9maWx0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnN0b2NrLWRyb3Bkb3duLWZpbHRlclwiKTtcbmlmIChzdG9ja19kcm9wZG93bl9maWx0ZXIpIHtcbiAgICBzdG9ja19kcm9wZG93bl9maWx0ZXIuZm9yRWFjaChmaWx0ZXIgPT4ge1xuICAgICAgICBjb25zdCBoZWFkaW5nID0gZmlsdGVyLnF1ZXJ5U2VsZWN0b3IoXCIuc3RvY2stZHJvcGRvd24tZmlsdGVyX19oZWFkXCIpO1xuICAgICAgICBoZWFkaW5nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBmaWx0ZXIuY2xhc3NMaXN0LnRvZ2dsZShcImlzLWV4cGFuZGVkXCIpKTtcbiAgICB9KTtcbn1cblxuY29uc3QgaXRlbV9wYXJhbXNfbGlzdF9faXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLml0ZW0tcGFyYW1zLWxpc3RfX2l0ZW1cIik7XG5pZiAoaXRlbV9wYXJhbXNfbGlzdF9faXRlbXMpIHtcbiAgICBpdGVtX3BhcmFtc19saXN0X19pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBpdGVtLmNsYXNzTGlzdC50b2dnbGUoXCJpcy1zZWxlY3RlZFwiKSk7XG4gICAgfSk7XG59XG5cbmNvbnN0IGl0ZW1fcGFyYW1zX2xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLml0ZW0tcGFyYW1zLWxpc3RcIik7XG5pZiAoaXRlbV9wYXJhbXNfbGlzdF9faXRlbXMpIHtcbiAgICBpdGVtX3BhcmFtc19saXN0LmZvckVhY2gobGlzdCA9PiB7XG4gICAgICAgIGNvbnN0IGxpbmsgPSBsaXN0Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGxpc3QuY2xhc3NMaXN0LnRvZ2dsZShcImlzLWV4cGFuZGVkXCIpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5jb25zdCBjb2xsYXBzZV9zZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb2xsYXBzZS1zZWN0aW9uXCIpO1xuaWYgKGNvbGxhcHNlX3NlY3Rpb24pIHtcbiAgICBjb2xsYXBzZV9zZWN0aW9uLmZvckVhY2goc2VjdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IGhlYWRpbmcgPSBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIuY29sbGFwc2Utc2VjdGlvbl9faGVhZGluZ1wiKTtcbiAgICAgICAgaGVhZGluZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gc2VjdGlvbi5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtZXhwYW5kZWRcIikpO1xuICAgIH0pO1xufVxuXG4vL9Cc0L7QtNCw0LvQutC4XG5cbi8vIDwhLS0g0JzQvtC00LDQu9C60LAg0LrQvtC/0LjRgNC+0LLQsNC90LjQtSDQv9C+0LfQuNGG0LjQuCAtLT5cblxuLy/QoNCw0YHQutGA0YvRgtC40LUg0YHQv9C40YHQutCwXG5sZXQgc2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9fc2VsZWN0XCIpOyAvL9C60L3QvtC/0LrQsCDRgNCw0YHQutGA0YvQstCw0Y7RidCw0Y8g0LHQu9C+0Lpcbi8v0J/QtdGA0LXQsdC40YDQsNC10Lwg0LLRgdC1INC60L3QvtC/0LrQuFxuaWYgKHNlbGVjdCkge1xuICAgIGZvciAobGV0IGJ0ID0gMDsgYnQgPCBzZWxlY3QubGVuZ3RoOyBidCsrKSB7XG4gICAgICAgIHNlbGVjdFtidF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdG9nZ2xlXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8v0JLRi9Cx0L7RgCDQv9C+0LfQuNGG0LjQuFxuXG5sZXQgc2VsZWN0Q29udCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX3NlbGVjdFwiKTtcbmlmIChzZWxlY3RDb250KSB7XG4gICAgc2VsZWN0Q29udC5mb3JFYWNoKHNjID0+IHtcbiAgICAgICAgbGV0IHNlbF9wb3NpdGlvbiA9IHNjLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NlbGVjdGVkLXBvc2l0aW9uXCIpLFxuICAgICAgICAgICAgbGkgPSBzYy5xdWVyeVNlbGVjdG9yQWxsKFwibGlcIik7XG5cbiAgICAgICAgbGkuZm9yRWFjaChpID0+IHtcbiAgICAgICAgICAgIGkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxfcG9zaXRpb24uaW5uZXJIVE1MID0gaS5pbm5lckhUTUw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8vIDwhLS0g0JrQsNGA0YLQvtGH0LrQsCDRgtC+0LLQsNGA0LAg0YEg0LrQvtGA0L7RgtC60LjQvCDQuNC30L7QsdGA0LDQttC10L3QuNC10LwgLS0+XG5cbmxldCBidG5fdG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnRuLWFib3V0LWdvb2RzXCIpLFxuICAgIHRvZ2dsZV90eHRfY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZ29vZHMtaW5mb1wiKTtcblxuaWYgKGJ0bl90b2dnbGUpIHtcbiAgICBidG5fdG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRvZ2dsZV90eHRfY29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJpcy10b2dnbGVcIik7XG4gICAgfSk7XG59XG5cbi8vIDwhLS0g0JrQvdC+0L/QutC4INGD0L/RgNCw0LLQu9C10L3QuNGPINC60L7Qu9C40YfQtdGB0YLQstC+0Lwg0YLQvtCy0LDRgNCwIC0tPlxubGV0IGJ0bl9zdW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ0bi1zdW1cIik7XG5cbmJ0bl9zdW0uZm9yRWFjaChtID0+IHtcbiAgICBsZXQgcGx1cyA9IG0ucXVlcnlTZWxlY3RvcihcIi5idG4tc3VtX19wbHVzXCIpLFxuICAgICAgICBtaW51cyA9IG0ucXVlcnlTZWxlY3RvcihcIi5idG4tc3VtX19taW51c1wiKSxcbiAgICAgICAgaW5wdXQgPSBtLnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLXN1bV9fc3VtLW51bVwiKTtcblxuICAgIGlmIChwbHVzICYmIG1pbnVzICYmIGlucHV0KSB7XG4gICAgICAgIHBsdXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIGlucHV0LnZhbHVlKys7XG4gICAgICAgIH0pO1xuICAgICAgICBtaW51cy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaW5wdXQudmFsdWUtLTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbi8v0JfQsNC60YDRi9GC0LjQtSDQutCw0YDRgtC40L3QvtC6INCyINC80L7QtNCw0LvQutC1IFwi0KHQvtC+0LHRidC10L3QuNC1INC+0YDQs9Cw0L3QuNC30LDRgtC+0YDRg1wiXG4oKCkgPT4ge1xuICAgIGxldCBtb2RhbF9tc2dfb3JnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbC1tZXNzYWdlLWZvci1vcmdcIik7XG4gICAgaWYgKG1vZGFsX21zZ19vcmcpIHtcbiAgICAgICAgbW9kYWxfbXNnX29yZy5mb3JFYWNoKG1zbyA9PiB7XG4gICAgICAgICAgICBsZXQgY2xvc2VfYnRuID0gbXNvLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaW1nLWNvbnRhaW5lcl9zbWFsbFwiKTtcbiAgICAgICAgICAgIGNsb3NlX2J0bi5mb3JFYWNoKGNiID0+IHtcbiAgICAgICAgICAgICAgICBjYi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuXG4vLyA8IS0tINCh0LXRgNC00LXRh9C60L4gLS0+XG5cbmxldCBoZWFydHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmljb24taGVhcnQtYm9sZFwiKTtcblxuaWYgKGhlYXJ0cykge1xuICAgIGhlYXJ0cy5mb3JFYWNoKGhlYXJ0ID0+IHtcbiAgICAgICAgaGVhcnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIGhlYXJ0LmNsYXNzTGlzdC50b2dnbGUoXCJpY29uLWhlYXJ0LWZpbGxlZFwiKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8v0KDQsNC30LLQvtGA0LDRh9C40LLQsNGO0YnQuNC50YHRjyDQsdC70L7QulxuKCgpID0+IHtcbiAgICBsZXQgdG9nZ2xlQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvbGxhcHNlLWJsb2NrXCIpO1xuXG4gICAgaWYgKHRvZ2dsZUJsb2NrKSB7XG4gICAgICAgIHRvZ2dsZUJsb2NrLmZvckVhY2godCA9PiB7XG4gICAgICAgICAgICB0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdC5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdG9nZ2xlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG5cbi8v0KHQstC+0YDQsNGH0LjQstCw0L3QuNC1INC00L7RgdGC0LDQstC60Lgg0LIg0LzQvtCx0LjQu9C60LVcbigoKSA9PiB7XG4gICAgbGV0IGRjdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGVsaXZlcnlfX21vYmlsZVwiKTtcblxuICAgIGlmIChkY3cpIHtcbiAgICAgICAgZGN3LmZvckVhY2goZCA9PiB7XG4gICAgICAgICAgICBsZXQgYnRuX3RvZyA9IGQucXVlcnlTZWxlY3RvcihcIiNidG4tdG9nZ2xlLXdyYXBcIik7XG5cbiAgICAgICAgICAgIGlmIChidG5fdG9nKSB7XG4gICAgICAgICAgICAgICAgYnRuX3RvZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkLmNsYXNzTGlzdC50b2dnbGUoXCJpcy10b2dnbGVcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG5cbi8v0KHQstC+0YDQsNGH0LjQstCw0L3QuNC1INC60LDRgNGC0L7Rh9C60Lgg0LPQvtGA0L7QtNCwINCyINCx0LvQvtC60LUgLSDQtNC+0YHRgtCw0LLQutCwINC60YPRgNGM0LXRgNC+0LwgKNCyINC80L7QsdC40LvQutC1KSAo0L3QsNC/0YDQuNC80LXRgCDQutCw0YDRgtC+0YfQutCwIFwi0KHQsNC80LDRgNCwXCIpXG4oKCkgPT4ge1xuICAgIGxldCBkYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGVsaXZlcnlfX2NpdHlcIik7XG5cbiAgICBpZiAoZGMpIHtcbiAgICAgICAgZGMuZm9yRWFjaChkID0+IHtcbiAgICAgICAgICAgIGxldCBidG5fdG9nZ2xlX2NpdHkgPSBkLnF1ZXJ5U2VsZWN0b3IoXCIuZGVsaXZlcnlfX2NpdHktaGVhZGVyXCIpO1xuXG4gICAgICAgICAgICBpZiAoYnRuX3RvZ2dsZV9jaXR5KSB7XG4gICAgICAgICAgICAgICAgYnRuX3RvZ2dsZV9jaXR5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGQuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcblxuY29uc3Qgc2lkZWJhcl9hcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2lkZWJhclwiKTtcblxuc2lkZWJhcl9hcnJheS5mb3JFYWNoKHNpZGViYXIgPT4ge1xuICAgIGNvbnN0IHNpZGViYXJfYmFjayA9IHNpZGViYXIucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyX19iYWNrZ3JvdW5kXCIpO1xuICAgIGNvbnN0IHNpZGViYXJfY2xvc2UgPSBzaWRlYmFyLnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhcl9fY2xvc2VcIik7XG5cbiAgICBzaWRlYmFyX2JhY2suYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzaWRlYmFyLmNsYXNzTGlzdC50b2dnbGUoXCJzaWRlYmFyX2lzLWFjdGl2ZVwiKTtcbiAgICB9KTtcblxuICAgIHNpZGViYXJfY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzaWRlYmFyLmNsYXNzTGlzdC50b2dnbGUoXCJzaWRlYmFyX2lzLWFjdGl2ZVwiKTtcbiAgICB9KTtcbn0pO1xuXG4vL9Ca0LDRgNGC0L7Rh9C60Lgg0LDQutGC0LjQstC90YvRhSDQt9Cw0LrRg9C/0L7QulxuXG4oKCkgPT4ge1xuICAgIGxldCBjYXJkQWN0aXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXJkLWFjdGl2ZS1jdXN0b21cIik7XG5cbiAgICBpZiAoY2FyZEFjdGl2ZSkge1xuICAgICAgICBjYXJkQWN0aXZlLmZvckVhY2goYyA9PiB7XG4gICAgICAgICAgICBjLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYy5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdG9nZ2xlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG5cbi8v0JfQsNC60YDRi9GC0LjQtSDQvNC+0LTQsNC70LrQuFxuKCgpID0+IHtcbiAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsXCIpO1xuXG4gICAgaWYgKG1vZGFsKSB7XG4gICAgICAgIG1vZGFsLmZvckVhY2gobSA9PiB7XG4gICAgICAgICAgICBsZXQgbW9kYWxfYmcgPSBtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2JnXCIpLFxuICAgICAgICAgICAgICAgIGJ0bl9jbG9zZSA9IG0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnRuLWNsb3NlXCIpO1xuXG4gICAgICAgICAgICBpZiAobW9kYWxfYmcpIHtcbiAgICAgICAgICAgICAgICBtb2RhbF9iZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy12aXNpYmxlXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ0bl9jbG9zZSkge1xuICAgICAgICAgICAgICAgIGJ0bl9jbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy12aXNpYmxlXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuXG4vLyDQodCy0L7RgNCw0YfQuNCy0LDQvdC40LUv0YDQsNC30LLQvtGA0LDRh9C40LLQsNC90LjQtSDQstGB0LXRhSDQutCw0YDRgtC+0YfQtdC6INC90LAg0YHRgtGA0LDQvdC40YbQtVxuKCgpID0+IHtcbiAgICBsZXQgc3dpdGNoZXJfX2xhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zd2l0Y2hlcl9fbGFiZWxcIik7XG4gICAgaWYgKHN3aXRjaGVyX19sYWJlbCkge1xuICAgICAgICBzd2l0Y2hlcl9fbGFiZWwuZm9yRWFjaChzbCA9PiB7XG4gICAgICAgICAgICBzbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXJkLWFjdGl2ZS1jdXN0b21cIik7XG4gICAgICAgICAgICAgICAgaWYgKGNhcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FyZC5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdG9nZ2xlXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcblxuLy8g0J7QutC90L4g0LDQstGC0L7RgNC40LfQsNGG0LjQuCjQv9C10YDQtdC60LvRjtGH0LXQvdC40LUg0LLQutC70LDQtNC+0LopXG4oKCkgPT4ge1xuICAgIGxldCBhdXRoX3dyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmF1dGgtZm9ybVwiKTtcblxuICAgIGlmIChhdXRoX3dyYXApIHtcbiAgICAgICAgYXV0aF93cmFwLmZvckVhY2goYXcgPT4ge1xuICAgICAgICAgICAgbGV0IGF1dGhfdGFicyA9IGF3LnF1ZXJ5U2VsZWN0b3IoXCIjYXV0aC10YWJzXCIpO1xuXG4gICAgICAgICAgICBhdXRoX3RhYnMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXV0aF90YWJzLmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXcuY2xhc3NMaXN0LnRvZ2dsZShcImF1dGgtZm9ybV9zaWduLXVwXCIpO1xuICAgICAgICAgICAgICAgICAgICBhdy5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fZm9ybS1zaWduLXVwXCIpLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgICAgICAgICAgICAgYXcucXVlcnlTZWxlY3RvcihcIi5hdXRoLWZvcm1fX2Zvcm0tc2lnbi1pblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXcuY2xhc3NMaXN0LnJlbW92ZShcImF1dGgtZm9ybV9zaWduLXVwXCIpO1xuICAgICAgICAgICAgICAgICAgICBhdy5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fZm9ybS1zaWduLXVwXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgYXcucXVlcnlTZWxlY3RvcihcIi5hdXRoLWZvcm1fX2Zvcm0tc2lnbi1pblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG5cbi8vINC60L3QvtC/0LrQsCDQvdCw0LfQsNC0XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGVsLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZHMtaG9tZVwiKTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZ29faG9tZSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7XG5cbiAgICBmdW5jdGlvbiBnb19ob21lKCkge1xuICAgICAgICBjb25zdCBob3N0ID0gd2luZG93LmxvY2F0aW9uLmhvc3Q7XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG4gICAgICAgIGxldCBwYXRoO1xuXG4gICAgICAgIGlmIChob3N0LmluY2x1ZGVzKFwiZ2l0aHViXCIpKSB7XG4gICAgICAgICAgICBwYXRoID0gYCR7b3JpZ2lufS9kZXNpZ24tc3lzdGVtL2A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXRoID0gYCR7b3JpZ2lufWA7XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHBhdGg7XG4gICAgfVxufSk7XG5cbi8vINCX0LDQsdGL0LvQuCDQv9Cw0YDQvtC70Yw/XG4oKCkgPT4ge1xuICAgIGxldCBhZiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXV0aC1mb3JtXCIpO1xuXG4gICAgaWYgKGFmKSB7XG4gICAgICAgIGFmLmZvckVhY2goYSA9PiB7XG4gICAgICAgICAgICBsZXQgYnRuX2xpbmsgPSBhLnF1ZXJ5U2VsZWN0b3IoXCIuYXV0aC1mb3JtX19saW5rLXRvLXJlY292ZXJ5LXBhc3N3b3JkXCIpLFxuICAgICAgICAgICAgICAgIGZvcm1fc2lnblVwID0gYS5xdWVyeVNlbGVjdG9yKFwiLmF1dGgtZm9ybV9fZm9ybS1zaWduLWluXCIpLFxuICAgICAgICAgICAgICAgIGZvcm1fcmVjb3ZlcnkgPSBhLnF1ZXJ5U2VsZWN0b3IoXCIuYXV0aC1mb3JtX19mb3JtLXBhc3N3b3JkLXJlY292ZXJ5XCIpO1xuXG4gICAgICAgICAgICBidG5fbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYmwgPT4ge1xuICAgICAgICAgICAgICAgIGJsLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZm9ybV9zaWduVXAuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIGZvcm1fcmVjb3Zlcnkuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuXG4vLyDQn9CQ0L3QtdC70Ywg0YEg0LrQsNGC0LDQu9C+0LPQsNC80Lgg0LTQu9GPINC+0YDQs9CwXG5sZXQgbW9kYWxMaXN0Q2F0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbC1saXN0LWNhdGFsb2dzXCIpO1xuXG5pZiAobW9kYWxMaXN0Q2F0KSB7XG4gICAgbW9kYWxMaXN0Q2F0LmZvckVhY2gobWxjID0+IHtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBtbGMucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jb250YWluZXJfX3dyYXBcIiksXG4gICAgICAgICAgICBjYXRhbG9ncyA9IG1sYy5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWNvbnRhaW5lcl9fY2F0YWxvZ3NcIiksXG4gICAgICAgICAgICBwb3NpdGlvbnMgPSBtbGMucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jb250YWluZXJfX3Bvc2l0aW9uc1wiKSxcbiAgICAgICAgICAgIHRvZ2dsZUxpbmtQb3MgPSBtbGMucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1saXN0LWNhdGFsb2dzX19zZWxlY3RlZC1wb3NpdGlvbi1saW5rXCIpLFxuICAgICAgICAgICAgdG9nZ2xlTGlua0NhdCA9IG1sYy5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWxpc3QtY2F0YWxvZ3NfX3NlbGVjdGVkLWNhdGFsb2dzLWxpbmtcIiksXG4gICAgICAgICAgICB0b2dnbGVCdG5Qb3MgPSBtbGMucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jb250YWluZXJfX2J0bi1wb3NpdGlvblwiKSxcbiAgICAgICAgICAgIHRvZ2dsZUJ0bkNhdCA9IG1sYy5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWNvbnRhaW5lcl9fYnRuLWNhdGFsb2dzXCIpLFxuICAgICAgICAgICAgdG9nZ2xlQnRuID0gbWxjLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY29udGFpbmVyX19mb290ZXItYnRuLXRvZ2dsZVwiKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgY29udGVudCAmJlxuICAgICAgICAgICAgdG9nZ2xlQnRuICYmXG4gICAgICAgICAgICB0b2dnbGVMaW5rUG9zICYmXG4gICAgICAgICAgICB0b2dnbGVMaW5rQ2F0ICYmXG4gICAgICAgICAgICB0b2dnbGVCdG5DYXQgJiZcbiAgICAgICAgICAgIHRvZ2dsZUJ0blBvcyAmJlxuICAgICAgICAgICAgY2F0YWxvZ3MgJiZcbiAgICAgICAgICAgIHBvc2l0aW9uc1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNsaWNrXCIpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0b2dnbGVMaW5rUG9zLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29udGVudC5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdG9nZ2xlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0b2dnbGVMaW5rQ2F0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29udGVudC5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdG9nZ2xlXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0b2dnbGVCdG5Qb3MuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbnMuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdG9nZ2xlQnRuQ2F0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2F0YWxvZ3MuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8vIHN0b2NrLWRlc2N0b3Atb3JnLXZlciDQstGL0LfQvtCyINC/0LDQvdC10LvQuCDQvtGA0LPQsFxubGV0IHBhZ2VTdG9ja09yZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3RvY2stZF9fbWFpblwiKTtcblxuaWYgKHBhZ2VTdG9ja09yZykge1xuICAgIHBhZ2VTdG9ja09yZy5mb3JFYWNoKHBzbyA9PiB7XG4gICAgICAgIGxldCBjaGVja2JveCA9IHBzby5xdWVyeVNlbGVjdG9yQWxsKFwiLmNoZWNrYm94X19pbnB1dFwiKSxcbiAgICAgICAgICAgIGdvVG8gPSBwc28ucXVlcnlTZWxlY3RvcihcIi5kcy1idG5faG92ZXJcIiksXG4gICAgICAgICAgICBwYW5lbCA9IHBzby5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWxpc3QtY2F0YWxvZ3NcIik7XG5cbiAgICAgICAgaWYgKGNoZWNrYm94KSB7XG4gICAgICAgICAgICBjaGVja2JveC5mb3JFYWNoKGNoeCA9PiB7XG4gICAgICAgICAgICAgICAgY2h4LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xpY2tcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYW5lbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXZpc2libGVcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnb1RvKSB7XG4gICAgICAgICAgICBnb1RvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcGFuZWwuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXZpc2libGVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG50cnkge1xuICAgIC8vIFRpbWVyIHJldmVyc2VcbiAgICBsZXQgc3RhcnRUaW1lID0gbW9tZW50KFsyMDIwLCAxLCAxOV0pOyAvL9CU0LDRgtCwINC90LDRh9Cw0LvQsFxuICAgIGxldCBlbmRUaW1lID0gbW9tZW50KFsyMDIwLCAyLCAxN10pOyAvL9CU0LDRgtCwINC+0LrQvtC90YfQsNC90LjRj1xuXG4gICAgbGV0IHQgPSBlbmRUaW1lLmRpZmYoc3RhcnRUaW1lLCBcImRheXNcIik7IC8v0KDQkNC30L3QuNGG0LAg0LzQtdC20LTRgyDQvdCw0YfQsNC70YzQvdC+0Lkg0Lgg0LrQvtC90LXRh9C90L7QuSDQtNCw0YLQvtC5XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50aW1lci1yZXZlcnNlX190aW1lXCIpLmlubmVySFRNTCA9IHQ7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkYXlzVmlld1wiKS5pbm5lckhUTUwgPSB0O1xuXG4gICAgbGV0IGJ0bkxvb2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb21vLWZvci1iZWdnaW5uZXJzX19idG4tbG9va1wiKTtcbiAgICBpZiAoYnRuTG9vaykge1xuICAgICAgICBidG5Mb29rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb21vLWZvci1iZWdnaW5uZXJzXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJpcy12aWV3XCIpO1xuICAgICAgICB9KTtcbiAgICB9XG59IGNhdGNoIHt9XG5cbmxldCBpbnB1dFBob25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2RzLWlucHV0cy1mb3JtX19waG9uZScpO1xuXG5pZiAoaW5wdXRQaG9uZSkge1xuICAgIGlucHV0UGhvbmUuZm9yRWFjaCgoaXApID0+IHtcbiAgICAgICAgaXAuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnJlcGxhY2UoL1teXFxkXS9nLCAnJyk7XG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RzLWlucHV0cy1mb3JtX19waG9uZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24oKXtcbi8vICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9bXlxcZF0vZywgJycpO1xuLy8gfSk7XG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==