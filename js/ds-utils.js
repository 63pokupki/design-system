!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}({0:function(e,t,n){"use strict";var r,o={},i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},c=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function l(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],c=t.base?i[0]+t.base:i[0],l={css:i[1],media:i[2],sourceMap:i[3]};r[c]?r[c].parts.push(l):n.push(r[c]={id:c,parts:[l]})}return n}function a(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id],c=0;if(i){for(i.refs++;c<i.parts.length;c++)i.parts[c](r.parts[c]);for(;c<r.parts.length;c++)i.parts.push(p(r.parts[c],t))}else{for(var l=[];c<r.parts.length;c++)l.push(p(r.parts[c],t));o[r.id]={id:r.id,refs:1,parts:l}}}}function s(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var r=n.nc;r&&(e.attributes.nonce=r)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var o=c(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var i=document.createTextNode(o),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(i,c[t]):e.appendChild(i)}}function v(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o&&e.setAttribute("media",o),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var g=null,m=0;function p(e,t){var n,r,o;if(t.singleton){var i=m++;n=g||(g=s(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=s(t),r=v.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=l(e,t);return a(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var c=n[i],s=o[c.id];s&&(s.refs--,r.push(s))}e&&a(l(e,t),t);for(var u=0;u<r.length;u++){var d=r[u];if(0===d.refs){for(var f=0;f<d.parts.length;f++)d.parts[f]();delete o[d.id]}}}}},20:function(e,t,n){n(21),e.exports=n(23)},21:function(e,t,n){var r=n(22);"string"==typeof r&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(0)(r,o);r.locals&&(e.exports=r.locals)},22:function(e,t,n){},23:function(e,t){window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".disable-transition");e&&e.classList.toggle("disable-transition")}));var n=document.querySelectorAll(".stock-full");n&&n.forEach((function(e){var t=e.querySelector(".stock-full__wrapper");e.querySelector(".stock-full__expand").addEventListener("click",(function(){return t.classList.toggle("is-expanded")}))}));var r=document.querySelectorAll(".stock-dropdown-filter");r&&r.forEach((function(e){e.querySelector(".stock-dropdown-filter__head").addEventListener("click",(function(){return e.classList.toggle("is-expanded")}))}));var o=document.querySelectorAll(".item-params-list__item");o&&o.forEach((function(e){e.addEventListener("click",(function(){return e.classList.toggle("is-selected")}))}));var i=document.querySelectorAll(".item-params-list");o&&i.forEach((function(e){var t=e.nextElementSibling;t&&t.addEventListener("click",(function(){return e.classList.toggle("is-expanded")}))}));var c=document.querySelectorAll(".collapse-section");c&&c.forEach((function(e){e.querySelector(".collapse-section__heading").addEventListener("click",(function(){return e.classList.toggle("is-expanded")}))}));var l=document.querySelectorAll(".modal__select");if(l)for(var a=0;a<l.length;a++)l[a].addEventListener("click",(function(){this.classList.toggle("is-toggle")}));var s=document.querySelectorAll(".modal__select");s&&s.forEach((function(e){var t=e.querySelector(".modal__selected-position");e.querySelectorAll("li").forEach((function(e){e.addEventListener("click",(function(){t.innerHTML=e.innerHTML}))}))}));var u=document.querySelector(".modal__btn-about-goods"),d=document.querySelector(".modal__goods-info");u&&u.addEventListener("click",(function(){d.classList.toggle("is-toggle")})),document.querySelectorAll(".btn-sum").forEach((function(e){var t=e.querySelector(".btn-sum__plus"),n=e.querySelector(".btn-sum__minus"),r=e.querySelector(".btn-sum__sum-num");t&&n&&r&&(t.addEventListener("click",(function(){r.value++})),n.addEventListener("click",(function(){r.value--})))}));var f,v,g,m,p,h,y=document.querySelectorAll(".icon-heart-bold");y&&y.forEach((function(e){e.addEventListener("click",(function(){e.classList.toggle("icon-heart-filled")}))})),(f=document.querySelectorAll(".collapse-block"))&&f.forEach((function(e){var t=e.querySelector(".collapse-block__header");t&&t.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),(v=document.querySelectorAll(".delivery__mobile"))&&v.forEach((function(e){var t=e.querySelector("#btn-toggle-wrap");t&&t.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),(g=document.querySelectorAll(".delivery__city"))&&g.forEach((function(e){var t=e.querySelector(".delivery__city-header");t&&t.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))})),document.querySelectorAll(".sidebar").forEach((function(e){var t=e.querySelector(".sidebar__background"),n=e.querySelector(".sidebar__close");t.addEventListener("click",(function(){e.classList.toggle("sidebar_is-active")})),n.addEventListener("click",(function(){e.classList.toggle("sidebar_is-active")}))})),(m=document.querySelectorAll(".card-active-custom"))&&m.forEach((function(e){var t=e.querySelectorAll(".arrow");t&&t.forEach((function(t){t.addEventListener("click",(function(){e.classList.toggle("is-toggle")}))}))})),(p=document.querySelectorAll(".modal"))&&p.forEach((function(e){var t=e.querySelector(".modal__bg"),n=e.querySelector(".modal__btn-close");t&&t.addEventListener("click",(function(){e.classList.remove("is-visible")})),n&&n.addEventListener("click",(function(){e.classList.remove("is-visible")}))})),(h=document.querySelectorAll(".switcher__label"))&&(console.log("switcher__label"),h.forEach((function(e){e.addEventListener("click",(function(){console.log("switcher__label click");var e=document.querySelectorAll(".card-active-custom");e&&e.forEach((function(e){e.classList.toggle("is-toggle")}))}))}))),document.addEventListener("DOMContentLoaded",(function(){var e=document.createElement("div");e.setAttribute("class","ds-home"),e.addEventListener("click",(function(){var e,t=window.location.host,n=window.location.origin;e=t.includes("github")?"".concat(n,"/design-system/"):"".concat(n);window.location.href=e})),document.body.appendChild(e)}))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMvdXRpbHMvX2RzLXV0aWxzLnNjc3M/MWJiNCIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm1lbW8iLCJzdHlsZXNJbkRvbSIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImxpc3RUb1N0eWxlcyIsImxpc3QiLCJvcHRpb25zIiwic3R5bGVzIiwibmV3U3R5bGVzIiwibGVuZ3RoIiwiaXRlbSIsImlkIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInBhcnRzIiwicHVzaCIsImFkZFN0eWxlc1RvRG9tIiwiZG9tU3R5bGUiLCJqIiwicmVmcyIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiam9pbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJyZW1vdmUiLCJvYmoiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJidG9hIiwiY29uY2F0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJfaSIsIl9kb21TdHlsZSIsImNvbnRlbnQiLCJsb2NhbHMiLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzYWJsZV90cmFuc2l0aW9uIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwic3RvY2tfZnVsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzdG9jayIsInN0b2NrX2Z1bGxfd3JhcHBlciIsInN0b2NrX2Ryb3Bkb3duX2ZpbHRlciIsIml0ZW1fcGFyYW1zX2xpc3RfX2l0ZW1zIiwiaXRlbV9wYXJhbXNfbGlzdCIsImxpbmsiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJjb2xsYXBzZV9zZWN0aW9uIiwic2VjdGlvbiIsInNlbGVjdCIsImJ0IiwidGhpcyIsInNlbGVjdENvbnQiLCJzYyIsInNlbF9wb3NpdGlvbiIsImlubmVySFRNTCIsImJ0bl90b2dnbGUiLCJ0b2dnbGVfdHh0X2NvbnRhaW5lciIsInBsdXMiLCJtaW51cyIsImlucHV0IiwidG9nZ2xlQmxvY2siLCJkY3ciLCJkYyIsImNhcmRBY3RpdmUiLCJtb2RhbCIsInN3aXRjaGVyX19sYWJlbCIsImhlYXJ0cyIsImhlYXJ0IiwiYnRuX3RvZyIsImJ0bl90b2dnbGVfY2l0eSIsInNpZGViYXIiLCJzaWRlYmFyX2JhY2siLCJzaWRlYmFyX2Nsb3NlIiwiYnRuVG9nZ2xlIiwibW9kYWxfYmciLCJidG5fY2xvc2UiLCJjb25zb2xlIiwibG9nIiwic2wiLCJjYXJkIiwiZWwiLCJwYXRoIiwiaG9zdCIsImxvY2F0aW9uIiwib3JpZ2luIiwiaW5jbHVkZXMiLCJocmVmIiwiYm9keSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdB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LFNBQVMsV0FDekIyQyxRQUFRQyxJQUFJLHlCQUNaLElBQUlFLEVBQU83SCxTQUFTb0YsaUJBQWlCLHVCQUNqQ3lDLEdBQ0FBLEVBQUt4RixTQUFRLFNBQUFyRSxHQUNUQSxFQUFFaUgsVUFBVUMsT0FBTyx1QkFTM0NsRixTQUFTK0UsaUJBQWlCLG9CQUFvQixXQUMxQyxJQUFNK0MsRUFBSzlILFNBQVNpQyxjQUFjLE9BQ2xDNkYsRUFBR3hGLGFBQWEsUUFBUyxXQUN6QndGLEVBQUcvQyxpQkFBaUIsU0FHcEIsV0FDSSxJQUVJZ0QsRUFGRUMsRUFBT2pJLE9BQU9rSSxTQUFTRCxLQUN2QkUsRUFBU25JLE9BQU9rSSxTQUFTQyxPQUkzQkgsRUFEQUMsRUFBS0csU0FBUyxVQUNQLEdBQUgsT0FBTUQsRUFBTixtQkFFRyxHQUFILE9BQU1BLEdBR2RuSSxPQUFPa0ksU0FBU0csS0FBT0wsS0FiM0IvSCxTQUFTcUksS0FBSzVGLFlBQVlxRiIsImZpbGUiOiJqcy9kcy11dGlscy5qcz81MWU0OTk4MTUyMTZjNDgzZDcwNiIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyMCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucykge1xuICB2YXIgc3R5bGVzID0gW107XG4gIHZhciBuZXdTdHlsZXMgPSB7fTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNzcyA9IGl0ZW1bMV07XG4gICAgdmFyIG1lZGlhID0gaXRlbVsyXTtcbiAgICB2YXIgc291cmNlTWFwID0gaXRlbVszXTtcbiAgICB2YXIgcGFydCA9IHtcbiAgICAgIGNzczogY3NzLFxuICAgICAgbWVkaWE6IG1lZGlhLFxuICAgICAgc291cmNlTWFwOiBzb3VyY2VNYXBcbiAgICB9O1xuXG4gICAgaWYgKCFuZXdTdHlsZXNbaWRdKSB7XG4gICAgICBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIHBhcnRzOiBbcGFydF1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBzdHlsZXNbaV07XG4gICAgdmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG4gICAgdmFyIGogPSAwO1xuXG4gICAgaWYgKGRvbVN0eWxlKSB7XG4gICAgICBkb21TdHlsZS5yZWZzKys7XG5cbiAgICAgIGZvciAoOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHBhcnRzID0gW107XG5cbiAgICAgIGZvciAoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICBwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcbiAgICAgIH1cblxuICAgICAgc3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7XG4gICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICByZWZzOiAxLFxuICAgICAgICBwYXJ0czogcGFydHNcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgb3B0aW9ucy5hdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMob3B0aW9ucy5hdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBvcHRpb25zLmF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5hdHRyaWJ1dGVzID0gdHlwZW9mIG9wdGlvbnMuYXR0cmlidXRlcyA9PT0gJ29iamVjdCcgPyBvcHRpb25zLmF0dHJpYnV0ZXMgOiB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICB2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuICBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICB2YXIgbWF5UmVtb3ZlID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBzdHlsZXNbaV07XG4gICAgICB2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuICAgICAgaWYgKGRvbVN0eWxlKSB7XG4gICAgICAgIGRvbVN0eWxlLnJlZnMtLTtcbiAgICAgICAgbWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuZXdMaXN0KSB7XG4gICAgICB2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgICAgYWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbWF5UmVtb3ZlLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9kb21TdHlsZSA9IG1heVJlbW92ZVtfaV07XG5cbiAgICAgIGlmIChfZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IF9kb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIF9kb21TdHlsZS5wYXJ0c1tqXSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHN0eWxlc0luRG9tW19kb21TdHlsZS5pZF07XG4gICAgICB9XG4gICAgfVxuICB9O1xufTsiLCJ2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcz8/cmVmLS01LTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNS0yIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNS0zIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS01LTQhLi9fZHMtdXRpbHMuc2Nzc1wiKTtcblxuaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG59XG5cbnZhciBvcHRpb25zID0ge31cblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYgKGNvbnRlbnQubG9jYWxzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG59XG4iLCIvLyDQktGB0L/QvtC80L7Qs9Cw0YLQtdC70YzQvdGL0LUg0YTRg9C90LrRhtC40Lgg0L/RgNC+0LXQutGC0LAgKNC00LXQvNC+0L3RgdGC0YDQsNGG0LjRjyDQuNC90YLQtdGA0LDQutGC0LjQstC90L7RgdGC0LgpXG5cbi8vINC+0YLQutGA0YvRgtC40LUg0L/QvtC70L3QvtC5INC40L3RhNGLINC+INC30LDQutGD0L/QutC1XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGRpc2FibGVfdHJhbnNpdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGlzYWJsZS10cmFuc2l0aW9uXCIpO1xuICAgIGlmIChkaXNhYmxlX3RyYW5zaXRpb24pIHtcbiAgICAgICAgZGlzYWJsZV90cmFuc2l0aW9uLmNsYXNzTGlzdC50b2dnbGUoXCJkaXNhYmxlLXRyYW5zaXRpb25cIik7XG4gICAgfVxufSk7XG5cbi8vINC+0YLQutGA0YvRgtC40LUg0L/QvtC70L3QvtC5INC40L3RhNGLINC+INC30LDQutGD0L/QutC1XG5jb25zdCBzdG9ja19mdWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zdG9jay1mdWxsXCIpO1xuaWYgKHN0b2NrX2Z1bGwpIHtcbiAgICBzdG9ja19mdWxsLmZvckVhY2goc3RvY2sgPT4ge1xuICAgICAgICBjb25zdCBzdG9ja19mdWxsX3dyYXBwZXIgPSBzdG9jay5xdWVyeVNlbGVjdG9yKFwiLnN0b2NrLWZ1bGxfX3dyYXBwZXJcIik7XG4gICAgICAgIGNvbnN0IGxpbmtfb3BlbiA9IHN0b2NrLnF1ZXJ5U2VsZWN0b3IoXCIuc3RvY2stZnVsbF9fZXhwYW5kXCIpO1xuICAgICAgICBsaW5rX29wZW4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHN0b2NrX2Z1bGxfd3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtZXhwYW5kZWRcIikpO1xuICAgIH0pO1xufVxuXG5jb25zdCBzdG9ja19kcm9wZG93bl9maWx0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnN0b2NrLWRyb3Bkb3duLWZpbHRlclwiKTtcbmlmIChzdG9ja19kcm9wZG93bl9maWx0ZXIpIHtcbiAgICBzdG9ja19kcm9wZG93bl9maWx0ZXIuZm9yRWFjaChmaWx0ZXIgPT4ge1xuICAgICAgICBjb25zdCBoZWFkaW5nID0gZmlsdGVyLnF1ZXJ5U2VsZWN0b3IoXCIuc3RvY2stZHJvcGRvd24tZmlsdGVyX19oZWFkXCIpO1xuICAgICAgICBoZWFkaW5nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBmaWx0ZXIuY2xhc3NMaXN0LnRvZ2dsZShcImlzLWV4cGFuZGVkXCIpKTtcbiAgICB9KTtcbn1cblxuY29uc3QgaXRlbV9wYXJhbXNfbGlzdF9faXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLml0ZW0tcGFyYW1zLWxpc3RfX2l0ZW1cIik7XG5pZiAoaXRlbV9wYXJhbXNfbGlzdF9faXRlbXMpIHtcbiAgICBpdGVtX3BhcmFtc19saXN0X19pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBpdGVtLmNsYXNzTGlzdC50b2dnbGUoXCJpcy1zZWxlY3RlZFwiKSk7XG4gICAgfSk7XG59XG5cbmNvbnN0IGl0ZW1fcGFyYW1zX2xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLml0ZW0tcGFyYW1zLWxpc3RcIik7XG5pZiAoaXRlbV9wYXJhbXNfbGlzdF9faXRlbXMpIHtcbiAgICBpdGVtX3BhcmFtc19saXN0LmZvckVhY2gobGlzdCA9PiB7XG4gICAgICAgIGNvbnN0IGxpbmsgPSBsaXN0Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGxpc3QuY2xhc3NMaXN0LnRvZ2dsZShcImlzLWV4cGFuZGVkXCIpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5jb25zdCBjb2xsYXBzZV9zZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb2xsYXBzZS1zZWN0aW9uXCIpO1xuaWYgKGNvbGxhcHNlX3NlY3Rpb24pIHtcbiAgICBjb2xsYXBzZV9zZWN0aW9uLmZvckVhY2goc2VjdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IGhlYWRpbmcgPSBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIuY29sbGFwc2Utc2VjdGlvbl9faGVhZGluZ1wiKTtcbiAgICAgICAgaGVhZGluZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gc2VjdGlvbi5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtZXhwYW5kZWRcIikpO1xuICAgIH0pO1xufVxuXG4vL9Cc0L7QtNCw0LvQutC4XG5cbi8vIDwhLS0g0JzQvtC00LDQu9C60LAg0LrQvtC/0LjRgNC+0LLQsNC90LjQtSDQv9C+0LfQuNGG0LjQuCAtLT5cblxuLy/QoNCw0YHQutGA0YvRgtC40LUg0YHQv9C40YHQutCwXG5sZXQgc2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9fc2VsZWN0XCIpOyAvL9C60L3QvtC/0LrQsCDRgNCw0YHQutGA0YvQstCw0Y7RidCw0Y8g0LHQu9C+0Lpcbi8v0J/QtdGA0LXQsdC40YDQsNC10Lwg0LLRgdC1INC60L3QvtC/0LrQuFxuaWYgKHNlbGVjdCkge1xuICAgIGZvciAobGV0IGJ0ID0gMDsgYnQgPCBzZWxlY3QubGVuZ3RoOyBidCsrKSB7XG4gICAgICAgIHNlbGVjdFtidF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdG9nZ2xlXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8v0JLRi9Cx0L7RgCDQv9C+0LfQuNGG0LjQuFxuXG5sZXQgc2VsZWN0Q29udCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX3NlbGVjdFwiKTtcbmlmIChzZWxlY3RDb250KSB7XG4gICAgc2VsZWN0Q29udC5mb3JFYWNoKHNjID0+IHtcbiAgICAgICAgbGV0IHNlbF9wb3NpdGlvbiA9IHNjLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NlbGVjdGVkLXBvc2l0aW9uXCIpLFxuICAgICAgICAgICAgbGkgPSBzYy5xdWVyeVNlbGVjdG9yQWxsKFwibGlcIik7XG5cbiAgICAgICAgbGkuZm9yRWFjaChpID0+IHtcbiAgICAgICAgICAgIGkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxfcG9zaXRpb24uaW5uZXJIVE1MID0gaS5pbm5lckhUTUw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8vIDwhLS0g0JrQsNGA0YLQvtGH0LrQsCDRgtC+0LLQsNGA0LAg0YEg0LrQvtGA0L7RgtC60LjQvCDQuNC30L7QsdGA0LDQttC10L3QuNC10LwgLS0+XG5cbmxldCBidG5fdG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnRuLWFib3V0LWdvb2RzXCIpLFxuICAgIHRvZ2dsZV90eHRfY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZ29vZHMtaW5mb1wiKTtcblxuaWYgKGJ0bl90b2dnbGUpIHtcbiAgICBidG5fdG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRvZ2dsZV90eHRfY29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXCJpcy10b2dnbGVcIik7XG4gICAgfSk7XG59XG5cbi8vIDwhLS0g0JrQvdC+0L/QutC4INGD0L/RgNCw0LLQu9C10L3QuNGPINC60L7Qu9C40YfQtdGB0YLQstC+0Lwg0YLQvtCy0LDRgNCwIC0tPlxubGV0IGJ0bl9zdW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ0bi1zdW1cIik7XG5cbmJ0bl9zdW0uZm9yRWFjaChtID0+IHtcbiAgICBsZXQgcGx1cyA9IG0ucXVlcnlTZWxlY3RvcihcIi5idG4tc3VtX19wbHVzXCIpLFxuICAgICAgICBtaW51cyA9IG0ucXVlcnlTZWxlY3RvcihcIi5idG4tc3VtX19taW51c1wiKSxcbiAgICAgICAgaW5wdXQgPSBtLnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLXN1bV9fc3VtLW51bVwiKTtcblxuICAgIGlmIChwbHVzICYmIG1pbnVzICYmIGlucHV0KSB7XG4gICAgICAgIHBsdXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIGlucHV0LnZhbHVlKys7XG4gICAgICAgIH0pO1xuICAgICAgICBtaW51cy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaW5wdXQudmFsdWUtLTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbi8vIDwhLS0g0KHQtdGA0LTQtdGH0LrQviAtLT5cblxubGV0IGhlYXJ0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaWNvbi1oZWFydC1ib2xkXCIpO1xuXG5pZiAoaGVhcnRzKSB7XG4gICAgaGVhcnRzLmZvckVhY2goKGhlYXJ0KSA9PiB7XG4gICAgICAgIGhlYXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgaGVhcnQuY2xhc3NMaXN0LnRvZ2dsZShcImljb24taGVhcnQtZmlsbGVkXCIpO1xuICAgICAgICB9KVxuICAgIH0pXG59XG5cbi8v0KDQsNC30LLQvtGA0LDRh9C40LLQsNGO0YnQuNC50YHRjyDQsdC70L7QulxuKCgpID0+IHtcbiAgICBsZXQgdG9nZ2xlQmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvbGxhcHNlLWJsb2NrXCIpO1xuXG4gICAgaWYgKHRvZ2dsZUJsb2NrKSB7XG4gICAgICAgIHRvZ2dsZUJsb2NrLmZvckVhY2godCA9PiB7XG4gICAgICAgICAgICAvLyBsZXQgYnRuX3RvZ2dsZSA9IHQucXVlcnlTZWxlY3RvcihcIi5hcnJvd1wiKTtcbiAgICAgICAgICAgIGxldCBidG5fdG9nZ2xlID0gdC5xdWVyeVNlbGVjdG9yKFwiLmNvbGxhcHNlLWJsb2NrX19oZWFkZXJcIik7XG5cbiAgICAgICAgICAgIGlmIChidG5fdG9nZ2xlKSB7XG4gICAgICAgICAgICAgICAgYnRuX3RvZ2dsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0LmNsYXNzTGlzdC50b2dnbGUoXCJpcy10b2dnbGVcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG5cbi8v0KHQstC+0YDQsNGH0LjQstCw0L3QuNC1INC00L7RgdGC0LDQstC60Lgg0LIg0LzQvtCx0LjQu9C60LVcbigoKSA9PiB7XG4gICAgbGV0IGRjdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGVsaXZlcnlfX21vYmlsZVwiKTtcblxuICAgIGlmIChkY3cpIHtcbiAgICAgICAgZGN3LmZvckVhY2goZCA9PiB7XG4gICAgICAgICAgICBsZXQgYnRuX3RvZyA9IGQucXVlcnlTZWxlY3RvcihcIiNidG4tdG9nZ2xlLXdyYXBcIik7XG5cbiAgICAgICAgICAgIGlmIChidG5fdG9nKSB7XG4gICAgICAgICAgICAgICAgYnRuX3RvZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkLmNsYXNzTGlzdC50b2dnbGUoXCJpcy10b2dnbGVcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG5cbi8v0KHQstC+0YDQsNGH0LjQstCw0L3QuNC1INC60LDRgNGC0L7Rh9C60Lgg0LPQvtGA0L7QtNCwINCyINCx0LvQvtC60LUgLSDQtNC+0YHRgtCw0LLQutCwINC60YPRgNGM0LXRgNC+0LwgKNCyINC80L7QsdC40LvQutC1KSAo0L3QsNC/0YDQuNC80LXRgCDQutCw0YDRgtC+0YfQutCwIFwi0KHQsNC80LDRgNCwXCIpXG4oKCkgPT4ge1xuICAgIGxldCBkYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGVsaXZlcnlfX2NpdHlcIik7XG5cbiAgICBpZiAoZGMpIHtcbiAgICAgICAgZGMuZm9yRWFjaChkID0+IHtcbiAgICAgICAgICAgIGxldCBidG5fdG9nZ2xlX2NpdHkgPSBkLnF1ZXJ5U2VsZWN0b3IoXCIuZGVsaXZlcnlfX2NpdHktaGVhZGVyXCIpO1xuXG4gICAgICAgICAgICBpZiAoYnRuX3RvZ2dsZV9jaXR5KSB7XG4gICAgICAgICAgICAgICAgYnRuX3RvZ2dsZV9jaXR5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGQuY2xhc3NMaXN0LnRvZ2dsZShcImlzLXRvZ2dsZVwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcblxuY29uc3Qgc2lkZWJhcl9hcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2lkZWJhclwiKTtcblxuc2lkZWJhcl9hcnJheS5mb3JFYWNoKHNpZGViYXIgPT4ge1xuICAgIGNvbnN0IHNpZGViYXJfYmFjayA9IHNpZGViYXIucXVlcnlTZWxlY3RvcihcIi5zaWRlYmFyX19iYWNrZ3JvdW5kXCIpO1xuICAgIGNvbnN0IHNpZGViYXJfY2xvc2UgPSBzaWRlYmFyLnF1ZXJ5U2VsZWN0b3IoXCIuc2lkZWJhcl9fY2xvc2VcIik7XG5cbiAgICBzaWRlYmFyX2JhY2suYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzaWRlYmFyLmNsYXNzTGlzdC50b2dnbGUoXCJzaWRlYmFyX2lzLWFjdGl2ZVwiKTtcbiAgICB9KTtcblxuICAgIHNpZGViYXJfY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzaWRlYmFyLmNsYXNzTGlzdC50b2dnbGUoXCJzaWRlYmFyX2lzLWFjdGl2ZVwiKTtcbiAgICB9KTtcbn0pO1xuXG4vL9Ca0LDRgNGC0L7Rh9C60Lgg0LDQutGC0LjQstC90YvRhSDQt9Cw0LrRg9C/0L7QulxuXG4oKCkgPT4ge1xuICAgIGxldCBjYXJkQWN0aXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXJkLWFjdGl2ZS1jdXN0b21cIik7XG5cbiAgICBpZiAoY2FyZEFjdGl2ZSkge1xuICAgICAgICBjYXJkQWN0aXZlLmZvckVhY2goYyA9PiB7XG4gICAgICAgICAgICBsZXQgYnRuVG9nZ2xlID0gYy5xdWVyeVNlbGVjdG9yQWxsKFwiLmFycm93XCIpO1xuXG4gICAgICAgICAgICBpZiAoYnRuVG9nZ2xlKSB7XG4gICAgICAgICAgICAgICAgYnRuVG9nZ2xlLmZvckVhY2goYnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBidC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdG9nZ2xlXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcblxuLy/Ql9Cw0LrRgNGL0YLQuNC1INC80L7QtNCw0LvQutC4XG4oKCkgPT4ge1xuICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxcIik7XG5cbiAgICBpZiAobW9kYWwpIHtcbiAgICAgICAgbW9kYWwuZm9yRWFjaChtID0+IHtcbiAgICAgICAgICAgIGxldCBtb2RhbF9iZyA9IG0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYmdcIiksXG4gICAgICAgICAgICAgICAgYnRuX2Nsb3NlID0gbS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idG4tY2xvc2VcIik7XG5cbiAgICAgICAgICAgIGlmIChtb2RhbF9iZykge1xuICAgICAgICAgICAgICAgIG1vZGFsX2JnLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG0uY2xhc3NMaXN0LnJlbW92ZShcImlzLXZpc2libGVcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnRuX2Nsb3NlKSB7XG4gICAgICAgICAgICAgICAgYnRuX2Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG0uY2xhc3NMaXN0LnJlbW92ZShcImlzLXZpc2libGVcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0pKCk7XG5cbi8vINCh0LLQvtGA0LDRh9C40LLQsNC90LjQtS/RgNCw0LfQstC+0YDQsNGH0LjQstCw0L3QuNC1INCy0YHQtdGFINC60LDRgNGC0L7Rh9C10Log0L3QsCDRgdGC0YDQsNC90LjRhtC1XG4oKCkgPT4ge1xuICAgIGxldCBzd2l0Y2hlcl9fbGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnN3aXRjaGVyX19sYWJlbFwiKTtcbiAgICBpZiAoc3dpdGNoZXJfX2xhYmVsKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwic3dpdGNoZXJfX2xhYmVsXCIpO1xuICAgICAgICBzd2l0Y2hlcl9fbGFiZWwuZm9yRWFjaChzbCA9PiB7XG4gICAgICAgICAgICBzbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3dpdGNoZXJfX2xhYmVsIGNsaWNrXCIpO1xuICAgICAgICAgICAgICAgIGxldCBjYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXJkLWFjdGl2ZS1jdXN0b21cIik7XG4gICAgICAgICAgICAgICAgaWYgKGNhcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FyZC5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtdG9nZ2xlXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcblxuLy8g0LrQvdC+0L/QutCwINC90LDQt9Cw0LRcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZWwuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJkcy1ob21lXCIpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBnb19ob21lKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsKTtcblxuICAgIGZ1bmN0aW9uIGdvX2hvbWUoKSB7XG4gICAgICAgIGNvbnN0IGhvc3QgPSB3aW5kb3cubG9jYXRpb24uaG9zdDtcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcbiAgICAgICAgbGV0IHBhdGg7XG5cbiAgICAgICAgaWYgKGhvc3QuaW5jbHVkZXMoXCJnaXRodWJcIikpIHtcbiAgICAgICAgICAgIHBhdGggPSBgJHtvcmlnaW59L2Rlc2lnbi1zeXN0ZW0vYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhdGggPSBgJHtvcmlnaW59YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcGF0aDtcbiAgICB9XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=