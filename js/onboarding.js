!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=23)}([,,function(t,e,n){"use strict";var i,o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function l(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},i=[],o=0;o<t.length;o++){var r=t[o],a=e.base?r[0]+e.base:r[0],c=n[a]||0,h="".concat(a," ").concat(c);n[a]=c+1;var u=l(h),d={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(s[u].references++,s[u].updater(d)):s.push({identifier:h,updater:b(d,e),references:1}),i.push(h)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var h,u=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function d(t,e,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=u(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function p(t,e,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),r&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var f=null,m=0;function b(t,e){var n,i,o;if(e.singleton){var r=m++;n=f||(f=c(e)),i=d.bind(null,n,r,!1),o=d.bind(null,n,r,!0)}else n=c(e),i=p.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var o=l(n[i]);s[o].references--}for(var r=a(t,e),c=0;c<n.length;c++){var h=l(n[c]);0===s[h].references&&(s[h].updater(),s.splice(h,1))}n=r}}}},,function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},,,,,,,,,,,,,,,,,,,function(t,e,n){n(24),n(26),t.exports=n(28)},function(t,e,n){var i=n(2),o=n(25);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1};i(o,r);t.exports=o.locals||{}},function(t,e,n){},function(t,e,n){var i=n(2),o=n(27);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1};i(o,r);t.exports=o.locals||{}},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i=n(4),o=n.n(i);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=n(29),a={tooltipClass:"onboarding-base-steps",skipLabel:"Пропустить",doneLabel:"Закончить",prevLabel:"Назад",nextLabel:"Далее",hidePrev:!0,hideNext:!0,showProgress:!0,showBullets:!1,showStepNumbers:!1,scrollTo:"tooltip",disableInteraction:!0,exitOnOverlayClick:!1};window.addEventListener("DOMContentLoaded",(function(){try{if(!window.steps)throw new Error("Шаги отсутствуют");var t=l(),e=function(t){try{return document.documentElement.clientWidth<=t?window.steps.touch():window.steps.desctop()}catch(t){console.error(t)}}(1024);(t=function(t,e,n){try{return t.setOptions(s(s({},e),{},{steps:n})),t.onbeforechange((function(){var i=n[t._currentStep];t.setOptions(s(s({},e),{},{nextLabel:i.nextLabel||e.nextLabel,prevLabel:i.prevLabel||e.prevLabel,doneLabel:i.doneLabel||e.doneLabel,skipLabel:i.skipLabel||e.skipLabel,tooltipClass:i.tooltipClass||e.tooltipClass})),i.beforeStep&&(i.beforeStep(),t.refresh())})),t}catch(t){console.error(t)}}(t,a,e)).start(),function(t){try{var e=document.querySelector(".introjs-tooltip"),n=document.createElement("i");n.className="ds-icon icon-close";var i=document.createElement("button");i.append(n),i.className="introjs-tooltip__close",i.addEventListener("click",(function(){return t.exit(!0)})),e&&e.append(i)}catch(t){console.error(t)}}(t),setTimeout((function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{var n={top:t,left:e,behavior:"smooth"};window.scrollTo(n)}catch(n){window.scrollTo(t,e)}}()}),500)}catch(t){console.error(t)}}))},function(t,e,n){var i;i=function(){function t(t){this._targetElement=t,this._introItems=[],this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",hidePrev:!1,hideNext:!1,tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.8,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:!0,buttonClass:"introjs-button",media:[{active:!0,point:768,positions:{"top-middle-aligned":"top-middle-aligned","top-right-aligned":"top-right-aligned","top-left-aligned":"top-left-aligned","bottom-middle-aligned":"top-middle-aligned","bottom-right-aligned":"top-right-aligned","bottom-left-aligned":"top-left-aligned",top:"top",left:"left",right:"right",bottom:"top",floating:"floating"}}]}}function e(t,e){var r=document.querySelector("body");r&&r.classList.add("disable-overflow-x");var s=t.querySelectorAll("*[data-intro]"),a=[];if(this._options.steps)C(this._options.steps,function(t){var e=o(t);if(e.step=a.length+1,"string"==typeof e.element&&(e.element=document.querySelector(e.element)),void 0===e.element||null===e.element){var n=document.querySelector(".introjsFloatingElement");null===n&&((n=document.createElement("div")).className="introjsFloatingElement",document.body.appendChild(n)),e.element=n,e.position="floating"}e.scrollTo=e.scrollTo||this._options.scrollTo,void 0===e.disableInteraction&&(e.disableInteraction=this._options.disableInteraction),null!==e.element&&a.push(e)}.bind(this));else{var c;if(s.length<1)return!1;C(s,function(t){if((!e||t.getAttribute("data-intro-group")===e)&&"none"!==t.style.display){var n=parseInt(t.getAttribute("data-step"),10);c=void 0!==t.getAttribute("data-disable-interaction")?!!t.getAttribute("data-disable-interaction"):this._options.disableInteraction,n>0&&(a[n-1]={element:t,intro:t.getAttribute("data-intro"),step:parseInt(t.getAttribute("data-step"),10),tooltipClass:t.getAttribute("data-tooltipclass"),highlightClass:t.getAttribute("data-highlightclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:t.getAttribute("data-scrollto")||this._options.scrollTo,disableInteraction:c})}}.bind(this));var h=0;C(s,function(t){if((!e||t.getAttribute("data-intro-group")===e)&&null===t.getAttribute("data-step")){for(;void 0!==a[h];)h++;c=void 0!==t.getAttribute("data-disable-interaction")?!!t.getAttribute("data-disable-interaction"):this._options.disableInteraction,a[h]={element:t,intro:t.getAttribute("data-intro"),step:h+1,tooltipClass:t.getAttribute("data-tooltipclass"),highlightClass:t.getAttribute("data-highlightclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:t.getAttribute("data-scrollto")||this._options.scrollTo,disableInteraction:c}}}.bind(this))}for(var u=[],d=0;d<a.length;d++)a[d]&&u.push(a[d]);return(a=u).sort((function(t,e){return t.step-e.step})),this._introItems=a,T.call(this,t)&&(l.call(this),this._options.keyboardNavigation&&S.on(window,"keydown",i,this,!0),S.on(window,"resize",n,this,!0),S.on(window,"orientationchange",n,this,!0)),!1}function n(){this.refresh.call(this)}function i(t){var e=null===t.code?t.which:t.code;if(null===e&&(e=null===t.charCode?t.keyCode:t.charCode),"Escape"!==e&&27!==e||!0!==this._options.exitOnEsc){if("ArrowLeft"===e||37===e)a.call(this);else if("ArrowRight"===e||39===e)l.call(this);else if("Enter"===e||13===e){var n=t.target||t.srcElement;n&&n.className.match("introjs-prevbutton")?a.call(this):n&&n.className.match("introjs-skipbutton")?(this._introItems.length-1===this._currentStep&&"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),h.call(this,this._targetElement)):n&&n.getAttribute("data-stepnumber")?n.click():l.call(this),t.preventDefault?t.preventDefault():t.returnValue=!1}}else h.call(this,this._targetElement)}function o(t){if(null===t||"object"!=typeof t||void 0!==t.nodeType)return t;var e={};for(var n in t)void 0!==window.jQuery&&t[n]instanceof window.jQuery?e[n]=t[n]:e[n]=o(t[n]);return e}function r(t){this._currentStep=t-2,void 0!==this._introItems&&l.call(this)}function s(t){this._currentStepNumber=t,void 0!==this._introItems&&l.call(this)}function l(){this._direction="forward",void 0!==this._currentStepNumber&&C(this._introItems,function(t,e){t.step===this._currentStepNumber&&(this._currentStep=e-1,this._currentStepNumber=void 0)}.bind(this)),void 0===this._currentStep?this._currentStep=0:++this._currentStep;var t=this._introItems[this._currentStep],e=!0;return void 0!==this._introBeforeChangeCallback&&(e=this._introBeforeChangeCallback.call(this,t.element)),!1===e?(--this._currentStep,!1):this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void h.call(this,this._targetElement)):void y.call(this,t)}function a(){if(this._direction="backward",0===this._currentStep)return!1;--this._currentStep;var t=this._introItems[this._currentStep],e=!0;if(void 0!==this._introBeforeChangeCallback&&(e=this._introBeforeChangeCallback.call(this,t.element)),!1===e)return++this._currentStep,!1;y.call(this,t)}function c(){if(b.call(this,document.querySelector(".introjs-helperLayer")),b.call(this,document.querySelector(".introjs-tooltipReferenceLayer")),b.call(this,document.querySelector(".introjs-disableInteraction")),void 0!==this._currentStep&&null!==this._currentStep){var t=document.querySelector(".introjs-helperNumberLayer"),e=document.querySelector(".introjs-arrow"),n=document.querySelector(".introjs-tooltip");u.call(this,this._introItems[this._currentStep].element,n,e,t)}return O.call(this),this}function h(t,e){var o=!0;if(void 0!==this._introBeforeExitCallback&&(o=this._introBeforeExitCallback.call(this)),e||!1!==o){var r=t.querySelectorAll(".introjs-overlay");r&&r.length&&C(r,function(t){t.style.opacity=0,window.setTimeout(function(){this.parentNode&&this.parentNode.removeChild(this)}.bind(t),500)}.bind(this));var s=t.querySelector(".introjs-helperLayer");s&&s.parentNode.removeChild(s);var l=t.querySelector(".introjs-tooltipReferenceLayer");l&&l.parentNode.removeChild(l);var a=t.querySelector(".introjs-disableInteraction");a&&a.parentNode.removeChild(a);var c=document.querySelector(".introjsFloatingElement");c&&c.parentNode.removeChild(c),_(),C(document.querySelectorAll(".introjs-fixParent"),(function(t){E(t,/introjs-fixParent/g)})),S.off(window,"keydown",i,this,!0),S.off(window,"resize",n,this,!0),void 0!==this._introExitCallback&&this._introExitCallback.call(this),this._currentStep=void 0;var h=document.querySelector("body");h&&h.classList.remove("disable-overflow-x")}}function u(t,e,n,i,o){var r,s,l,a,c,h="";if(o=o||!1,e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,e.style.marginLeft=null,e.style.marginTop=null,n.style.display="inherit",null!=i&&(i.style.top=null,i.style.left=null),this._introItems[this._currentStep]){h="string"==typeof(r=this._introItems[this._currentStep]).tooltipClass?r.tooltipClass:this._options.tooltipClass,e.className=("introjs-tooltip "+h).replace(/^\s+|\s+$/g,""),e.setAttribute("role","dialog"),"floating"!==(c=this._introItems[this._currentStep].position)&&(c=f.call(this,t,e,c));var u=document.documentElement.clientWidth,m=this._options.media.filter((function(t){return t.active&&u<=t.point})).sort((function(t,e){return e.point-t.point}));switch(m.length>0&&(c=(m=m[m.length-1]).positions[c]),l=G(t),s=G(e),a=A(),k(e,"introjs-"+c),c){case"top-right-aligned":n.className="introjs-arrow bottom-right";var b=0;p(l,b,s,e),e.style.bottom=l.height+20+"px";break;case"top-middle-aligned":n.className="introjs-arrow bottom-middle";var g=l.width/2-s.width/2;o&&(g+=5),p(l,g,s,e)&&(e.style.right=null,d(l,g,s,a,e)),e.style.bottom=l.height+20+"px";break;case"top-left-aligned":case"top":n.className="introjs-arrow bottom",d(l,o?0:15,s,a,e),e.style.bottom=l.height+20+"px";break;case"right":e.style.left=l.width+20+"px",l.top+s.height>a.height?(n.className="introjs-arrow left-bottom",e.style.top="-"+(s.height-l.height-20)+"px"):n.className="introjs-arrow left";break;case"left":o||!0!==this._options.showStepNumbers||(e.style.top="15px"),l.top+s.height>a.height?(e.style.top="-"+(s.height-l.height-20)+"px",n.className="introjs-arrow right-bottom"):n.className="introjs-arrow right",e.style.right=l.width+20+"px";break;case"floating":n.style.display="none",e.style.left="50%",e.style.top="50%",e.style.marginLeft="-"+s.width/2+"px",e.style.marginTop="-"+s.height/2+"px",null!=i&&(i.style.left="-"+(s.width/2+18)+"px",i.style.top="-"+(s.height/2+18)+"px");break;case"bottom-right-aligned":n.className="introjs-arrow top-right",p(l,b=0,s,e),e.style.top=l.height+20+"px";break;case"bottom-middle-aligned":n.className="introjs-arrow top-middle",g=l.width/2-s.width/2,o&&(g+=5),p(l,g,s,e)&&(e.style.right=null,d(l,g,s,a,e)),e.style.top=l.height+20+"px";break;default:n.className="introjs-arrow top",d(l,0,s,a,e),e.style.top=l.height+20+"px"}}}function d(t,e,n,i,o){return t.left+e+n.width>i.width?(o.style.left=i.width-n.width-t.left+"px",!1):(o.style.left=e+"px",!0)}function p(t,e,n,i){return t.left+t.width-e-n.width<0?(i.style.left=-t.left+"px",!1):(i.style.right=e+"px",!0)}function f(t,e,n){var i=this._options.positionPrecedence.slice(),o=A(),r=G(e).height+10,s=G(e).width+20,l=t.getBoundingClientRect(),a="floating";l.bottom+r>o.height&&m(i,"bottom"),l.top-r<0&&m(i,"top"),l.right+s>o.width&&m(i,"right"),l.left-s<0&&m(i,"left");var c,h,u=-1!==(h=(c=n||"").indexOf("-"))?c.substr(h):"";return n&&(n=n.split("-")[0]),i.length&&(a="auto"!==n&&i.indexOf(n)>-1?n:i[0]),-1!==["top","bottom"].indexOf(a)&&(a+=function(t,e,n,i){var o=e/2,r=Math.min(n.width,window.screen.width),s=["-left-aligned","-middle-aligned","-right-aligned"];return r-t<e&&m(s,"-left-aligned"),(t<o||r-t<o)&&m(s,"-middle-aligned"),t<e-50&&m(s,"-right-aligned"),s.length?-1!==s.indexOf(i)?i:s[0]:"-middle-aligned"}(l.left,s,o,u)),a}function m(t,e){t.indexOf(e)>-1&&t.splice(t.indexOf(e),1)}function b(t){if(t){if(!this._introItems[this._currentStep])return;var e=this._introItems[this._currentStep],n=G(e.element),i=this._options.helperElementPadding;L(e.element)?k(t,"introjs-fixedTooltip"):E(t,"introjs-fixedTooltip"),"floating"===e.position&&(i=0),t.style.cssText="width: "+(n.width+i)+"px; height:"+(n.height+i)+"px; top:"+(n.top-i/2)+"px;left: "+(n.left-i/2)+"px;"}}function g(){var t=document.querySelector(".introjs-disableInteraction");null===t&&((t=document.createElement("div")).className="introjs-disableInteraction",this._targetElement.appendChild(t)),b.call(this,t)}function v(t){t.setAttribute("role","button"),t.tabIndex=0}function y(t){void 0!==this._introChangeCallback&&this._introChangeCallback.call(this,t.element);var e,n,i,o,r=this,s=document.querySelector(".introjs-helperLayer"),c=document.querySelector(".introjs-tooltipReferenceLayer"),d="introjs-helperLayer";if("string"==typeof t.highlightClass&&(d+=" "+t.highlightClass),"string"==typeof this._options.highlightClass&&(d+=" "+this._options.highlightClass),null!==s){var p=c.querySelector(".introjs-helperNumberLayer"),f=c.querySelector(".introjs-tooltiptext"),m=c.querySelector(".introjs-arrow"),y=c.querySelector(".introjs-tooltip");if(i=c.querySelector(".introjs-skipbutton"),n=c.querySelector(".introjs-prevbutton"),e=c.querySelector(".introjs-nextbutton"),s.className=d,y.style.opacity=0,y.style.display="none",i.innerHTML=this._options.skipLabel,n.innerHTML=this._options.prevLabel,e.innerHTML=this._options.nextLabel,null!==p){var j=this._introItems[t.step-2>=0?t.step-2:0];(null!==j&&"forward"===this._direction&&"floating"===j.position||"backward"===this._direction&&"floating"===t.position)&&(p.style.opacity=0)}(o=J(t.element))!==document.body&&Y(o,t.element),b.call(r,s),b.call(r,c),C(document.querySelectorAll(".introjs-fixParent"),(function(t){E(t,/introjs-fixParent/g)})),_(),r._lastShowElementTimer&&window.clearTimeout(r._lastShowElementTimer),r._lastShowElementTimer=window.setTimeout((function(){null!==p&&(p.innerHTML=t.step),f.innerHTML=t.intro,y.style.display="block",u.call(r,t.element,y,m,p),r._options.showBullets&&(c.querySelector(".introjs-bullets li > a.active").className="",c.querySelector('.introjs-bullets li > a[data-stepnumber="'+t.step+'"]').className="active"),c.querySelector(".introjs-progress .introjs-progressbar").style.cssText="width:"+$.call(r)+"%;",c.querySelector(".introjs-progress .introjs-progressbar").setAttribute("aria-valuenow",$.call(r)),y.style.opacity=1,p&&(p.style.opacity=1),null!=i&&/introjs-donebutton/gi.test(i.className)?i.focus():null!=e&&e.focus(),w.call(r,t.scrollTo,t,f)}),350)}else{var x=document.createElement("div"),S=document.createElement("div"),L=document.createElement("div"),A=document.createElement("div"),T=document.createElement("div"),P=document.createElement("div"),I=document.createElement("div"),O=document.createElement("div");x.className=d,S.className="introjs-tooltipReferenceLayer",(o=J(t.element))!==document.body&&Y(o,t.element),b.call(r,x),b.call(r,S),this._targetElement.appendChild(x),this._targetElement.appendChild(S),L.className="introjs-arrow",T.className="introjs-tooltiptext",T.innerHTML=t.intro,P.className="introjs-bullets",!1===this._options.showBullets&&(P.style.display="none");var q=document.createElement("ul");q.setAttribute("role","tablist");var H=function(){r.goToStep(this.getAttribute("data-stepnumber"))};C(this._introItems,(function(e,n){var i=document.createElement("li"),o=document.createElement("a");i.setAttribute("role","presentation"),o.setAttribute("role","tab"),o.onclick=H,n===t.step-1&&(o.className="active"),v(o),o.innerHTML="&nbsp;",o.setAttribute("data-stepnumber",e.step),i.appendChild(o),q.appendChild(i)})),P.appendChild(q),I.className="introjs-progress",!1===this._options.showProgress&&(I.style.display="none");var M=document.createElement("div");M.className="introjs-progressbar",M.setAttribute("role","progress"),M.setAttribute("aria-valuemin",0),M.setAttribute("aria-valuemax",100),M.setAttribute("aria-valuenow",$.call(this)),M.style.cssText="width:"+$.call(this)+"%;",I.appendChild(M),O.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(O.style.display="none"),A.className="introjs-tooltip",A.appendChild(T),A.appendChild(P),A.appendChild(I);var B=document.createElement("span");!0===this._options.showStepNumbers&&(B.className="introjs-helperNumberLayer",B.innerHTML=t.step,S.appendChild(B)),A.appendChild(L),S.appendChild(A),(e=document.createElement("a")).onclick=function(){r._introItems.length-1!==r._currentStep&&l.call(r)},v(e),e.innerHTML=this._options.nextLabel,(n=document.createElement("a")).onclick=function(){0!==r._currentStep&&a.call(r)},v(n),n.innerHTML=this._options.prevLabel,(i=document.createElement("a")).className=this._options.buttonClass+" introjs-skipbutton ",v(i),i.innerHTML=this._options.skipLabel,i.onclick=function(){r._introItems.length-1===r._currentStep&&"function"==typeof r._introCompleteCallback&&r._introCompleteCallback.call(r),r._introItems.length-1!==r._currentStep&&"function"==typeof r._introExitCallback&&r._introExitCallback.call(r),"function"==typeof r._introSkipCallback&&r._introSkipCallback.call(r),h.call(r,r._targetElement)},O.appendChild(i),this._introItems.length>1&&(O.appendChild(n),O.appendChild(e)),A.appendChild(O),u.call(r,t.element,A,L,B),w.call(this,t.scrollTo,t,A)}var R=r._targetElement.querySelector(".introjs-disableInteraction");R&&R.parentNode.removeChild(R),t.disableInteraction&&g.call(r),0===this._currentStep&&this._introItems.length>1?(null!=i&&(i.className=this._options.buttonClass+" introjs-skipbutton"),null!=e&&(e.className=this._options.buttonClass+" introjs-nextbutton"),!0===this._options.hidePrev?(null!=n&&(n.className=this._options.buttonClass+" introjs-prevbutton introjs-hidden"),null!=e&&k(e,"introjs-fullbutton")):null!=n&&(n.className=this._options.buttonClass+" introjs-prevbutton introjs-disabled"),null!=i&&(i.innerHTML=this._options.skipLabel)):this._introItems.length-1===this._currentStep||1===this._introItems.length?(null!=i&&(i.innerHTML=this._options.doneLabel,k(i,"introjs-donebutton")),null!=n&&(n.className=this._options.buttonClass+" introjs-prevbutton"),!0===this._options.hideNext?(null!=e&&(e.className=this._options.buttonClass+" introjs-nextbutton introjs-hidden"),null!=n&&k(n,"introjs-fullbutton")):null!=e&&(e.className=this._options.buttonClass+" introjs-nextbutton introjs-disabled")):(null!=i&&(i.className=this._options.buttonClass+" introjs-skipbutton"),null!=n&&(n.className=this._options.buttonClass+" introjs-prevbutton"),null!=e&&(e.className=this._options.buttonClass+" introjs-nextbutton"),null!=i&&(i.innerHTML=this._options.skipLabel)),n.setAttribute("role","button"),e.setAttribute("role","button"),i.setAttribute("role","button"),null!=e&&e.focus(),function(t){var e;if(t.element instanceof SVGElement)for(e=t.element.parentNode;null!==t.element.parentNode&&e.tagName&&"body"!==e.tagName.toLowerCase();)"svg"===e.tagName.toLowerCase()&&k(e,"introjs-showElement introjs-relativePosition"),e=e.parentNode;k(t.element,"introjs-showElement");var n=N(t.element,"position");for("absolute"!==n&&"relative"!==n&&"fixed"!==n&&k(t.element,"introjs-relativePosition"),e=t.element.parentNode;null!==e&&e.tagName&&"body"!==e.tagName.toLowerCase();){var i=N(e,"z-index"),o=parseFloat(N(e,"opacity")),r=N(e,"transform")||N(e,"-webkit-transform")||N(e,"-moz-transform")||N(e,"-ms-transform")||N(e,"-o-transform");(/[0-9]+/.test(i)||o<1||"none"!==r&&void 0!==r)&&k(e,"introjs-fixParent"),e=e.parentNode}}(t),void 0!==this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,t.element)}function w(t,e,n){var i;if("off"!==t&&this._options.scrollToElement&&(i="tooltip"===t?n.getBoundingClientRect():e.element.getBoundingClientRect(),!function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth}(e.element))){var o=i.bottom-(i.bottom-i.top),r=A().height,s={top:i.top+pageYOffset-r/2+i.height/2,left:0,behavior:"smooth"};try{o<0||e.element.clientHeight>r?(s.top-=this._options.scrollPadding,window.scrollTo(s)):(s.top+=this._options.scrollPadding,window.scrollTo(s))}catch(t){o<0||e.element.clientHeight>r?window.scrollTo(0,s.top-30):window.scrollTo(0,s.top+30)}}}function _(){C(document.querySelectorAll(".introjs-showElement"),(function(t){E(t,/introjs-[a-zA-Z]+/g)}))}function C(t,e,n){if(t)for(var i=0,o=t.length;i<o;i++)e(t[i],i);"function"==typeof n&&n()}var j,x=(j={},function(t,e){return j[e=e||"introjs-stamp"]=j[e]||0,void 0===t[e]&&(t[e]=j[e]++),t[e]}),S=new function(){var t="introjs_event";this._id=function(t,e,n,i){return e+x(n)+(i?"_"+x(i):"")},this.on=function(e,n,i,o,r){var s=this._id.apply(this,arguments),l=function(t){return i.call(o||e,t||window.event)};"addEventListener"in e?e.addEventListener(n,l,r):"attachEvent"in e&&e.attachEvent("on"+n,l),e[t]=e[t]||{},e[t][s]=l},this.off=function(e,n,i,o,r){var s=this._id.apply(this,arguments),l=e[t]&&e[t][s];l&&("removeEventListener"in e?e.removeEventListener(n,l,r):"detachEvent"in e&&e.detachEvent("on"+n,l),e[t][s]=null)}};function k(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";t.setAttribute("class",n+" "+e)}else void 0!==t.classList?C(e.split(" "),(function(e){t.classList.add(e)})):t.className.match(e)||(t.className+=" "+e)}function E(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";t.setAttribute("class",n.replace(e,"").replace(/^\s+|\s+$/g,""))}else t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")}function N(t,e){var n="";return t.currentStyle?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function L(t){var e=t.parentNode;return!(!e||"HTML"===e.nodeName)&&("fixed"===N(t,"position")||L(e))}function A(){try{var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}catch(t){return{width:window.innerWidth,height:window.innerHeight}}}function T(t){var e=document.createElement("div"),n="",i=this;if(e.className="introjs-overlay",t.tagName&&"body"!==t.tagName.toLowerCase()){var o=G(t);o&&(n+="width: "+o.width+"px; height:"+o.height+"px; top:"+o.top+"px;left: "+o.left+"px;",e.style.cssText=n)}else n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.style.cssText=n;return t.appendChild(e),e.onclick=function(){!0===i._options.exitOnOverlayClick&&h.call(i,t)},window.setTimeout((function(){n+="opacity: "+i._options.overlayOpacity.toString()+";",e.style.cssText=n}),10),!0}function P(){var t=document.querySelector(".introjs-hintReference");if(t){var e=t.getAttribute("data-step");return t.parentNode.removeChild(t),e}}function I(t){if(this._introItems=[],this._options.hints)C(this._options.hints,function(t){var e=o(t);"string"==typeof e.element&&(e.element=document.querySelector(e.element)),e.hintPosition=e.hintPosition||this._options.hintPosition,e.hintAnimation=e.hintAnimation||this._options.hintAnimation,null!==e.element&&this._introItems.push(e)}.bind(this));else{var e=t.querySelectorAll("*[data-hint]");if(!e||!e.length)return!1;C(e,function(t){var e=t.getAttribute("data-hintanimation");e=e?"true"===e:this._options.hintAnimation,this._introItems.push({element:t,hint:t.getAttribute("data-hint"),hintPosition:t.getAttribute("data-hintposition")||this._options.hintPosition,hintAnimation:e,tooltipClass:t.getAttribute("data-tooltipclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition})}.bind(this))}z.call(this),S.on(document,"click",P,this,!1),S.on(window,"resize",O,this,!0)}function O(){C(this._introItems,function(t){void 0!==t.targetElement&&F.call(this,t.hintPosition,t.element,t.targetElement)}.bind(this))}function q(t){var e=document.querySelector(".introjs-hints");return e?e.querySelectorAll(t):[]}function H(t){var e=q('.introjs-hint[data-step="'+t+'"]')[0];P.call(this),e&&k(e,"introjs-hidehint"),void 0!==this._hintCloseCallback&&this._hintCloseCallback.call(this,t)}function M(){C(q(".introjs-hint"),function(t){H.call(this,t.getAttribute("data-step"))}.bind(this))}function B(){var t=q(".introjs-hint");t&&t.length?C(t,function(t){R.call(this,t.getAttribute("data-step"))}.bind(this)):I.call(this,this._targetElement)}function R(t){var e=q('.introjs-hint[data-step="'+t+'"]')[0];e&&E(e,/introjs-hidehint/g)}function D(){C(q(".introjs-hint"),function(t){V.call(this,t.getAttribute("data-step"))}.bind(this))}function V(t){var e=q('.introjs-hint[data-step="'+t+'"]')[0];e&&e.parentNode.removeChild(e)}function z(){var t=this,e=document.querySelector(".introjs-hints");null===e&&((e=document.createElement("div")).className="introjs-hints"),C(this._introItems,function(n,i){if(!document.querySelector('.introjs-hint[data-step="'+i+'"]')){var o=document.createElement("a");v(o),o.onclick=function(e){return function(n){var i=n||window.event;i.stopPropagation&&i.stopPropagation(),null!==i.cancelBubble&&(i.cancelBubble=!0),W.call(t,e)}}(i),o.className="introjs-hint",n.hintAnimation||k(o,"introjs-hint-no-anim"),L(n.element)&&k(o,"introjs-fixedhint");var r=document.createElement("div");r.className="introjs-hint-dot";var s=document.createElement("div");s.className="introjs-hint-pulse",o.appendChild(r),o.appendChild(s),o.setAttribute("data-step",i),n.targetElement=n.element,n.element=o,F.call(this,n.hintPosition,o,n.targetElement),e.appendChild(o)}}.bind(this)),document.body.appendChild(e),void 0!==this._hintsAddedCallback&&this._hintsAddedCallback.call(this)}function F(t,e,n){var i=G.call(this,n);switch(t){default:case"top-left":e.style.left=i.left+"px",e.style.top=i.top+"px";break;case"top-right":e.style.left=i.left+i.width-20+"px",e.style.top=i.top+"px";break;case"bottom-left":e.style.left=i.left+"px",e.style.top=i.top+i.height-20+"px";break;case"bottom-right":e.style.left=i.left+i.width-20+"px",e.style.top=i.top+i.height-20+"px";break;case"middle-left":e.style.left=i.left+"px",e.style.top=i.top+(i.height-20)/2+"px";break;case"middle-right":e.style.left=i.left+i.width-20+"px",e.style.top=i.top+(i.height-20)/2+"px";break;case"middle-middle":e.style.left=i.left+(i.width-20)/2+"px",e.style.top=i.top+(i.height-20)/2+"px";break;case"bottom-middle":e.style.left=i.left+(i.width-20)/2+"px",e.style.top=i.top+i.height-20+"px";break;case"top-middle":e.style.left=i.left+(i.width-20)/2+"px",e.style.top=i.top+"px"}}function W(t){var e=document.querySelector('.introjs-hint[data-step="'+t+'"]'),n=this._introItems[t];void 0!==this._hintClickCallback&&this._hintClickCallback.call(this,e,n,t);var i=P.call(this);if(parseInt(i,10)!==t){var o=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div");o.className="introjs-tooltip",o.onclick=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},r.className="introjs-tooltiptext";var a=document.createElement("p");a.innerHTML=n.hint;var c=document.createElement("a");c.className=this._options.buttonClass,c.setAttribute("role","button"),c.innerHTML=this._options.hintButtonLabel,c.onclick=H.bind(this,t),r.appendChild(a),r.appendChild(c),s.className="introjs-arrow",o.appendChild(s),o.appendChild(r),this._currentStep=e.getAttribute("data-step"),l.className="introjs-tooltipReferenceLayer introjs-hintReference",l.setAttribute("data-step",e.getAttribute("data-step")),b.call(this,l),l.appendChild(o),document.body.appendChild(l),u.call(this,e,o,s,null,!0)}}function G(t){var e=document.body,n=document.documentElement,i=window.pageYOffset||n.scrollTop||e.scrollTop,o=window.pageXOffset||n.scrollLeft||e.scrollLeft,r=t.getBoundingClientRect();return{top:r.top+i,width:r.width,height:r.height,left:r.left+o}}function J(t){var e=window.getComputedStyle(t),n="absolute"===e.position,i=/(auto|scroll)/;if("fixed"===e.position)return document.body;for(var o=t;o=o.parentElement;)if(e=window.getComputedStyle(o),(!n||"static"!==e.position)&&i.test(e.overflow+e.overflowY+e.overflowX))return o;return document.body}function Y(t,e){t.scrollTop=e.offsetTop-t.offsetTop}function $(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}var Q=function(e){var n;if("object"==typeof e)n=new t(e);else if("string"==typeof e){var i=document.querySelector(e);if(!i)throw new Error("There is no element with given selector.");n=new t(i)}else n=new t(document.body);return Q.instances[x(n,"introjs-instance")]=n,n};return Q.version="2.9.3",Q.instances={},Q.fn=t.prototype={clone:function(){return new t(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){return this._options=function(t,e){var n,i={};for(n in t)i[n]=t[n];for(n in e)i[n]=e[n];return i}(this._options,t),this},start:function(t){return e.call(this,this._targetElement,t),this},goToStep:function(t){return r.call(this,t),this},addStep:function(t){return this._options.steps||(this._options.steps=[]),this._options.steps.push(t),this},addSteps:function(t){if(t.length){for(var e=0;e<t.length;e++)this.addStep(t[e]);return this}},goToStepNumber:function(t){return s.call(this,t),this},nextStep:function(){return l.call(this),this},previousStep:function(){return a.call(this),this},exit:function(t){return h.call(this,this._targetElement,t),this},refresh:function(){return c.call(this),this},onbeforechange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},onafterchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onhintsadded:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=t,this},onhintclick:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=t,this},onhintclose:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=t,this},onexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this},onskip:function(t){if("function"!=typeof t)throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=t,this},onbeforeexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=t,this},addHints:function(){return I.call(this,this._targetElement),this},hideHint:function(t){return H.call(this,t),this},hideHints:function(){return M.call(this),this},showHint:function(t){return R.call(this,t),this},showHints:function(){return B.call(this),this},removeHints:function(){return D.call(this),this},removeHint:function(t){return V.call(this,t),this},showHintDialog:function(t){return W.call(this,t),this}},Q},t.exports=i(),t.exports.introJs=function(){return console.warn('Deprecated: please use require("intro.js") directly, instead of the introJs method of the function'),i().apply(this,arguments)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ANjNwb2t1cGtpL29uYm9hcmRpbmctY29yZS9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy9wYWdlL29uYm9hcmRpbmcuc2Nzcz8wMWZhIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGUvb25ib2FyZGluZy9qcy9vbmJvYXJkaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ANjNwb2t1cGtpL29uYm9hcmRpbmctY29yZS9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm1lbW8iLCJpc09sZElFIiwiQm9vbGVhbiIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsImxlbmd0aCIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImlkIiwiYmFzZSIsImNvdW50IiwiY29uY2F0IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwicHVzaCIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwidG9TdHJpbmciLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsInNwbGljZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiYXBpIiwiY29udGVudCIsImRlZmF1bHQiLCJsb2NhbHMiLCJpbnRyb0pzIiwicmVxdWlyZSIsIkRFRkFVTFRfT1BUSU9OUyIsInRvb2x0aXBDbGFzcyIsInNraXBMYWJlbCIsImRvbmVMYWJlbCIsInByZXZMYWJlbCIsIm5leHRMYWJlbCIsImhpZGVQcmV2IiwiaGlkZU5leHQiLCJzaG93UHJvZ3Jlc3MiLCJzaG93QnVsbGV0cyIsInNob3dTdGVwTnVtYmVycyIsInNjcm9sbFRvIiwiZGlzYWJsZUludGVyYWN0aW9uIiwiZXhpdE9uT3ZlcmxheUNsaWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0ZXBzIiwiaW50cm8iLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsInRvdWNoIiwiZGVzY3RvcCIsImNvbnNvbGUiLCJlcnJvciIsIl9nZXRTdGVwc0J5TWVkaWFNb2RlIiwib25ib2FyZGluZyIsImRlZmF1bHRfb3B0aW9ucyIsInNldE9wdGlvbnMiLCJvbmJlZm9yZWNoYW5nZSIsInN0ZXAiLCJfY3VycmVudFN0ZXAiLCJiZWZvcmVTdGVwIiwicmVmcmVzaCIsImZVcGRhdGVQcm9wZXJ0aWVzU3RlcEJ5U3RlcEhvb2siLCJzdGFydCIsImVsIiwiaWNvbiIsImNsYXNzTmFtZSIsImNsb3NlIiwiYXBwZW5kIiwiZXhpdCIsImZJbml0Q2xvc2VCdXR0b24iLCJzZXRUaW1lb3V0IiwieCIsInkiLCJ0b3AiLCJsZWZ0IiwiYmVoYXZpb3IiLCJmU2Nyb2xsVG8iLCJmIiwiSW50cm9KcyIsInRoaXMiLCJfdGFyZ2V0RWxlbWVudCIsIl9pbnRyb0l0ZW1zIiwiX29wdGlvbnMiLCJ0b29sdGlwUG9zaXRpb24iLCJoaWdobGlnaHRDbGFzcyIsImV4aXRPbkVzYyIsImtleWJvYXJkTmF2aWdhdGlvbiIsInNob3dCdXR0b25zIiwic2Nyb2xsVG9FbGVtZW50Iiwic2Nyb2xsUGFkZGluZyIsIm92ZXJsYXlPcGFjaXR5IiwicG9zaXRpb25QcmVjZWRlbmNlIiwiaGVscGVyRWxlbWVudFBhZGRpbmciLCJoaW50UG9zaXRpb24iLCJoaW50QnV0dG9uTGFiZWwiLCJoaW50QW5pbWF0aW9uIiwiYnV0dG9uQ2xhc3MiLCJhY3RpdmUiLCJwb2ludCIsInBvc2l0aW9ucyIsIl9pbnRyb0ZvckVsZW1lbnQiLCJ0YXJnZXRFbG0iLCJncm91cCIsImJvZHlFbCIsImNsYXNzTGlzdCIsImFkZCIsImFsbEludHJvU3RlcHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW50cm9JdGVtcyIsIl9mb3JFYWNoIiwiY3VycmVudEl0ZW0iLCJfY2xvbmVPYmplY3QiLCJlbGVtZW50IiwiZmxvYXRpbmdFbGVtZW50UXVlcnkiLCJib2R5IiwicG9zaXRpb24iLCJjdXJyZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImRpc3BsYXkiLCJwYXJzZUludCIsIm5leHRTdGVwIiwidGVtcEludHJvSXRlbXMiLCJ6Iiwic29ydCIsImEiLCJiIiwiX2FkZE92ZXJsYXlMYXllciIsIl9uZXh0U3RlcCIsIkRPTUV2ZW50Iiwib24iLCJfb25LZXlEb3duIiwiX29uUmVzaXplIiwiY29kZSIsIndoaWNoIiwiY2hhckNvZGUiLCJrZXlDb2RlIiwiX3ByZXZpb3VzU3RlcCIsInNyY0VsZW1lbnQiLCJtYXRjaCIsIl9pbnRyb0NvbXBsZXRlQ2FsbGJhY2siLCJfZXhpdEludHJvIiwiY2xpY2siLCJwcmV2ZW50RGVmYXVsdCIsInJldHVyblZhbHVlIiwidGVtcCIsImpRdWVyeSIsIl9nb1RvU3RlcCIsIl9nb1RvU3RlcE51bWJlciIsIl9jdXJyZW50U3RlcE51bWJlciIsIl9kaXJlY3Rpb24iLCJ1bmRlZmluZWQiLCJjb250aW51ZVN0ZXAiLCJfaW50cm9CZWZvcmVDaGFuZ2VDYWxsYmFjayIsIl9zaG93RWxlbWVudCIsIl9yZWZyZXNoIiwiX3NldEhlbHBlckxheWVyUG9zaXRpb24iLCJvbGRIZWxwZXJOdW1iZXJMYXllciIsIm9sZEFycm93TGF5ZXIiLCJvbGR0b29sdGlwQ29udGFpbmVyIiwiX3BsYWNlVG9vbHRpcCIsIl9yZUFsaWduSGludHMiLCJ0YXJnZXRFbGVtZW50IiwiZm9yY2UiLCJjb250aW51ZUV4aXQiLCJfaW50cm9CZWZvcmVFeGl0Q2FsbGJhY2siLCJvdmVybGF5TGF5ZXJzIiwib3ZlcmxheUxheWVyIiwib3BhY2l0eSIsImhlbHBlckxheWVyIiwicmVmZXJlbmNlTGF5ZXIiLCJkaXNhYmxlSW50ZXJhY3Rpb25MYXllciIsImZsb2F0aW5nRWxlbWVudCIsIl9yZW1vdmVTaG93RWxlbWVudCIsInBhcmVudCIsIl9yZW1vdmVDbGFzcyIsIm9mZiIsIl9pbnRyb0V4aXRDYWxsYmFjayIsInRvb2x0aXBMYXllciIsImFycm93TGF5ZXIiLCJoZWxwZXJOdW1iZXJMYXllciIsImhpbnRNb2RlIiwiY3VycmVudFN0ZXBPYmoiLCJ0b29sdGlwT2Zmc2V0IiwidGFyZ2V0T2Zmc2V0Iiwid2luZG93U2l6ZSIsImN1cnJlbnRUb29sdGlwUG9zaXRpb24iLCJ0b29sdGlwQ3NzQ2xhc3MiLCJyaWdodCIsImJvdHRvbSIsIm1hcmdpbkxlZnQiLCJtYXJnaW5Ub3AiLCJyZXBsYWNlIiwiX2RldGVybWluZUF1dG9Qb3NpdGlvbiIsImFic0NsaWVudFdpZHRoIiwiX2dldE9mZnNldCIsIl9nZXRXaW5TaXplIiwiX2FkZENsYXNzIiwidG9vbHRpcExheWVyU3R5bGVSaWdodCIsIl9jaGVja0xlZnQiLCJoZWlnaHQiLCJ0b29sdGlwTGF5ZXJTdHlsZUxlZnRSaWdodCIsIndpZHRoIiwiX2NoZWNrUmlnaHQiLCJ0b29sdGlwTGF5ZXJTdHlsZUxlZnQiLCJkZXNpcmVkVG9vbHRpcFBvc2l0aW9uIiwicG9zc2libGVQb3NpdGlvbnMiLCJzbGljZSIsInRvb2x0aXBIZWlnaHQiLCJ0b29sdGlwV2lkdGgiLCJ0YXJnZXRFbGVtZW50UmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNhbGN1bGF0ZWRQb3NpdGlvbiIsIl9yZW1vdmVFbnRyeSIsInBvcyIsImh5cGhlbkluZGV4IiwiZGVzaXJlZEFsaWdubWVudCIsImluZGV4T2YiLCJzdWJzdHIiLCJzcGxpdCIsIm9mZnNldExlZnQiLCJoYWxmVG9vbHRpcFdpZHRoIiwid2luV2lkdGgiLCJNYXRoIiwibWluIiwic2NyZWVuIiwicG9zc2libGVBbGlnbm1lbnRzIiwiX2RldGVybWluZUF1dG9BbGlnbm1lbnQiLCJzdHJpbmdBcnJheSIsInN0cmluZ1RvUmVtb3ZlIiwiZWxlbWVudFBvc2l0aW9uIiwid2lkdGhIZWlnaHRQYWRkaW5nIiwiX2lzRml4ZWQiLCJfZGlzYWJsZUludGVyYWN0aW9uIiwiX3NldEFuY2hvckFzQnV0dG9uIiwiYW5jaG9yIiwidGFiSW5kZXgiLCJfaW50cm9DaGFuZ2VDYWxsYmFjayIsIm5leHRUb29sdGlwQnV0dG9uIiwicHJldlRvb2x0aXBCdXR0b24iLCJza2lwVG9vbHRpcEJ1dHRvbiIsInNjcm9sbFBhcmVudCIsInNlbGYiLCJvbGRIZWxwZXJMYXllciIsIm9sZFJlZmVyZW5jZUxheWVyIiwib2xkdG9vbHRpcExheWVyIiwiaW5uZXJIVE1MIiwibGFzdEludHJvSXRlbSIsIl9nZXRTY3JvbGxQYXJlbnQiLCJfc2Nyb2xsUGFyZW50VG9FbGVtZW50IiwiX2xhc3RTaG93RWxlbWVudFRpbWVyIiwiY2xlYXJUaW1lb3V0IiwiX2dldFByb2dyZXNzIiwidGVzdCIsImZvY3VzIiwiX3Njcm9sbFRvIiwidG9vbHRpcFRleHRMYXllciIsImJ1bGxldHNMYXllciIsInByb2dyZXNzTGF5ZXIiLCJidXR0b25zTGF5ZXIiLCJ1bENvbnRhaW5lciIsImFuY2hvckNsaWNrIiwiZ29Ub1N0ZXAiLCJpbm5lckxpIiwiYW5jaG9yTGluayIsIm9uY2xpY2siLCJwcm9ncmVzc0JhciIsIl9pbnRyb1NraXBDYWxsYmFjayIsInBhcmVudEVsbSIsIlNWR0VsZW1lbnQiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJjdXJyZW50RWxlbWVudFBvc2l0aW9uIiwiX2dldFByb3BWYWx1ZSIsInpJbmRleCIsInBhcnNlRmxvYXQiLCJ0cmFuc2Zvcm0iLCJfc2V0U2hvd0VsZW1lbnQiLCJfaW50cm9BZnRlckNoYW5nZUNhbGxiYWNrIiwicmVjdCIsImlubmVySGVpZ2h0IiwiaW5uZXJXaWR0aCIsIl9lbGVtZW50SW5WaWV3cG9ydCIsIndpbkhlaWdodCIsInNjcm9sbFRvT3B0aW9ucyIsInBhZ2VZT2Zmc2V0IiwiY2xpZW50SGVpZ2h0IiwiZWxtIiwiYXJyIiwiZm9yRWFjaEZuYyIsImNvbXBsZXRlRm5jIiwibGVuIiwiX3N0YW1wIiwiZXZlbnRzX2tleSIsIl9pZCIsInR5cGUiLCJsaXN0ZW5lciIsImNvbnRleHQiLCJ1c2VDYXB0dXJlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJoYW5kbGVyIiwiZXZlbnQiLCJhdHRhY2hFdmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZXRhY2hFdmVudCIsInByZSIsImNscyIsImNsYXNzTmFtZVJlZ2V4IiwicHJvcE5hbWUiLCJwcm9wVmFsdWUiLCJjdXJyZW50U3R5bGUiLCJkZWZhdWx0VmlldyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwibm9kZU5hbWUiLCJEIiwic3R5bGVUZXh0IiwiX3JlbW92ZUhpbnRUb29sdGlwIiwidG9vbHRpcCIsIl9wb3B1bGF0ZUhpbnRzIiwiaGludHMiLCJoaW50IiwiX2FkZEhpbnRzIiwiX2FsaWduSGludFBvc2l0aW9uIiwiX2hpbnRRdWVyeVNlbGVjdG9yQWxsIiwic2VsZWN0b3IiLCJoaW50c1dyYXBwZXIiLCJfaGlkZUhpbnQiLCJzdGVwSWQiLCJfaGludENsb3NlQ2FsbGJhY2siLCJfaGlkZUhpbnRzIiwiX3Nob3dIaW50cyIsIl9zaG93SGludCIsIl9yZW1vdmVIaW50cyIsIl9yZW1vdmVIaW50IiwiZXZ0Iiwic3RvcFByb3BhZ2F0aW9uIiwiY2FuY2VsQnViYmxlIiwiX3Nob3dIaW50RGlhbG9nIiwiZ2V0SGludENsaWNrIiwiaGludERvdCIsImhpbnRQdWxzZSIsIl9oaW50c0FkZGVkQ2FsbGJhY2siLCJvZmZzZXQiLCJoaW50RWxlbWVudCIsIl9oaW50Q2xpY2tDYWxsYmFjayIsInJlbW92ZWRTdGVwIiwidG9vbHRpcFdyYXBwZXIiLCJjbG9zZUJ1dHRvbiIsImRvY0VsIiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsInBhZ2VYT2Zmc2V0IiwiZXhjbHVkZVN0YXRpY1BhcmVudCIsIm92ZXJmbG93UmVnZXgiLCJwYXJlbnRFbGVtZW50Iiwib3ZlcmZsb3ciLCJvdmVyZmxvd1kiLCJvdmVyZmxvd1giLCJvZmZzZXRUb3AiLCJpbnN0YW5jZSIsImluc3RhbmNlcyIsInZlcnNpb24iLCJmbiIsImNsb25lIiwic2V0T3B0aW9uIiwib3B0aW9uIiwib2JqMSIsIm9iajIiLCJhdHRybmFtZSIsIm9iajMiLCJfbWVyZ2VPcHRpb25zIiwiYWRkU3RlcCIsImFkZFN0ZXBzIiwiZ29Ub1N0ZXBOdW1iZXIiLCJwcmV2aW91c1N0ZXAiLCJwcm92aWRlZENhbGxiYWNrIiwib25jaGFuZ2UiLCJvbmFmdGVyY2hhbmdlIiwib25jb21wbGV0ZSIsIm9uaGludHNhZGRlZCIsIm9uaGludGNsaWNrIiwib25oaW50Y2xvc2UiLCJvbmV4aXQiLCJvbnNraXAiLCJvbmJlZm9yZWV4aXQiLCJhZGRIaW50cyIsImhpZGVIaW50IiwiaGlkZUhpbnRzIiwic2hvd0hpbnQiLCJzaG93SGludHMiLCJyZW1vdmVIaW50cyIsInJlbW92ZUhpbnQiLCJzaG93SGludERpYWxvZyIsIndhcm4iXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFB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QUpFZ0csS0FBS2lHLG1CQUFxQndNLEVBSXJCelMsTUFFVGlULE9BQVEsU0FBU1IsR0FDZixHQUFrQyxtQkFBdkIsRUFHVCxNQUFNLElBQUl6WSxNQUFNLG9EQUVsQixPQUpFZ0csS0FBSzJMLG1CQUFxQjhHLEVBSXJCelMsTUFFVGtULGFBQWMsU0FBU1QsR0FDckIsR0FBa0MsbUJBQXZCLEVBR1QsTUFBTSxJQUFJelksTUFBTSwwREFFbEIsT0FKRWdHLEtBQUtxRix5QkFBMkJvTixFQUkzQnpTLE1BRVRtVCxTQUFVLFdBRVIsT0FEQW5FLEVBQWU3WixLQUFLNkssS0FBTUEsS0FBS0MsZ0JBQ3hCRCxNQUVUb1QsU0FBVSxTQUFVM0QsR0FFbEIsT0FEQUQsRUFBVXJhLEtBQUs2SyxLQUFNeVAsR0FDZHpQLE1BRVRxVCxVQUFXLFdBRVQsT0FEQTFELEVBQVd4YSxLQUFLNkssTUFDVEEsTUFFVHNULFNBQVUsU0FBVTdELEdBRWxCLE9BREFJLEVBQVUxYSxLQUFLNkssS0FBTXlQLEdBQ2R6UCxNQUVUdVQsVUFBVyxXQUVULE9BREEzRCxFQUFXemEsS0FBSzZLLE1BQ1RBLE1BRVR3VCxZQUFhLFdBRVgsT0FEQTFELEVBQWEzYSxLQUFLNkssTUFDWEEsTUFFVHlULFdBQVksU0FBVWhFLEdBRXBCLE9BREFNLEVBQVk1YSxLQUFLNkssS0FBTXlQLEdBQ2hCelAsTUFFVDBULGVBQWdCLFNBQVVqRSxHQUV4QixPQURBVSxFQUFnQmhiLEtBQUs2SyxLQUFNeVAsR0FDcEJ6UCxPQUlKcEQsR0F6aEZEN0gsRUFBT0QsUUFBVWdMLElBR2pCL0ssRUFBT0QsUUFBUThILFFBQVUsV0FHdkIsT0FGQXVCLFFBQVF3VixLQUFLLHNHQUVON1QsSUFBSTZOLE1BQU0zTixLQUFNNE4iLCJmaWxlIjoianMvb25ib2FyZGluZy5qcz82YjQ1ZjNmYzRhZGE5NDVhZmEwZCIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyMyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZGVmaW5lUHJvcGVydHk7IiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzPz9yZWYtLTMtMSEuLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcz8/cmVmLS0yLTEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMi0yIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tMi0zIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0yLTQhLi9vbmJvYXJkaW5nLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsImNvbnN0IGludHJvSnMgPSByZXF1aXJlKFwiQDYzcG9rdXBraS9vbmJvYXJkaW5nLWNvcmVcIik7XG5cbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICB0b29sdGlwQ2xhc3M6IFwib25ib2FyZGluZy1iYXNlLXN0ZXBzXCIsXG4gICAgc2tpcExhYmVsOiBcItCf0YDQvtC/0YPRgdGC0LjRgtGMXCIsXG4gICAgZG9uZUxhYmVsOiBcItCX0LDQutC+0L3Rh9C40YLRjFwiLFxuICAgIHByZXZMYWJlbDogXCLQndCw0LfQsNC0XCIsXG4gICAgbmV4dExhYmVsOiBcItCU0LDQu9C10LVcIixcbiAgICBoaWRlUHJldjogdHJ1ZSxcbiAgICBoaWRlTmV4dDogdHJ1ZSxcbiAgICBzaG93UHJvZ3Jlc3M6IHRydWUsXG4gICAgc2hvd0J1bGxldHM6IGZhbHNlLFxuICAgIHNob3dTdGVwTnVtYmVyczogZmFsc2UsXG4gICAgc2Nyb2xsVG86IFwidG9vbHRpcFwiLFxuICAgIGRpc2FibGVJbnRlcmFjdGlvbjogdHJ1ZSxcbiAgICBleGl0T25PdmVybGF5Q2xpY2s6IGZhbHNlXG59O1xuXG5jb25zdCB0b3VjaHBvaW50ID0gMTAyNDtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZNYWluKTtcblxuLyoqXG4gKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQu9C+0LPQuNC60LhcbiAqL1xuZnVuY3Rpb24gZk1haW4oKSB7XG4gICAgdHJ5IHtcblxuICAgICAgICBpZiAoIXdpbmRvdy5zdGVwcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwi0KjQsNCz0Lgg0L7RgtGB0YPRgtGB0YLQstGD0Y7RglwiKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsZXQgaW50cm8gPSBpbnRyb0pzKCk7XG4gICAgICAgIGNvbnN0IHN0ZXBzID0gX2dldFN0ZXBzQnlNZWRpYU1vZGUodG91Y2hwb2ludCk7XG5cbiAgICAgICAgaW50cm8gPSBmVXBkYXRlUHJvcGVydGllc1N0ZXBCeVN0ZXBIb29rKGludHJvLCBERUZBVUxUX09QVElPTlMsIHN0ZXBzKTtcblxuICAgICAgICBpbnRyby5zdGFydCgpO1xuXG4gICAgICAgIGZJbml0Q2xvc2VCdXR0b24oaW50cm8pO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gZlNjcm9sbFRvKCksIDUwMCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiDQntC/0YDQtdC00LXQu9C10L3QuNC1INGA0LXQttC40LzQsCDQv9C+0LrQsNC30LAgLSDQvNC+0LHQuNC70YzQvdGL0LUv0LTQtdGB0LrRgtC+0L9cbiAqL1xuZnVuY3Rpb24gX2dldFN0ZXBzQnlNZWRpYU1vZGUobWVkaWEpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB3ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuXG4gICAgICAgIGlmICh3IDw9IG1lZGlhKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LnN0ZXBzLnRvdWNoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LnN0ZXBzLmRlc2N0b3AoKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG59XG5cbi8qKlxuICog0J/RgNC+0LLQtdGA0LrQsCDQstC40LTQuNC80L7RgdGC0LggKNGB0YPRidC10YHRgtCy0L7QstCw0L3QuNGPKSDRjdC70LXQvNC10L3RgtCwXG4gKiBAcGFyYW0ge30gZWxlbWVudCAtINGN0LvQtdC80LXQvdGCXG4gKi9cbmZ1bmN0aW9uIF9pc0VsZW1lbnRFeGlzdChlbGVtZW50KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCLQrdC70LXQvNC10L3RgiDQvdC1INC/0LXRgNC10LTQsNC9XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBoZWlnaHQsIHdpZHRoIH0gPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGlmIChoZWlnaHQgIT09IDAgJiYgd2lkdGggIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiDQn9C+0LvRg9GH0LXQvdC40LUg0LLQuNC00LjQvNC+0LPQviDRjdC70LXQvNC10L3RgtCwINC/0L4gY3NzINGB0LXQu9C10LrRgtC+0YDRg1xuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yIC0gY3NzINCy0LDQu9C40LTQvdGL0Lkg0YHQtdC70LXQutGC0L7RgFxuICovXG5mdW5jdGlvbiBnZXRFbGVtZW50KHNlbGVjdG9yKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwi0KHQtdC70LXQutGC0L7RgCDQvdC1INC/0LXRgNC10LTQsNC9XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgdmlzaWJsZUVsZW1lbnQgPSBlbGVtZW50cy5maW5kKGVsID0+IF9pc0VsZW1lbnRFeGlzdChlbCkpO1xuXG4gICAgICAgIGlmICghdmlzaWJsZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcItCS0LjQtNC40LzRi9C5INGN0LvQtdC80LXQvdGCINC90LUg0L3QsNC50LTQtdC9XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZpc2libGVFbGVtZW50O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG59XG5cbi8qKlxuICog0J/RgNC+0LrRgNGD0YLQutCwXG4gKiBAcGFyYW0ge051bWJlcn0geCAtINC60L7QvtGA0LTQuNC90LDRgtCwIFgg0L/RgNC+0LrRgNGD0YLQutC4XG4gKiBAcGFyYW0ge051bWJlcn0geSAtINC60L7QvtGA0LTQuNC90LDRgtCwIFkg0L/RgNC+0LrRgNGD0YLQutC4XG4gKi9cbmZ1bmN0aW9uIGZTY3JvbGxUbyh4ID0gMCwgeSA9IDApIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgdG9wOiB4LFxuICAgICAgICAgICAgbGVmdDogeSxcbiAgICAgICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiXG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbyhvcHRpb25zKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKHgsIHkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiDQntCx0L3QvtCy0LvQtdC90LjQtSDQvdCw0YHRgtGA0L7QtdC6INC/0L7QtCDQutCw0LbQtNGL0Lkg0YjQsNCzINC/0L7QtNGB0LrQsNC30L7Quiwg0YHQvNC10L3QsCDRgtC10LrRgdGC0LAsINC+0YTQvtGA0LzQu9C10L3QuNGPINC4INGC0LRcbiAqIEBwYXJhbSAge30gb25ib2FyZGluZyAtINC+0LHRitC10LrRgiDQv9C+0LTRgdC60LDQt9C+0LpcbiAqIEBwYXJhbSAge30gZGVmYXVsdF9vcHRpb25zIC0g0YHRgtCw0L3QtNCw0YDRgtC90YvQtSDQvdCw0YHRgtGA0L7QudC60LhcbiAqIEBwYXJhbSAge30gc3RlcHMgLSDQvtCx0YrQtdC60YIg0YjQsNCz0L7QsiDRgSDQvdC10YHRgtCw0L3QtNCw0YDRgtC90YvQvNC4INC90LDRgdGC0YDQvtC50LrQsNC80LhcbiAqL1xuZnVuY3Rpb24gZlVwZGF0ZVByb3BlcnRpZXNTdGVwQnlTdGVwSG9vayhvbmJvYXJkaW5nLCBkZWZhdWx0X29wdGlvbnMsIHN0ZXBzKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8g0YPRgdGC0LDQvdC+0LLQutCwINGB0YLQsNC90LTQsNGA0YLQvdGL0YUg0L3QsNGB0YLRgNC+0LXQulxuICAgICAgICBvbmJvYXJkaW5nLnNldE9wdGlvbnMoe1xuICAgICAgICAgICAgLi4uZGVmYXVsdF9vcHRpb25zLFxuICAgICAgICAgICAgc3RlcHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g0L/QtdGA0LXQvtC/0YDQtdC00LXQu9C10L3QuNC1INC90LDRgdGC0YDQvtC10Log0L/QvtC0INC60LDQttC00YvQuSDRiNCw0LNcbiAgICAgICAgb25ib2FyZGluZy5vbmJlZm9yZWNoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgc3RlcCA9IHN0ZXBzW29uYm9hcmRpbmcuX2N1cnJlbnRTdGVwXTtcblxuICAgICAgICAgICAgb25ib2FyZGluZy5zZXRPcHRpb25zKHtcbiAgICAgICAgICAgICAgICAuLi5kZWZhdWx0X29wdGlvbnMsXG4gICAgICAgICAgICAgICAgbmV4dExhYmVsOiBzdGVwLm5leHRMYWJlbCB8fCBkZWZhdWx0X29wdGlvbnMubmV4dExhYmVsLFxuICAgICAgICAgICAgICAgIHByZXZMYWJlbDogc3RlcC5wcmV2TGFiZWwgfHwgZGVmYXVsdF9vcHRpb25zLnByZXZMYWJlbCxcbiAgICAgICAgICAgICAgICBkb25lTGFiZWw6IHN0ZXAuZG9uZUxhYmVsIHx8IGRlZmF1bHRfb3B0aW9ucy5kb25lTGFiZWwsXG4gICAgICAgICAgICAgICAgc2tpcExhYmVsOiBzdGVwLnNraXBMYWJlbCB8fCBkZWZhdWx0X29wdGlvbnMuc2tpcExhYmVsLFxuICAgICAgICAgICAgICAgIHRvb2x0aXBDbGFzczogc3RlcC50b29sdGlwQ2xhc3MgfHwgZGVmYXVsdF9vcHRpb25zLnRvb2x0aXBDbGFzc1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChzdGVwLmJlZm9yZVN0ZXApIHtcbiAgICAgICAgICAgICAgICBzdGVwLmJlZm9yZVN0ZXAoKTtcbiAgICAgICAgICAgICAgICBvbmJvYXJkaW5nLnJlZnJlc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG9uYm9hcmRpbmc7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQutC90L7Qv9C60Lgg0JfQsNC60YDRi9GC0YxcbiAqIEBwYXJhbSAge30gb25ib2FyZGluZyAtINC+0LHRitC10LrRgiDQv9C+0LTRgdC60LDQt9C+0LpcbiAqL1xuZnVuY3Rpb24gZkluaXRDbG9zZUJ1dHRvbihvbmJvYXJkaW5nKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnRyb2pzLXRvb2x0aXBcIik7XG5cbiAgICAgICAgLy8g0YHQvtC30LTQsNC90LjQtSDQuNC60L7QvdC60Lgg0LrRgNC10YHRgtC40LrQsFxuICAgICAgICBsZXQgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpO1xuICAgICAgICBpY29uLmNsYXNzTmFtZSA9IFwiZHMtaWNvbiBpY29uLWNsb3NlXCI7XG5cbiAgICAgICAgLy8g0YHQvtC30LTQsNC90LjQtSDQutC90L7Qv9C60LhcbiAgICAgICAgbGV0IGNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgY2xvc2UuYXBwZW5kKGljb24pO1xuICAgICAgICBjbG9zZS5jbGFzc05hbWUgPSBgaW50cm9qcy10b29sdGlwX19jbG9zZWA7XG4gICAgICAgIGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBvbmJvYXJkaW5nLmV4aXQodHJ1ZSkpO1xuXG4gICAgICAgIC8vINC00L7QsdCw0LLQu9C10L3QuNC1INC60L3QvtC/0LrQuFxuICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICAgIGVsLmFwcGVuZChjbG9zZSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBJbnRyby5qcyB2Mi45LjNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS91c2FibGljYS9pbnRyby5qc1xuICpcbiAqIENvcHlyaWdodCAoQykgMjAxNyBBZnNoaW4gTWVocmFiYW5pIChAYWZzaGlubWVoKVxuICovXG5cbihmdW5jdGlvbihmKSB7XG4gICAgaWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmKCk7XG4gICAgICAgIC8vIGRlcHJlY2F0ZWQgZnVuY3Rpb25cbiAgICAgICAgLy8gQHNpbmNlIDIuOC4wXG4gICAgICAgIG1vZHVsZS5leHBvcnRzLmludHJvSnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGVkOiBwbGVhc2UgdXNlIHJlcXVpcmUoXCJpbnRyby5qc1wiKSBkaXJlY3RseSwgaW5zdGVhZCBvZiB0aGUgaW50cm9KcyBtZXRob2Qgb2YgdGhlIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgLy8gaW50cm9KcygpXG4gICAgICAgICAgcmV0dXJuIGYoKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFtdLCBmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZztcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGcgPSB3aW5kb3c7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgZyA9IGdsb2JhbDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgZyA9IHNlbGY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBnLmludHJvSnMgPSBmKCk7XG4gICAgfVxufSkoZnVuY3Rpb24gKCkge1xuICAvL0RlZmF1bHQgY29uZmlnL3ZhcmlhYmxlc1xuICB2YXIgVkVSU0lPTiA9ICcyLjkuMyc7XG5cbiAgLyoqXG4gICAqIEludHJvSnMgbWFpbiBjbGFzc1xuICAgKlxuICAgKiBAY2xhc3MgSW50cm9Kc1xuICAgKi9cbiAgZnVuY3Rpb24gSW50cm9KcyhvYmopIHtcbiAgICB0aGlzLl90YXJnZXRFbGVtZW50ID0gb2JqO1xuICAgIHRoaXMuX2ludHJvSXRlbXMgPSBbXTtcblxuICAgIHRoaXMuX29wdGlvbnMgPSB7XG4gICAgICAvKiBOZXh0IGJ1dHRvbiBsYWJlbCBpbiB0b29sdGlwIGJveCAqL1xuICAgICAgbmV4dExhYmVsOiAnTmV4dCAmcmFycjsnLFxuICAgICAgLyogUHJldmlvdXMgYnV0dG9uIGxhYmVsIGluIHRvb2x0aXAgYm94ICovXG4gICAgICBwcmV2TGFiZWw6ICcmbGFycjsgQmFjaycsXG4gICAgICAvKiBTa2lwIGJ1dHRvbiBsYWJlbCBpbiB0b29sdGlwIGJveCAqL1xuICAgICAgc2tpcExhYmVsOiAnU2tpcCcsXG4gICAgICAvKiBEb25lIGJ1dHRvbiBsYWJlbCBpbiB0b29sdGlwIGJveCAqL1xuICAgICAgZG9uZUxhYmVsOiAnRG9uZScsXG4gICAgICAvKiBIaWRlIHByZXZpb3VzIGJ1dHRvbiBpbiB0aGUgZmlyc3Qgc3RlcD8gT3RoZXJ3aXNlLCBpdCB3aWxsIGJlIGRpc2FibGVkIGJ1dHRvbi4gKi9cbiAgICAgIGhpZGVQcmV2OiBmYWxzZSxcbiAgICAgIC8qIEhpZGUgbmV4dCBidXR0b24gaW4gdGhlIGxhc3Qgc3RlcD8gT3RoZXJ3aXNlLCBpdCB3aWxsIGJlIGRpc2FibGVkIGJ1dHRvbi4gKi9cbiAgICAgIGhpZGVOZXh0OiBmYWxzZSxcbiAgICAgIC8qIERlZmF1bHQgdG9vbHRpcCBib3ggcG9zaXRpb24gKi9cbiAgICAgIHRvb2x0aXBQb3NpdGlvbjogJ2JvdHRvbScsXG4gICAgICAvKiBOZXh0IENTUyBjbGFzcyBmb3IgdG9vbHRpcCBib3hlcyAqL1xuICAgICAgdG9vbHRpcENsYXNzOiAnJyxcbiAgICAgIC8qIENTUyBjbGFzcyB0aGF0IGlzIGFkZGVkIHRvIHRoZSBoZWxwZXJMYXllciAqL1xuICAgICAgaGlnaGxpZ2h0Q2xhc3M6ICcnLFxuICAgICAgLyogQ2xvc2UgaW50cm9kdWN0aW9uIHdoZW4gcHJlc3NpbmcgRXNjYXBlIGJ1dHRvbj8gKi9cbiAgICAgIGV4aXRPbkVzYzogdHJ1ZSxcbiAgICAgIC8qIENsb3NlIGludHJvZHVjdGlvbiB3aGVuIGNsaWNraW5nIG9uIG92ZXJsYXkgbGF5ZXI/ICovXG4gICAgICBleGl0T25PdmVybGF5Q2xpY2s6IHRydWUsXG4gICAgICAvKiBTaG93IHN0ZXAgbnVtYmVycyBpbiBpbnRyb2R1Y3Rpb24/ICovXG4gICAgICBzaG93U3RlcE51bWJlcnM6IHRydWUsXG4gICAgICAvKiBMZXQgdXNlciB1c2Uga2V5Ym9hcmQgdG8gbmF2aWdhdGUgdGhlIHRvdXI/ICovXG4gICAgICBrZXlib2FyZE5hdmlnYXRpb246IHRydWUsXG4gICAgICAvKiBTaG93IHRvdXIgY29udHJvbCBidXR0b25zPyAqL1xuICAgICAgc2hvd0J1dHRvbnM6IHRydWUsXG4gICAgICAvKiBTaG93IHRvdXIgYnVsbGV0cz8gKi9cbiAgICAgIHNob3dCdWxsZXRzOiB0cnVlLFxuICAgICAgLyogU2hvdyB0b3VyIHByb2dyZXNzPyAqL1xuICAgICAgc2hvd1Byb2dyZXNzOiBmYWxzZSxcbiAgICAgIC8qIFNjcm9sbCB0byBoaWdobGlnaHRlZCBlbGVtZW50PyAqL1xuICAgICAgc2Nyb2xsVG9FbGVtZW50OiB0cnVlLFxuICAgICAgLypcbiAgICAgICAqIFNob3VsZCB3ZSBzY3JvbGwgdGhlIHRvb2x0aXAgb3IgdGFyZ2V0IGVsZW1lbnQ/XG4gICAgICAgKlxuICAgICAgICogT3B0aW9ucyBhcmU6ICdlbGVtZW50JyBvciAndG9vbHRpcCdcbiAgICAgICAqL1xuICAgICAgc2Nyb2xsVG86ICdlbGVtZW50JyxcbiAgICAgIC8qIFBhZGRpbmcgdG8gYWRkIGFmdGVyIHNjcm9sbGluZyB3aGVuIGVsZW1lbnQgaXMgbm90IGluIHRoZSB2aWV3cG9ydCAoaW4gcGl4ZWxzKSAqL1xuICAgICAgc2Nyb2xsUGFkZGluZzogMzAsXG4gICAgICAvKiBTZXQgdGhlIG92ZXJsYXkgb3BhY2l0eSAqL1xuICAgICAgb3ZlcmxheU9wYWNpdHk6IDAuOCxcbiAgICAgIC8qIFByZWNlZGVuY2Ugb2YgcG9zaXRpb25zLCB3aGVuIGF1dG8gaXMgZW5hYmxlZCAqL1xuICAgICAgcG9zaXRpb25QcmVjZWRlbmNlOiBbXCJib3R0b21cIiwgXCJ0b3BcIiwgXCJyaWdodFwiLCBcImxlZnRcIl0sXG4gICAgICAvKiBEaXNhYmxlIGFuIGludGVyYWN0aW9uIHdpdGggZWxlbWVudD8gKi9cbiAgICAgIGRpc2FibGVJbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgICAvKiBTZXQgaG93IG11Y2ggcGFkZGluZyB0byBiZSB1c2VkIGFyb3VuZCBoZWxwZXIgZWxlbWVudCAqL1xuICAgICAgaGVscGVyRWxlbWVudFBhZGRpbmc6IDEwLFxuICAgICAgLyogRGVmYXVsdCBoaW50IHBvc2l0aW9uICovXG4gICAgICBoaW50UG9zaXRpb246ICd0b3AtbWlkZGxlJyxcbiAgICAgIC8qIEhpbnQgYnV0dG9uIGxhYmVsICovXG4gICAgICBoaW50QnV0dG9uTGFiZWw6ICdHb3QgaXQnLFxuICAgICAgLyogQWRkaW5nIGFuaW1hdGlvbiB0byBoaW50cz8gKi9cbiAgICAgIGhpbnRBbmltYXRpb246IHRydWUsXG4gICAgICAvKiBhZGRpdGlvbmFsIGNsYXNzZXMgdG8gcHV0IG9uIHRoZSBidXR0b25zICovXG4gICAgICBidXR0b25DbGFzczogXCJpbnRyb2pzLWJ1dHRvblwiLFxuICAgICAgLyogY2hhbmdlIHBvc2l0aW9uJ3MgYmVoYXZpb3Igb24gbWVkaWEgaWYgbmVlZFxuICAgICAgbW9iaWxlIGZpcnN0IG9yaWVudGVkXG4gICAgICAqL1xuICAgICAgbWVkaWE6IFtcbiAgICAgICAge1xuICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICBwb2ludDogNzY4LFxuICAgICAgICAgIHBvc2l0aW9uczoge1xuICAgICAgICAgICAgXCJ0b3AtbWlkZGxlLWFsaWduZWRcIjogXCJ0b3AtbWlkZGxlLWFsaWduZWRcIixcbiAgICAgICAgICAgIFwidG9wLXJpZ2h0LWFsaWduZWRcIjogXCJ0b3AtcmlnaHQtYWxpZ25lZFwiLFxuICAgICAgICAgICAgXCJ0b3AtbGVmdC1hbGlnbmVkXCI6IFwidG9wLWxlZnQtYWxpZ25lZFwiLFxuICAgICAgICAgICAgXCJib3R0b20tbWlkZGxlLWFsaWduZWRcIjogXCJ0b3AtbWlkZGxlLWFsaWduZWRcIixcbiAgICAgICAgICAgIFwiYm90dG9tLXJpZ2h0LWFsaWduZWRcIjogXCJ0b3AtcmlnaHQtYWxpZ25lZFwiLFxuICAgICAgICAgICAgXCJib3R0b20tbGVmdC1hbGlnbmVkXCI6IFwidG9wLWxlZnQtYWxpZ25lZFwiLFxuICAgICAgICAgICAgXCJ0b3BcIjogXCJ0b3BcIixcbiAgICAgICAgICAgIFwibGVmdFwiOiBcImxlZnRcIixcbiAgICAgICAgICAgIFwicmlnaHRcIjogXCJyaWdodFwiLFxuICAgICAgICAgICAgXCJib3R0b21cIjogXCJ0b3BcIixcbiAgICAgICAgICAgIFwiZmxvYXRpbmdcIjogXCJmbG9hdGluZ1wiXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWF0ZSBhIG5ldyBpbnRyb2R1Y3Rpb24vZ3VpZGUgZnJvbSBhbiBlbGVtZW50IGluIHRoZSBwYWdlXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9pbnRyb0ZvckVsZW1lbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldEVsbVxuICAgKiBAcGFyYW0ge1N0cmluZ30gZ3JvdXBcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFN1Y2Nlc3Mgb3Igbm90P1xuICAgKi9cbiAgZnVuY3Rpb24gX2ludHJvRm9yRWxlbWVudCh0YXJnZXRFbG0sIGdyb3VwKSB7XG5cbiAgICB2YXIgYm9keUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XG4gICAgaWYgKGJvZHlFbCkge1xuICAgICAgYm9keUVsLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlLW92ZXJmbG93LXhcIik7XG4gICAgfVxuXG4gICAgdmFyIGFsbEludHJvU3RlcHMgPSB0YXJnZXRFbG0ucXVlcnlTZWxlY3RvckFsbChcIipbZGF0YS1pbnRyb11cIiksXG4gICAgICAgIGludHJvSXRlbXMgPSBbXTtcblxuICAgIGlmICh0aGlzLl9vcHRpb25zLnN0ZXBzKSB7XG4gICAgICAvL3VzZSBzdGVwcyBwYXNzZWQgcHJvZ3JhbW1hdGljYWxseVxuICAgICAgX2ZvckVhY2godGhpcy5fb3B0aW9ucy5zdGVwcywgZnVuY3Rpb24gKHN0ZXApIHtcbiAgICAgICAgdmFyIGN1cnJlbnRJdGVtID0gX2Nsb25lT2JqZWN0KHN0ZXApO1xuXG4gICAgICAgIC8vc2V0IHRoZSBzdGVwXG4gICAgICAgIGN1cnJlbnRJdGVtLnN0ZXAgPSBpbnRyb0l0ZW1zLmxlbmd0aCArIDE7XG5cbiAgICAgICAgLy91c2UgcXVlcnlTZWxlY3RvciBmdW5jdGlvbiBvbmx5IHdoZW4gZGV2ZWxvcGVyIHVzZWQgQ1NTIHNlbGVjdG9yXG4gICAgICAgIGlmICh0eXBlb2YgKGN1cnJlbnRJdGVtLmVsZW1lbnQpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIC8vZ3JhYiB0aGUgZWxlbWVudCB3aXRoIGdpdmVuIHNlbGVjdG9yIGZyb20gdGhlIHBhZ2VcbiAgICAgICAgICBjdXJyZW50SXRlbS5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjdXJyZW50SXRlbS5lbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vaW50cm8gd2l0aG91dCBlbGVtZW50XG4gICAgICAgIGlmICh0eXBlb2YgKGN1cnJlbnRJdGVtLmVsZW1lbnQpID09PSAndW5kZWZpbmVkJyB8fCBjdXJyZW50SXRlbS5lbGVtZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgdmFyIGZsb2F0aW5nRWxlbWVudFF1ZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnRyb2pzRmxvYXRpbmdFbGVtZW50XCIpO1xuXG4gICAgICAgICAgaWYgKGZsb2F0aW5nRWxlbWVudFF1ZXJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBmbG9hdGluZ0VsZW1lbnRRdWVyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZmxvYXRpbmdFbGVtZW50UXVlcnkuY2xhc3NOYW1lID0gJ2ludHJvanNGbG9hdGluZ0VsZW1lbnQnO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZsb2F0aW5nRWxlbWVudFF1ZXJ5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjdXJyZW50SXRlbS5lbGVtZW50ICA9IGZsb2F0aW5nRWxlbWVudFF1ZXJ5O1xuICAgICAgICAgIGN1cnJlbnRJdGVtLnBvc2l0aW9uID0gJ2Zsb2F0aW5nJztcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRJdGVtLnNjcm9sbFRvID0gY3VycmVudEl0ZW0uc2Nyb2xsVG8gfHwgdGhpcy5fb3B0aW9ucy5zY3JvbGxUbztcblxuICAgICAgICBpZiAodHlwZW9mIChjdXJyZW50SXRlbS5kaXNhYmxlSW50ZXJhY3Rpb24pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGN1cnJlbnRJdGVtLmRpc2FibGVJbnRlcmFjdGlvbiA9IHRoaXMuX29wdGlvbnMuZGlzYWJsZUludGVyYWN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRJdGVtLmVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICBpbnRyb0l0ZW1zLnB1c2goY3VycmVudEl0ZW0pO1xuICAgICAgICB9ICAgICAgICBcbiAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy91c2Ugc3RlcHMgZnJvbSBkYXRhLSogYW5ub3RhdGlvbnNcbiAgICAgIHZhciBlbG1zTGVuZ3RoID0gYWxsSW50cm9TdGVwcy5sZW5ndGg7XG4gICAgICB2YXIgZGlzYWJsZUludGVyYWN0aW9uO1xuICAgICAgXG4gICAgICAvL2lmIHRoZXJlJ3Mgbm8gZWxlbWVudCB0byBpbnRyb1xuICAgICAgaWYgKGVsbXNMZW5ndGggPCAxKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgX2ZvckVhY2goYWxsSW50cm9TdGVwcywgZnVuY3Rpb24gKGN1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgIFxuICAgICAgICAvLyBQUiAjODBcbiAgICAgICAgLy8gc3RhcnQgaW50cm8gZm9yIGdyb3VwcyBvZiBlbGVtZW50c1xuICAgICAgICBpZiAoZ3JvdXAgJiYgKGN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtaW50cm8tZ3JvdXBcIikgIT09IGdyb3VwKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNraXAgaGlkZGVuIGVsZW1lbnRzXG4gICAgICAgIGlmIChjdXJyZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RlcCA9IHBhcnNlSW50KGN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zdGVwJyksIDEwKTtcblxuICAgICAgICBpZiAodHlwZW9mIChjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGlzYWJsZS1pbnRlcmFjdGlvbicpKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBkaXNhYmxlSW50ZXJhY3Rpb24gPSAhIWN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kaXNhYmxlLWludGVyYWN0aW9uJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGlzYWJsZUludGVyYWN0aW9uID0gdGhpcy5fb3B0aW9ucy5kaXNhYmxlSW50ZXJhY3Rpb247XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RlcCA+IDApIHtcbiAgICAgICAgICBpbnRyb0l0ZW1zW3N0ZXAgLSAxXSA9IHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGN1cnJlbnRFbGVtZW50LFxuICAgICAgICAgICAgaW50cm86IGN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1pbnRybycpLFxuICAgICAgICAgICAgc3RlcDogcGFyc2VJbnQoY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXN0ZXAnKSwgMTApLFxuICAgICAgICAgICAgdG9vbHRpcENsYXNzOiBjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcGNsYXNzJyksXG4gICAgICAgICAgICBoaWdobGlnaHRDbGFzczogY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWhpZ2hsaWdodGNsYXNzJyksXG4gICAgICAgICAgICBwb3NpdGlvbjogY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBvc2l0aW9uJykgfHwgdGhpcy5fb3B0aW9ucy50b29sdGlwUG9zaXRpb24sXG4gICAgICAgICAgICBzY3JvbGxUbzogY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbHRvJykgfHwgdGhpcy5fb3B0aW9ucy5zY3JvbGxUbyxcbiAgICAgICAgICAgIGRpc2FibGVJbnRlcmFjdGlvbjogZGlzYWJsZUludGVyYWN0aW9uXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgLy9uZXh0IGFkZCBpbnRybyBpdGVtcyB3aXRob3V0IGRhdGEtc3RlcFxuICAgICAgLy90b2RvOiB3ZSBuZWVkIGEgY2xlYW51cCBoZXJlLCB0d28gbG9vcHMgYXJlIHJlZHVuZGFudFxuICAgICAgdmFyIG5leHRTdGVwID0gMDtcblxuICAgICAgX2ZvckVhY2goYWxsSW50cm9TdGVwcywgZnVuY3Rpb24gKGN1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgIFxuICAgICAgICAvLyBQUiAjODBcbiAgICAgICAgLy8gc3RhcnQgaW50cm8gZm9yIGdyb3VwcyBvZiBlbGVtZW50c1xuICAgICAgICBpZiAoZ3JvdXAgJiYgKGN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtaW50cm8tZ3JvdXBcIikgIT09IGdyb3VwKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zdGVwJykgPT09IG51bGwpIHtcblxuICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGludHJvSXRlbXNbbmV4dFN0ZXBdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5leHRTdGVwKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBcblxuICAgICAgICAgIGlmICh0eXBlb2YgKGN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kaXNhYmxlLWludGVyYWN0aW9uJykpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgZGlzYWJsZUludGVyYWN0aW9uID0gISFjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGlzYWJsZS1pbnRlcmFjdGlvbicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaXNhYmxlSW50ZXJhY3Rpb24gPSB0aGlzLl9vcHRpb25zLmRpc2FibGVJbnRlcmFjdGlvbjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpbnRyb0l0ZW1zW25leHRTdGVwXSA9IHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGN1cnJlbnRFbGVtZW50LFxuICAgICAgICAgICAgaW50cm86IGN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1pbnRybycpLFxuICAgICAgICAgICAgc3RlcDogbmV4dFN0ZXAgKyAxLFxuICAgICAgICAgICAgdG9vbHRpcENsYXNzOiBjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcGNsYXNzJyksXG4gICAgICAgICAgICBoaWdobGlnaHRDbGFzczogY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWhpZ2hsaWdodGNsYXNzJyksXG4gICAgICAgICAgICBwb3NpdGlvbjogY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBvc2l0aW9uJykgfHwgdGhpcy5fb3B0aW9ucy50b29sdGlwUG9zaXRpb24sXG4gICAgICAgICAgICBzY3JvbGxUbzogY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXNjcm9sbHRvJykgfHwgdGhpcy5fb3B0aW9ucy5zY3JvbGxUbyxcbiAgICAgICAgICAgIGRpc2FibGVJbnRlcmFjdGlvbjogZGlzYWJsZUludGVyYWN0aW9uXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvL3JlbW92aW5nIHVuZGVmaW5lZC9udWxsIGVsZW1lbnRzXG4gICAgdmFyIHRlbXBJbnRyb0l0ZW1zID0gW107XG4gICAgZm9yICh2YXIgeiA9IDA7IHogPCBpbnRyb0l0ZW1zLmxlbmd0aDsgeisrKSB7XG4gICAgICBpZiAoaW50cm9JdGVtc1t6XSkge1xuICAgICAgICAvLyBjb3B5IG5vbi1mYWxzeSB2YWx1ZXMgdG8gdGhlIGVuZCBvZiB0aGUgYXJyYXlcbiAgICAgICAgdGVtcEludHJvSXRlbXMucHVzaChpbnRyb0l0ZW1zW3pdKTsgIFxuICAgICAgfSBcbiAgICB9XG5cbiAgICBpbnRyb0l0ZW1zID0gdGVtcEludHJvSXRlbXM7XG5cbiAgICAvL09rLCBzb3J0IGFsbCBpdGVtcyB3aXRoIGdpdmVuIHN0ZXBzXG4gICAgaW50cm9JdGVtcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS5zdGVwIC0gYi5zdGVwO1xuICAgIH0pO1xuXG4gICAgLy9zZXQgaXQgdG8gdGhlIGludHJvSnMgb2JqZWN0XG4gICAgdGhpcy5faW50cm9JdGVtcyA9IGludHJvSXRlbXM7XG5cbiAgICAvL2FkZCBvdmVybGF5IGxheWVyIHRvIHRoZSBwYWdlXG4gICAgaWYoX2FkZE92ZXJsYXlMYXllci5jYWxsKHRoaXMsIHRhcmdldEVsbSkpIHtcbiAgICAgIC8vdGhlbiwgc3RhcnQgdGhlIHNob3dcbiAgICAgIF9uZXh0U3RlcC5jYWxsKHRoaXMpO1xuXG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5rZXlib2FyZE5hdmlnYXRpb24pIHtcbiAgICAgICAgRE9NRXZlbnQub24od2luZG93LCAna2V5ZG93bicsIF9vbktleURvd24sIHRoaXMsIHRydWUpO1xuICAgICAgfVxuICAgICAgLy9mb3Igd2luZG93IHJlc2l6ZVxuICAgICAgRE9NRXZlbnQub24od2luZG93LCAncmVzaXplJywgX29uUmVzaXplLCB0aGlzLCB0cnVlKTtcbiAgICAgIERPTUV2ZW50Lm9uKHdpbmRvdywgJ29yaWVudGF0aW9uY2hhbmdlJywgX29uUmVzaXplLCB0aGlzLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gX29uUmVzaXplICgpIHtcbiAgICB0aGlzLnJlZnJlc2guY2FsbCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAqIG9uIGtleUNvZGU6XG4gICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQva2V5Q29kZVxuICAqIFRoaXMgZmVhdHVyZSBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIFdlYiBzdGFuZGFyZHMuXG4gICogVGhvdWdoIHNvbWUgYnJvd3NlcnMgbWF5IHN0aWxsIHN1cHBvcnQgaXQsIGl0IGlzIGluXG4gICogdGhlIHByb2Nlc3Mgb2YgYmVpbmcgZHJvcHBlZC5cbiAgKiBJbnN0ZWFkLCB5b3Ugc2hvdWxkIHVzZSBLZXlib2FyZEV2ZW50LmNvZGUsXG4gICogaWYgaXQncyBpbXBsZW1lbnRlZC5cbiAgKlxuICAqIGpRdWVyeSdzIGFwcHJvYWNoIGlzIHRvIHRlc3QgZm9yXG4gICogICAoMSkgZS53aGljaCwgdGhlblxuICAqICAgKDIpIGUuY2hhckNvZGUsIHRoZW5cbiAgKiAgICgzKSBlLmtleUNvZGVcbiAgKiBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9ibG9iL2E2YjA3MDUyOTRkMzM2YWUyZjYzZjcyNzZkZTBkYTExOTU0OTUzNjMvc3JjL2V2ZW50LmpzI0w2MzhcbiAgKlxuICAqIEBwYXJhbSB0eXBlIHZhclxuICAqIEByZXR1cm4gdHlwZVxuICAqL1xuICBmdW5jdGlvbiBfb25LZXlEb3duIChlKSB7XG4gICAgdmFyIGNvZGUgPSAoZS5jb2RlID09PSBudWxsKSA/IGUud2hpY2ggOiBlLmNvZGU7XG5cbiAgICAvLyBpZiBjb2RlL2Uud2hpY2ggaXMgbnVsbFxuICAgIGlmIChjb2RlID09PSBudWxsKSB7XG4gICAgICBjb2RlID0gKGUuY2hhckNvZGUgPT09IG51bGwpID8gZS5rZXlDb2RlIDogZS5jaGFyQ29kZTtcbiAgICB9XG4gICAgXG4gICAgaWYgKChjb2RlID09PSAnRXNjYXBlJyB8fCBjb2RlID09PSAyNykgJiYgdGhpcy5fb3B0aW9ucy5leGl0T25Fc2MgPT09IHRydWUpIHtcbiAgICAgIC8vZXNjYXBlIGtleSBwcmVzc2VkLCBleGl0IHRoZSBpbnRyb1xuICAgICAgLy9jaGVjayBpZiBleGl0IGNhbGxiYWNrIGlzIGRlZmluZWRcbiAgICAgIF9leGl0SW50cm8uY2FsbCh0aGlzLCB0aGlzLl90YXJnZXRFbGVtZW50KTtcbiAgICB9IGVsc2UgaWYgKGNvZGUgPT09ICdBcnJvd0xlZnQnIHx8IGNvZGUgPT09IDM3KSB7XG4gICAgICAvL2xlZnQgYXJyb3dcbiAgICAgIF9wcmV2aW91c1N0ZXAuY2FsbCh0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGNvZGUgPT09ICdBcnJvd1JpZ2h0JyB8fCBjb2RlID09PSAzOSkge1xuICAgICAgLy9yaWdodCBhcnJvd1xuICAgICAgX25leHRTdGVwLmNhbGwodGhpcyk7XG4gICAgfSBlbHNlIGlmIChjb2RlID09PSAnRW50ZXInIHx8IGNvZGUgPT09IDEzKSB7XG4gICAgICAvL3NyY0VsZW1lbnQgPT09IGllXG4gICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQuY2xhc3NOYW1lLm1hdGNoKCdpbnRyb2pzLXByZXZidXR0b24nKSkge1xuICAgICAgICAvL3VzZXIgaGl0IGVudGVyIHdoaWxlIGZvY3VzaW5nIG9uIHByZXZpb3VzIGJ1dHRvblxuICAgICAgICBfcHJldmlvdXNTdGVwLmNhbGwodGhpcyk7XG4gICAgICB9IGVsc2UgaWYgKHRhcmdldCAmJiB0YXJnZXQuY2xhc3NOYW1lLm1hdGNoKCdpbnRyb2pzLXNraXBidXR0b24nKSkge1xuICAgICAgICAvL3VzZXIgaGl0IGVudGVyIHdoaWxlIGZvY3VzaW5nIG9uIHNraXAgYnV0dG9uXG4gICAgICAgIGlmICh0aGlzLl9pbnRyb0l0ZW1zLmxlbmd0aCAtIDEgPT09IHRoaXMuX2N1cnJlbnRTdGVwICYmIHR5cGVvZiAodGhpcy5faW50cm9Db21wbGV0ZUNhbGxiYWNrKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5faW50cm9Db21wbGV0ZUNhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBfZXhpdEludHJvLmNhbGwodGhpcywgdGhpcy5fdGFyZ2V0RWxlbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKHRhcmdldCAmJiB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXN0ZXBudW1iZXInKSkge1xuICAgICAgICAvLyB1c2VyIGhpdCBlbnRlciB3aGlsZSBmb2N1c2luZyBvbiBzdGVwIGJ1bGxldFxuICAgICAgICB0YXJnZXQuY2xpY2soKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vZGVmYXVsdCBiZWhhdmlvciBmb3IgcmVzcG9uZGluZyB0byBlbnRlclxuICAgICAgICBfbmV4dFN0ZXAuY2FsbCh0aGlzKTtcbiAgICAgIH1cblxuICAgICAgLy9wcmV2ZW50IGRlZmF1bHQgYmVoYXZpb3VyIG9uIGhpdHRpbmcgRW50ZXIsIHRvIHByZXZlbnQgc3RlcHMgYmVpbmcgc2tpcHBlZCBpbiBzb21lIGJyb3dzZXJzXG4gICAgICBpZihlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuIC8qXG4gICAqIG1ha2VzIGEgY29weSBvZiB0aGUgb2JqZWN0XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9jbG9uZU9iamVjdFxuICAqL1xuICBmdW5jdGlvbiBfY2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gICAgICBpZiAob2JqZWN0ID09PSBudWxsIHx8IHR5cGVvZiAob2JqZWN0KSAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIChvYmplY3Qubm9kZVR5cGUpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgdmFyIHRlbXAgPSB7fTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKHR5cGVvZih3aW5kb3cualF1ZXJ5KSAhPT0gJ3VuZGVmaW5lZCcgJiYgb2JqZWN0W2tleV0gaW5zdGFuY2VvZiB3aW5kb3cualF1ZXJ5KSB7XG4gICAgICAgICAgdGVtcFtrZXldID0gb2JqZWN0W2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcFtrZXldID0gX2Nsb25lT2JqZWN0KG9iamVjdFtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRlbXA7XG4gIH1cbiAgLyoqXG4gICAqIEdvIHRvIHNwZWNpZmljIHN0ZXAgb2YgaW50cm9kdWN0aW9uXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9nb1RvU3RlcFxuICAgKi9cbiAgZnVuY3Rpb24gX2dvVG9TdGVwKHN0ZXApIHtcbiAgICAvL2JlY2F1c2Ugc3RlcHMgc3RhcnRzIHdpdGggemVyb1xuICAgIHRoaXMuX2N1cnJlbnRTdGVwID0gc3RlcCAtIDI7XG4gICAgaWYgKHR5cGVvZiAodGhpcy5faW50cm9JdGVtcykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBfbmV4dFN0ZXAuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR28gdG8gdGhlIHNwZWNpZmljIHN0ZXAgb2YgaW50cm9kdWN0aW9uIHdpdGggdGhlIGV4cGxpY2l0IFtkYXRhLXN0ZXBdIG51bWJlclxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfZ29Ub1N0ZXBOdW1iZXJcbiAgICovXG4gIGZ1bmN0aW9uIF9nb1RvU3RlcE51bWJlcihzdGVwKSB7XG4gICAgdGhpcy5fY3VycmVudFN0ZXBOdW1iZXIgPSBzdGVwO1xuICAgIGlmICh0eXBlb2YgKHRoaXMuX2ludHJvSXRlbXMpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgX25leHRTdGVwLmNhbGwodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdvIHRvIG5leHQgc3RlcCBvbiBpbnRyb1xuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfbmV4dFN0ZXBcbiAgICovXG4gIGZ1bmN0aW9uIF9uZXh0U3RlcCgpIHtcbiAgICB0aGlzLl9kaXJlY3Rpb24gPSAnZm9yd2FyZCc7XG5cbiAgICBpZiAodHlwZW9mICh0aGlzLl9jdXJyZW50U3RlcE51bWJlcikgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBfZm9yRWFjaCh0aGlzLl9pbnRyb0l0ZW1zLCBmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICBpZiggaXRlbS5zdGVwID09PSB0aGlzLl9jdXJyZW50U3RlcE51bWJlciApIHtcbiAgICAgICAgICB0aGlzLl9jdXJyZW50U3RlcCA9IGkgLSAxO1xuICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdGVwTnVtYmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgKHRoaXMuX2N1cnJlbnRTdGVwKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRTdGVwID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgKyt0aGlzLl9jdXJyZW50U3RlcDtcbiAgICB9XG5cbiAgICB2YXIgbmV4dFN0ZXAgPSB0aGlzLl9pbnRyb0l0ZW1zW3RoaXMuX2N1cnJlbnRTdGVwXTtcbiAgICB2YXIgY29udGludWVTdGVwID0gdHJ1ZTtcblxuICAgIGlmICh0eXBlb2YgKHRoaXMuX2ludHJvQmVmb3JlQ2hhbmdlQ2FsbGJhY2spICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29udGludWVTdGVwID0gdGhpcy5faW50cm9CZWZvcmVDaGFuZ2VDYWxsYmFjay5jYWxsKHRoaXMsIG5leHRTdGVwLmVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8vIGlmIGBvbmJlZm9yZWNoYW5nZWAgcmV0dXJuZWQgYGZhbHNlYCwgc3RvcCBkaXNwbGF5aW5nIHRoZSBlbGVtZW50XG4gICAgaWYgKGNvbnRpbnVlU3RlcCA9PT0gZmFsc2UpIHtcbiAgICAgIC0tdGhpcy5fY3VycmVudFN0ZXA7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCh0aGlzLl9pbnRyb0l0ZW1zLmxlbmd0aCkgPD0gdGhpcy5fY3VycmVudFN0ZXApIHtcbiAgICAgIC8vZW5kIG9mIHRoZSBpbnRyb1xuICAgICAgLy9jaGVjayBpZiBhbnkgY2FsbGJhY2sgaXMgZGVmaW5lZFxuICAgICAgaWYgKHR5cGVvZiAodGhpcy5faW50cm9Db21wbGV0ZUNhbGxiYWNrKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9pbnRyb0NvbXBsZXRlQ2FsbGJhY2suY2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICAgIF9leGl0SW50cm8uY2FsbCh0aGlzLCB0aGlzLl90YXJnZXRFbGVtZW50KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBfc2hvd0VsZW1lbnQuY2FsbCh0aGlzLCBuZXh0U3RlcCk7XG4gIH1cblxuICAvKipcbiAgICogR28gdG8gcHJldmlvdXMgc3RlcCBvbiBpbnRyb1xuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfcHJldmlvdXNTdGVwXG4gICAqL1xuICBmdW5jdGlvbiBfcHJldmlvdXNTdGVwKCkge1xuICAgIHRoaXMuX2RpcmVjdGlvbiA9ICdiYWNrd2FyZCc7XG5cbiAgICBpZiAodGhpcy5fY3VycmVudFN0ZXAgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAtLXRoaXMuX2N1cnJlbnRTdGVwO1xuXG4gICAgdmFyIG5leHRTdGVwID0gdGhpcy5faW50cm9JdGVtc1t0aGlzLl9jdXJyZW50U3RlcF07XG4gICAgdmFyIGNvbnRpbnVlU3RlcCA9IHRydWU7XG5cbiAgICBpZiAodHlwZW9mICh0aGlzLl9pbnRyb0JlZm9yZUNoYW5nZUNhbGxiYWNrKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnRpbnVlU3RlcCA9IHRoaXMuX2ludHJvQmVmb3JlQ2hhbmdlQ2FsbGJhY2suY2FsbCh0aGlzLCBuZXh0U3RlcC5lbGVtZW50KTtcbiAgICB9XG5cbiAgICAvLyBpZiBgb25iZWZvcmVjaGFuZ2VgIHJldHVybmVkIGBmYWxzZWAsIHN0b3AgZGlzcGxheWluZyB0aGUgZWxlbWVudFxuICAgIGlmIChjb250aW51ZVN0ZXAgPT09IGZhbHNlKSB7XG4gICAgICArK3RoaXMuX2N1cnJlbnRTdGVwO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9zaG93RWxlbWVudC5jYWxsKHRoaXMsIG5leHRTdGVwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgcGxhY2VtZW50IG9mIHRoZSBpbnRybyBvYmplY3RzIG9uIHRoZSBzY3JlZW5cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBfcmVmcmVzaCgpIHtcbiAgICAvLyByZS1hbGlnbiBpbnRyb3NcbiAgICBfc2V0SGVscGVyTGF5ZXJQb3NpdGlvbi5jYWxsKHRoaXMsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLWhlbHBlckxheWVyJykpO1xuICAgIF9zZXRIZWxwZXJMYXllclBvc2l0aW9uLmNhbGwodGhpcywgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvanMtdG9vbHRpcFJlZmVyZW5jZUxheWVyJykpO1xuICAgIF9zZXRIZWxwZXJMYXllclBvc2l0aW9uLmNhbGwodGhpcywgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvanMtZGlzYWJsZUludGVyYWN0aW9uJykpO1xuXG4gICAgLy8gcmUtYWxpZ24gdG9vbHRpcFxuICAgIGlmKHRoaXMuX2N1cnJlbnRTdGVwICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fY3VycmVudFN0ZXAgIT09IG51bGwpIHtcbiAgICAgIHZhciBvbGRIZWxwZXJOdW1iZXJMYXllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLWhlbHBlck51bWJlckxheWVyJyksXG4gICAgICAgIG9sZEFycm93TGF5ZXIgICAgICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvanMtYXJyb3cnKSxcbiAgICAgICAgb2xkdG9vbHRpcENvbnRhaW5lciAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy10b29sdGlwJyk7XG4gICAgICBfcGxhY2VUb29sdGlwLmNhbGwodGhpcywgdGhpcy5faW50cm9JdGVtc1t0aGlzLl9jdXJyZW50U3RlcF0uZWxlbWVudCwgb2xkdG9vbHRpcENvbnRhaW5lciwgb2xkQXJyb3dMYXllciwgb2xkSGVscGVyTnVtYmVyTGF5ZXIpO1xuICAgIH1cblxuICAgIC8vcmUtYWxpZ24gaGludHNcbiAgICBfcmVBbGlnbkhpbnRzLmNhbGwodGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRXhpdCBmcm9tIGludHJvXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9leGl0SW50cm9cbiAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldEVsZW1lbnRcbiAgICogQHBhcmFtIHtCb29sZWFufSBmb3JjZSAtIFNldHRpbmcgdG8gYHRydWVgIHdpbGwgc2tpcCB0aGUgcmVzdWx0IG9mIGJlZm9yZUV4aXQgY2FsbGJhY2tcbiAgICovXG4gIGZ1bmN0aW9uIF9leGl0SW50cm8odGFyZ2V0RWxlbWVudCwgZm9yY2UpIHtcbiAgICB2YXIgY29udGludWVFeGl0ID0gdHJ1ZTtcblxuICAgIC8vIGNhbGxpbmcgb25iZWZvcmVleGl0IGNhbGxiYWNrXG4gICAgLy9cbiAgICAvLyBJZiB0aGlzIGNhbGxiYWNrIHJldHVybiBgZmFsc2VgLCBpdCB3b3VsZCBoYWx0IHRoZSBwcm9jZXNzXG4gICAgaWYgKHRoaXMuX2ludHJvQmVmb3JlRXhpdENhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnRpbnVlRXhpdCA9IHRoaXMuX2ludHJvQmVmb3JlRXhpdENhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgLy8gc2tpcCB0aGlzIGNoZWNrIGlmIGBmb3JjZWAgcGFyYW1ldGVyIGlzIGB0cnVlYFxuICAgIC8vIG90aGVyd2lzZSwgaWYgYG9uYmVmb3JlZXhpdGAgcmV0dXJuZWQgYGZhbHNlYCwgZG9uJ3QgZXhpdCB0aGUgaW50cm9cbiAgICBpZiAoIWZvcmNlICYmIGNvbnRpbnVlRXhpdCA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgIC8vcmVtb3ZlIG92ZXJsYXkgbGF5ZXJzIGZyb20gdGhlIHBhZ2VcbiAgICB2YXIgb3ZlcmxheUxheWVycyA9IHRhcmdldEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmludHJvanMtb3ZlcmxheScpO1xuXG4gICAgaWYgKG92ZXJsYXlMYXllcnMgJiYgb3ZlcmxheUxheWVycy5sZW5ndGgpIHtcbiAgICAgIF9mb3JFYWNoKG92ZXJsYXlMYXllcnMsIGZ1bmN0aW9uIChvdmVybGF5TGF5ZXIpIHtcbiAgICAgICAgb3ZlcmxheUxheWVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHRoaXMucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKG92ZXJsYXlMYXllciksIDUwMCk7XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIC8vcmVtb3ZlIGFsbCBoZWxwZXIgbGF5ZXJzXG4gICAgdmFyIGhlbHBlckxheWVyID0gdGFyZ2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy1oZWxwZXJMYXllcicpO1xuICAgIGlmIChoZWxwZXJMYXllcikge1xuICAgICAgaGVscGVyTGF5ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChoZWxwZXJMYXllcik7XG4gICAgfVxuXG4gICAgdmFyIHJlZmVyZW5jZUxheWVyID0gdGFyZ2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy10b29sdGlwUmVmZXJlbmNlTGF5ZXInKTtcbiAgICBpZiAocmVmZXJlbmNlTGF5ZXIpIHtcbiAgICAgIHJlZmVyZW5jZUxheWVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocmVmZXJlbmNlTGF5ZXIpO1xuICAgIH1cblxuICAgIC8vcmVtb3ZlIGRpc2FibGVJbnRlcmFjdGlvbkxheWVyXG4gICAgdmFyIGRpc2FibGVJbnRlcmFjdGlvbkxheWVyID0gdGFyZ2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy1kaXNhYmxlSW50ZXJhY3Rpb24nKTtcbiAgICBpZiAoZGlzYWJsZUludGVyYWN0aW9uTGF5ZXIpIHtcbiAgICAgIGRpc2FibGVJbnRlcmFjdGlvbkxheWVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGlzYWJsZUludGVyYWN0aW9uTGF5ZXIpO1xuICAgIH1cblxuICAgIC8vcmVtb3ZlIGludHJvIGZsb2F0aW5nIGVsZW1lbnRcbiAgICB2YXIgZmxvYXRpbmdFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvanNGbG9hdGluZ0VsZW1lbnQnKTtcbiAgICBpZiAoZmxvYXRpbmdFbGVtZW50KSB7XG4gICAgICBmbG9hdGluZ0VsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmbG9hdGluZ0VsZW1lbnQpO1xuICAgIH1cblxuICAgIF9yZW1vdmVTaG93RWxlbWVudCgpO1xuXG4gICAgLy9yZW1vdmUgYGludHJvanMtZml4UGFyZW50YCBjbGFzcyBmcm9tIHRoZSBlbGVtZW50c1xuICAgIHZhciBmaXhQYXJlbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmludHJvanMtZml4UGFyZW50Jyk7XG4gICAgX2ZvckVhY2goZml4UGFyZW50cywgZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgX3JlbW92ZUNsYXNzKHBhcmVudCwgL2ludHJvanMtZml4UGFyZW50L2cpO1xuICAgIH0pO1xuXG4gICAgLy9jbGVhbiBsaXN0ZW5lcnNcbiAgICBET01FdmVudC5vZmYod2luZG93LCAna2V5ZG93bicsIF9vbktleURvd24sIHRoaXMsIHRydWUpO1xuICAgIERPTUV2ZW50Lm9mZih3aW5kb3csICdyZXNpemUnLCBfb25SZXNpemUsIHRoaXMsIHRydWUpO1xuXG4gICAgLy9jaGVjayBpZiBhbnkgY2FsbGJhY2sgaXMgZGVmaW5lZFxuICAgIGlmICh0aGlzLl9pbnRyb0V4aXRDYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9pbnRyb0V4aXRDYWxsYmFjay5jYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIC8vc2V0IHRoZSBzdGVwIHRvIHplcm9cbiAgICB0aGlzLl9jdXJyZW50U3RlcCA9IHVuZGVmaW5lZDtcblxuICAgIHZhciBib2R5RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcbiAgICBpZiAoYm9keUVsKSB7XG4gICAgICBib2R5RWwuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGUtb3ZlcmZsb3cteFwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIHRvb2x0aXAgYm94IGluIHRoZSBwYWdlXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9wbGFjZVRvb2x0aXBcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0RWxlbWVudFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0b29sdGlwTGF5ZXJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gYXJyb3dMYXllclxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBoZWxwZXJOdW1iZXJMYXllclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGhpbnRNb2RlXG4gICAqL1xuICBmdW5jdGlvbiBfcGxhY2VUb29sdGlwKHRhcmdldEVsZW1lbnQsIHRvb2x0aXBMYXllciwgYXJyb3dMYXllciwgaGVscGVyTnVtYmVyTGF5ZXIsIGhpbnRNb2RlKSB7XG4gICAgdmFyIHRvb2x0aXBDc3NDbGFzcyA9ICcnLFxuICAgICAgICBjdXJyZW50U3RlcE9iaixcbiAgICAgICAgdG9vbHRpcE9mZnNldCxcbiAgICAgICAgdGFyZ2V0T2Zmc2V0LFxuICAgICAgICB3aW5kb3dTaXplLFxuICAgICAgICBjdXJyZW50VG9vbHRpcFBvc2l0aW9uO1xuXG4gICAgaGludE1vZGUgPSBoaW50TW9kZSB8fCBmYWxzZTtcblxuICAgIC8vcmVzZXQgdGhlIG9sZCBzdHlsZVxuICAgIHRvb2x0aXBMYXllci5zdHlsZS50b3AgICAgICAgID0gbnVsbDtcbiAgICB0b29sdGlwTGF5ZXIuc3R5bGUucmlnaHQgICAgICA9IG51bGw7XG4gICAgdG9vbHRpcExheWVyLnN0eWxlLmJvdHRvbSAgICAgPSBudWxsO1xuICAgIHRvb2x0aXBMYXllci5zdHlsZS5sZWZ0ICAgICAgID0gbnVsbDtcbiAgICB0b29sdGlwTGF5ZXIuc3R5bGUubWFyZ2luTGVmdCA9IG51bGw7XG4gICAgdG9vbHRpcExheWVyLnN0eWxlLm1hcmdpblRvcCAgPSBudWxsO1xuXG4gICAgYXJyb3dMYXllci5zdHlsZS5kaXNwbGF5ID0gJ2luaGVyaXQnO1xuXG4gICAgaWYgKHR5cGVvZihoZWxwZXJOdW1iZXJMYXllcikgIT09ICd1bmRlZmluZWQnICYmIGhlbHBlck51bWJlckxheWVyICE9PSBudWxsKSB7XG4gICAgICBoZWxwZXJOdW1iZXJMYXllci5zdHlsZS50b3AgID0gbnVsbDtcbiAgICAgIGhlbHBlck51bWJlckxheWVyLnN0eWxlLmxlZnQgPSBudWxsO1xuICAgIH1cblxuICAgIC8vcHJldmVudCBlcnJvciB3aGVuIGB0aGlzLl9jdXJyZW50U3RlcGAgaXMgdW5kZWZpbmVkXG4gICAgaWYgKCF0aGlzLl9pbnRyb0l0ZW1zW3RoaXMuX2N1cnJlbnRTdGVwXSkgcmV0dXJuO1xuXG4gICAgLy9pZiB3ZSBoYXZlIGEgY3VzdG9tIGNzcyBjbGFzcyBmb3IgZWFjaCBzdGVwXG4gICAgY3VycmVudFN0ZXBPYmogPSB0aGlzLl9pbnRyb0l0ZW1zW3RoaXMuX2N1cnJlbnRTdGVwXTtcbiAgICBpZiAodHlwZW9mIChjdXJyZW50U3RlcE9iai50b29sdGlwQ2xhc3MpID09PSAnc3RyaW5nJykge1xuICAgICAgdG9vbHRpcENzc0NsYXNzID0gY3VycmVudFN0ZXBPYmoudG9vbHRpcENsYXNzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b29sdGlwQ3NzQ2xhc3MgPSB0aGlzLl9vcHRpb25zLnRvb2x0aXBDbGFzcztcbiAgICB9XG5cbiAgICB0b29sdGlwTGF5ZXIuY2xhc3NOYW1lID0gKCdpbnRyb2pzLXRvb2x0aXAgJyArIHRvb2x0aXBDc3NDbGFzcykucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICAgIHRvb2x0aXBMYXllci5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnZGlhbG9nJyk7XG5cbiAgICBjdXJyZW50VG9vbHRpcFBvc2l0aW9uID0gdGhpcy5faW50cm9JdGVtc1t0aGlzLl9jdXJyZW50U3RlcF0ucG9zaXRpb247XG5cbiAgICAvLyBGbG9hdGluZyBpcyBhbHdheXMgdmFsaWQsIG5vIHBvaW50IGluIGNhbGN1bGF0aW5nXG4gICAgaWYgKGN1cnJlbnRUb29sdGlwUG9zaXRpb24gIT09IFwiZmxvYXRpbmdcIikgeyBcbiAgICAgIGN1cnJlbnRUb29sdGlwUG9zaXRpb24gPSBfZGV0ZXJtaW5lQXV0b1Bvc2l0aW9uLmNhbGwodGhpcywgdGFyZ2V0RWxlbWVudCwgdG9vbHRpcExheWVyLCBjdXJyZW50VG9vbHRpcFBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICAvKiBcbiAgICBjaGFuZ2UgcG9zaXRpb24ncyBiZWhhdmlvciBvbiBtZWRpYSBpZiBuZWVkXG4gICAgbW9iaWxlIGZpcnN0IG9yaWVudGVkXG4gICAgKi9cblxuICAgIHZhciBhYnNDbGllbnRXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICB2YXIgbWVkaWEgPSB0aGlzLl9vcHRpb25zLm1lZGlhXG4gICAgLmZpbHRlcihmdW5jdGlvbiAoaSkge3JldHVybiBpLmFjdGl2ZSAmJiBhYnNDbGllbnRXaWR0aCA8PSBpLnBvaW50fSlcbiAgICAuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYi5wb2ludCAtIGEucG9pbnQgfSk7XG4gICAgXG4gICAgaWYgKG1lZGlhLmxlbmd0aCA+IDApIHtcbiAgICAgIG1lZGlhID0gbWVkaWFbbWVkaWEubGVuZ3RoIC0gMV1cbiAgICAgIGN1cnJlbnRUb29sdGlwUG9zaXRpb24gPSBtZWRpYS5wb3NpdGlvbnNbY3VycmVudFRvb2x0aXBQb3NpdGlvbl07XG4gICAgfVxuXG4gICAgdmFyIHRvb2x0aXBMYXllclN0eWxlTGVmdDtcbiAgICB0YXJnZXRPZmZzZXQgID0gX2dldE9mZnNldCh0YXJnZXRFbGVtZW50KTtcbiAgICB0b29sdGlwT2Zmc2V0ID0gX2dldE9mZnNldCh0b29sdGlwTGF5ZXIpO1xuICAgIHdpbmRvd1NpemUgICAgPSBfZ2V0V2luU2l6ZSgpO1xuXG4gICAgX2FkZENsYXNzKHRvb2x0aXBMYXllciwgJ2ludHJvanMtJyArIGN1cnJlbnRUb29sdGlwUG9zaXRpb24pO1xuXG4gICAgc3dpdGNoIChjdXJyZW50VG9vbHRpcFBvc2l0aW9uKSB7XG4gICAgICBjYXNlICd0b3AtcmlnaHQtYWxpZ25lZCc6XG4gICAgICAgIGFycm93TGF5ZXIuY2xhc3NOYW1lICAgICAgPSAnaW50cm9qcy1hcnJvdyBib3R0b20tcmlnaHQnO1xuXG4gICAgICAgIHZhciB0b29sdGlwTGF5ZXJTdHlsZVJpZ2h0ID0gMDtcbiAgICAgICAgX2NoZWNrTGVmdCh0YXJnZXRPZmZzZXQsIHRvb2x0aXBMYXllclN0eWxlUmlnaHQsIHRvb2x0aXBPZmZzZXQsIHRvb2x0aXBMYXllcik7XG4gICAgICAgIHRvb2x0aXBMYXllci5zdHlsZS5ib3R0b20gICAgPSAodGFyZ2V0T2Zmc2V0LmhlaWdodCArICAyMCkgKyAncHgnO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndG9wLW1pZGRsZS1hbGlnbmVkJzpcbiAgICAgICAgYXJyb3dMYXllci5jbGFzc05hbWUgICAgICA9ICdpbnRyb2pzLWFycm93IGJvdHRvbS1taWRkbGUnO1xuXG4gICAgICAgIHZhciB0b29sdGlwTGF5ZXJTdHlsZUxlZnRSaWdodCA9IHRhcmdldE9mZnNldC53aWR0aCAvIDIgLSB0b29sdGlwT2Zmc2V0LndpZHRoIC8gMjtcblxuICAgICAgICAvLyBhIGZpeCBmb3IgbWlkZGxlIGFsaWduZWQgaGludHNcbiAgICAgICAgaWYgKGhpbnRNb2RlKSB7XG4gICAgICAgICAgdG9vbHRpcExheWVyU3R5bGVMZWZ0UmlnaHQgKz0gNTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfY2hlY2tMZWZ0KHRhcmdldE9mZnNldCwgdG9vbHRpcExheWVyU3R5bGVMZWZ0UmlnaHQsIHRvb2x0aXBPZmZzZXQsIHRvb2x0aXBMYXllcikpIHtcbiAgICAgICAgICB0b29sdGlwTGF5ZXIuc3R5bGUucmlnaHQgPSBudWxsO1xuICAgICAgICAgIF9jaGVja1JpZ2h0KHRhcmdldE9mZnNldCwgdG9vbHRpcExheWVyU3R5bGVMZWZ0UmlnaHQsIHRvb2x0aXBPZmZzZXQsIHdpbmRvd1NpemUsIHRvb2x0aXBMYXllcik7XG4gICAgICAgIH1cbiAgICAgICAgdG9vbHRpcExheWVyLnN0eWxlLmJvdHRvbSA9ICh0YXJnZXRPZmZzZXQuaGVpZ2h0ICsgMjApICsgJ3B4JztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3RvcC1sZWZ0LWFsaWduZWQnOlxuICAgICAgLy8gdG9wLWxlZnQtYWxpZ25lZCBpcyB0aGUgc2FtZSBhcyB0aGUgZGVmYXVsdCB0b3BcbiAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgIGFycm93TGF5ZXIuY2xhc3NOYW1lID0gJ2ludHJvanMtYXJyb3cgYm90dG9tJztcblxuICAgICAgICB0b29sdGlwTGF5ZXJTdHlsZUxlZnQgPSAoaGludE1vZGUpID8gMCA6IDE1O1xuXG4gICAgICAgIF9jaGVja1JpZ2h0KHRhcmdldE9mZnNldCwgdG9vbHRpcExheWVyU3R5bGVMZWZ0LCB0b29sdGlwT2Zmc2V0LCB3aW5kb3dTaXplLCB0b29sdGlwTGF5ZXIpO1xuICAgICAgICB0b29sdGlwTGF5ZXIuc3R5bGUuYm90dG9tID0gKHRhcmdldE9mZnNldC5oZWlnaHQgKyAgMjApICsgJ3B4JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgIHRvb2x0aXBMYXllci5zdHlsZS5sZWZ0ID0gKHRhcmdldE9mZnNldC53aWR0aCArIDIwKSArICdweCc7XG4gICAgICAgIGlmICh0YXJnZXRPZmZzZXQudG9wICsgdG9vbHRpcE9mZnNldC5oZWlnaHQgPiB3aW5kb3dTaXplLmhlaWdodCkge1xuICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSwgcmlnaHQgd291bGQgaGF2ZSBmYWxsZW4gYmVsb3cgdGhlIGJvdHRvbSBvZiB0aGUgc2NyZWVuLlxuICAgICAgICAgIC8vIE1vZGlmeSBzbyB0aGF0IHRoZSBib3R0b20gb2YgdGhlIHRvb2x0aXAgY29ubmVjdHMgd2l0aCB0aGUgdGFyZ2V0XG4gICAgICAgICAgYXJyb3dMYXllci5jbGFzc05hbWUgPSBcImludHJvanMtYXJyb3cgbGVmdC1ib3R0b21cIjtcbiAgICAgICAgICB0b29sdGlwTGF5ZXIuc3R5bGUudG9wID0gXCItXCIgKyAodG9vbHRpcE9mZnNldC5oZWlnaHQgLSB0YXJnZXRPZmZzZXQuaGVpZ2h0IC0gMjApICsgXCJweFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFycm93TGF5ZXIuY2xhc3NOYW1lID0gJ2ludHJvanMtYXJyb3cgbGVmdCc7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgaWYgKCFoaW50TW9kZSAmJiB0aGlzLl9vcHRpb25zLnNob3dTdGVwTnVtYmVycyA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRvb2x0aXBMYXllci5zdHlsZS50b3AgPSAnMTVweCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0T2Zmc2V0LnRvcCArIHRvb2x0aXBPZmZzZXQuaGVpZ2h0ID4gd2luZG93U2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIGxlZnQgd291bGQgaGF2ZSBmYWxsZW4gYmVsb3cgdGhlIGJvdHRvbSBvZiB0aGUgc2NyZWVuLlxuICAgICAgICAgIC8vIE1vZGlmeSBzbyB0aGF0IHRoZSBib3R0b20gb2YgdGhlIHRvb2x0aXAgY29ubmVjdHMgd2l0aCB0aGUgdGFyZ2V0XG4gICAgICAgICAgdG9vbHRpcExheWVyLnN0eWxlLnRvcCA9IFwiLVwiICsgKHRvb2x0aXBPZmZzZXQuaGVpZ2h0IC0gdGFyZ2V0T2Zmc2V0LmhlaWdodCAtIDIwKSArIFwicHhcIjtcbiAgICAgICAgICBhcnJvd0xheWVyLmNsYXNzTmFtZSA9ICdpbnRyb2pzLWFycm93IHJpZ2h0LWJvdHRvbSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXJyb3dMYXllci5jbGFzc05hbWUgPSAnaW50cm9qcy1hcnJvdyByaWdodCc7XG4gICAgICAgIH1cbiAgICAgICAgdG9vbHRpcExheWVyLnN0eWxlLnJpZ2h0ID0gKHRhcmdldE9mZnNldC53aWR0aCArIDIwKSArICdweCc7XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmbG9hdGluZyc6XG4gICAgICAgIGFycm93TGF5ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAvL3dlIGhhdmUgdG8gYWRqdXN0IHRoZSB0b3AgYW5kIGxlZnQgb2YgbGF5ZXIgbWFudWFsbHkgZm9yIGludHJvIGl0ZW1zIHdpdGhvdXQgZWxlbWVudFxuICAgICAgICB0b29sdGlwTGF5ZXIuc3R5bGUubGVmdCAgID0gJzUwJSc7XG4gICAgICAgIHRvb2x0aXBMYXllci5zdHlsZS50b3AgICAgPSAnNTAlJztcbiAgICAgICAgdG9vbHRpcExheWVyLnN0eWxlLm1hcmdpbkxlZnQgPSAnLScgKyAodG9vbHRpcE9mZnNldC53aWR0aCAvIDIpICArICdweCc7XG4gICAgICAgIHRvb2x0aXBMYXllci5zdHlsZS5tYXJnaW5Ub3AgID0gJy0nICsgKHRvb2x0aXBPZmZzZXQuaGVpZ2h0IC8gMikgKyAncHgnO1xuXG4gICAgICAgIGlmICh0eXBlb2YoaGVscGVyTnVtYmVyTGF5ZXIpICE9PSAndW5kZWZpbmVkJyAmJiBoZWxwZXJOdW1iZXJMYXllciAhPT0gbnVsbCkge1xuICAgICAgICAgIGhlbHBlck51bWJlckxheWVyLnN0eWxlLmxlZnQgPSAnLScgKyAoKHRvb2x0aXBPZmZzZXQud2lkdGggLyAyKSArIDE4KSArICdweCc7XG4gICAgICAgICAgaGVscGVyTnVtYmVyTGF5ZXIuc3R5bGUudG9wICA9ICctJyArICgodG9vbHRpcE9mZnNldC5oZWlnaHQgLyAyKSArIDE4KSArICdweCc7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2JvdHRvbS1yaWdodC1hbGlnbmVkJzpcbiAgICAgICAgYXJyb3dMYXllci5jbGFzc05hbWUgICAgICA9ICdpbnRyb2pzLWFycm93IHRvcC1yaWdodCc7XG5cbiAgICAgICAgdG9vbHRpcExheWVyU3R5bGVSaWdodCA9IDA7XG4gICAgICAgIF9jaGVja0xlZnQodGFyZ2V0T2Zmc2V0LCB0b29sdGlwTGF5ZXJTdHlsZVJpZ2h0LCB0b29sdGlwT2Zmc2V0LCB0b29sdGlwTGF5ZXIpO1xuICAgICAgICB0b29sdGlwTGF5ZXIuc3R5bGUudG9wICAgID0gKHRhcmdldE9mZnNldC5oZWlnaHQgKyAgMjApICsgJ3B4JztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2JvdHRvbS1taWRkbGUtYWxpZ25lZCc6XG4gICAgICAgIGFycm93TGF5ZXIuY2xhc3NOYW1lICAgICAgPSAnaW50cm9qcy1hcnJvdyB0b3AtbWlkZGxlJztcblxuICAgICAgICB0b29sdGlwTGF5ZXJTdHlsZUxlZnRSaWdodCA9IHRhcmdldE9mZnNldC53aWR0aCAvIDIgLSB0b29sdGlwT2Zmc2V0LndpZHRoIC8gMjtcblxuICAgICAgICAvLyBhIGZpeCBmb3IgbWlkZGxlIGFsaWduZWQgaGludHNcbiAgICAgICAgaWYgKGhpbnRNb2RlKSB7XG4gICAgICAgICAgdG9vbHRpcExheWVyU3R5bGVMZWZ0UmlnaHQgKz0gNTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfY2hlY2tMZWZ0KHRhcmdldE9mZnNldCwgdG9vbHRpcExheWVyU3R5bGVMZWZ0UmlnaHQsIHRvb2x0aXBPZmZzZXQsIHRvb2x0aXBMYXllcikpIHtcbiAgICAgICAgICB0b29sdGlwTGF5ZXIuc3R5bGUucmlnaHQgPSBudWxsO1xuICAgICAgICAgIF9jaGVja1JpZ2h0KHRhcmdldE9mZnNldCwgdG9vbHRpcExheWVyU3R5bGVMZWZ0UmlnaHQsIHRvb2x0aXBPZmZzZXQsIHdpbmRvd1NpemUsIHRvb2x0aXBMYXllcik7XG4gICAgICAgIH1cbiAgICAgICAgdG9vbHRpcExheWVyLnN0eWxlLnRvcCA9ICh0YXJnZXRPZmZzZXQuaGVpZ2h0ICsgMjApICsgJ3B4JztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vIGNhc2UgJ2JvdHRvbS1sZWZ0LWFsaWduZWQnOlxuICAgICAgLy8gQm90dG9tLWxlZnQtYWxpZ25lZCBpcyB0aGUgc2FtZSBhcyB0aGUgZGVmYXVsdCBib3R0b21cbiAgICAgIC8vIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAvLyBCb3R0b20gZ29pbmcgdG8gZm9sbG93IHRoZSBkZWZhdWx0IGJlaGF2aW9yXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcnJvd0xheWVyLmNsYXNzTmFtZSA9ICdpbnRyb2pzLWFycm93IHRvcCc7XG5cbiAgICAgICAgdG9vbHRpcExheWVyU3R5bGVMZWZ0ID0gMDtcbiAgICAgICAgX2NoZWNrUmlnaHQodGFyZ2V0T2Zmc2V0LCB0b29sdGlwTGF5ZXJTdHlsZUxlZnQsIHRvb2x0aXBPZmZzZXQsIHdpbmRvd1NpemUsIHRvb2x0aXBMYXllcik7XG4gICAgICAgIHRvb2x0aXBMYXllci5zdHlsZS50b3AgICAgPSAodGFyZ2V0T2Zmc2V0LmhlaWdodCArICAyMCkgKyAncHgnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdG9vbHRpcCBsZWZ0IHNvIGl0IGRvZXNuJ3QgZ28gb2ZmIHRoZSByaWdodCBzaWRlIG9mIHRoZSB3aW5kb3dcbiAgICpcbiAgICogQHJldHVybiBib29sZWFuIHRydWUsIGlmIHRvb2x0aXBMYXllclN0eWxlTGVmdCBpcyBvay4gIGZhbHNlLCBvdGhlcndpc2UuXG4gICAqL1xuICBmdW5jdGlvbiBfY2hlY2tSaWdodCh0YXJnZXRPZmZzZXQsIHRvb2x0aXBMYXllclN0eWxlTGVmdCwgdG9vbHRpcE9mZnNldCwgd2luZG93U2l6ZSwgdG9vbHRpcExheWVyKSB7XG4gICAgaWYgKHRhcmdldE9mZnNldC5sZWZ0ICsgdG9vbHRpcExheWVyU3R5bGVMZWZ0ICsgdG9vbHRpcE9mZnNldC53aWR0aCA+IHdpbmRvd1NpemUud2lkdGgpIHtcbiAgICAgIC8vIG9mZiB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgd2luZG93XG4gICAgICB0b29sdGlwTGF5ZXIuc3R5bGUubGVmdCA9ICh3aW5kb3dTaXplLndpZHRoIC0gdG9vbHRpcE9mZnNldC53aWR0aCAtIHRhcmdldE9mZnNldC5sZWZ0KSArICdweCc7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRvb2x0aXBMYXllci5zdHlsZS5sZWZ0ID0gdG9vbHRpcExheWVyU3R5bGVMZWZ0ICsgJ3B4JztcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdG9vbHRpcCByaWdodCBzbyBpdCBkb2Vzbid0IGdvIG9mZiB0aGUgbGVmdCBzaWRlIG9mIHRoZSB3aW5kb3dcbiAgICpcbiAgICogQHJldHVybiBib29sZWFuIHRydWUsIGlmIHRvb2x0aXBMYXllclN0eWxlUmlnaHQgaXMgb2suICBmYWxzZSwgb3RoZXJ3aXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gX2NoZWNrTGVmdCh0YXJnZXRPZmZzZXQsIHRvb2x0aXBMYXllclN0eWxlUmlnaHQsIHRvb2x0aXBPZmZzZXQsIHRvb2x0aXBMYXllcikge1xuICAgIGlmICh0YXJnZXRPZmZzZXQubGVmdCArIHRhcmdldE9mZnNldC53aWR0aCAtIHRvb2x0aXBMYXllclN0eWxlUmlnaHQgLSB0b29sdGlwT2Zmc2V0LndpZHRoIDwgMCkge1xuICAgICAgLy8gb2ZmIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIHdpbmRvd1xuICAgICAgdG9vbHRpcExheWVyLnN0eWxlLmxlZnQgPSAoLXRhcmdldE9mZnNldC5sZWZ0KSArICdweCc7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRvb2x0aXBMYXllci5zdHlsZS5yaWdodCA9IHRvb2x0aXBMYXllclN0eWxlUmlnaHQgKyAncHgnO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIHBvc2l0aW9uIG9mIHRoZSB0b29sdGlwIGJhc2VkIG9uIHRoZSBwb3NpdGlvbiBwcmVjZWRlbmNlIGFuZCBhdmFpbGFiaWxpdHlcbiAgICogb2Ygc2NyZWVuIHNwYWNlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgdGFyZ2V0RWxlbWVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgdG9vbHRpcExheWVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSAgICBkZXNpcmVkVG9vbHRpcFBvc2l0aW9uXG4gICAqIEByZXR1cm4ge1N0cmluZ30gICBjYWxjdWxhdGVkUG9zaXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIF9kZXRlcm1pbmVBdXRvUG9zaXRpb24odGFyZ2V0RWxlbWVudCwgdG9vbHRpcExheWVyLCBkZXNpcmVkVG9vbHRpcFBvc2l0aW9uKSB7XG5cbiAgICAvLyBUYWtlIGEgY2xvbmUgb2YgcG9zaXRpb24gcHJlY2VkZW5jZS4gVGhlc2Ugd2lsbCBiZSB0aGUgYXZhaWxhYmxlXG4gICAgdmFyIHBvc3NpYmxlUG9zaXRpb25zID0gdGhpcy5fb3B0aW9ucy5wb3NpdGlvblByZWNlZGVuY2Uuc2xpY2UoKTtcblxuICAgIHZhciB3aW5kb3dTaXplID0gX2dldFdpblNpemUoKTtcbiAgICB2YXIgdG9vbHRpcEhlaWdodCA9IF9nZXRPZmZzZXQodG9vbHRpcExheWVyKS5oZWlnaHQgKyAxMDtcbiAgICB2YXIgdG9vbHRpcFdpZHRoID0gX2dldE9mZnNldCh0b29sdGlwTGF5ZXIpLndpZHRoICsgMjA7XG4gICAgdmFyIHRhcmdldEVsZW1lbnRSZWN0ID0gdGFyZ2V0RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIC8vIElmIHdlIGNoZWNrIGFsbCB0aGUgcG9zc2libGUgYXJlYXMsIGFuZCB0aGVyZSBhcmUgbm8gdmFsaWQgcGxhY2VzIGZvciB0aGUgdG9vbHRpcCwgdGhlIGVsZW1lbnRcbiAgICAvLyBtdXN0IHRha2UgdXAgbW9zdCBvZiB0aGUgc2NyZWVuIHJlYWwgZXN0YXRlLiBTaG93IHRoZSB0b29sdGlwIGZsb2F0aW5nIGluIHRoZSBtaWRkbGUgb2YgdGhlIHNjcmVlbi5cbiAgICB2YXIgY2FsY3VsYXRlZFBvc2l0aW9uID0gXCJmbG9hdGluZ1wiO1xuXG4gICAgLypcbiAgICAqIGF1dG8gZGV0ZXJtaW5lIHBvc2l0aW9uIFxuICAgICovXG5cbiAgICAvLyBDaGVjayBmb3Igc3BhY2UgYmVsb3dcbiAgICBpZiAodGFyZ2V0RWxlbWVudFJlY3QuYm90dG9tICsgdG9vbHRpcEhlaWdodCA+IHdpbmRvd1NpemUuaGVpZ2h0KSB7XG4gICAgICBfcmVtb3ZlRW50cnkocG9zc2libGVQb3NpdGlvbnMsIFwiYm90dG9tXCIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBzcGFjZSBhYm92ZVxuICAgIGlmICh0YXJnZXRFbGVtZW50UmVjdC50b3AgLSB0b29sdGlwSGVpZ2h0IDwgMCkge1xuICAgICAgX3JlbW92ZUVudHJ5KHBvc3NpYmxlUG9zaXRpb25zLCBcInRvcFwiKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3Igc3BhY2UgdG8gdGhlIHJpZ2h0XG4gICAgaWYgKHRhcmdldEVsZW1lbnRSZWN0LnJpZ2h0ICsgdG9vbHRpcFdpZHRoID4gd2luZG93U2l6ZS53aWR0aCkge1xuICAgICAgX3JlbW92ZUVudHJ5KHBvc3NpYmxlUG9zaXRpb25zLCBcInJpZ2h0XCIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBzcGFjZSB0byB0aGUgbGVmdFxuICAgIGlmICh0YXJnZXRFbGVtZW50UmVjdC5sZWZ0IC0gdG9vbHRpcFdpZHRoIDwgMCkge1xuICAgICAgX3JlbW92ZUVudHJ5KHBvc3NpYmxlUG9zaXRpb25zLCBcImxlZnRcIik7XG4gICAgfVxuXG4gICAgLy8gQHZhciB7U3RyaW5nfSAgZXg6ICdyaWdodC1hbGlnbmVkJ1xuICAgIHZhciBkZXNpcmVkQWxpZ25tZW50ID0gKGZ1bmN0aW9uIChwb3MpIHtcbiAgICAgIHZhciBoeXBoZW5JbmRleCA9IHBvcy5pbmRleE9mKCctJyk7XG4gICAgICBpZiAoaHlwaGVuSW5kZXggIT09IC0xKSB7XG4gICAgICAgIC8vIGhhcyBhbGlnbm1lbnRcbiAgICAgICAgcmV0dXJuIHBvcy5zdWJzdHIoaHlwaGVuSW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH0pKGRlc2lyZWRUb29sdGlwUG9zaXRpb24gfHwgJycpO1xuXG4gICAgLy8gc3RyaXAgYWxpZ25tZW50IGZyb20gcG9zaXRpb25cbiAgICBpZiAoZGVzaXJlZFRvb2x0aXBQb3NpdGlvbikge1xuICAgICAgLy8gZXg6IFwiYm90dG9tLXJpZ2h0LWFsaWduZWRcIlxuICAgICAgLy8gc2hvdWxkIHJldHVybiAnYm90dG9tJ1xuICAgICAgZGVzaXJlZFRvb2x0aXBQb3NpdGlvbiA9IGRlc2lyZWRUb29sdGlwUG9zaXRpb24uc3BsaXQoJy0nKVswXTtcbiAgICB9XG5cbiAgICBpZiAocG9zc2libGVQb3NpdGlvbnMubGVuZ3RoKSB7XG4gICAgICBpZiAoZGVzaXJlZFRvb2x0aXBQb3NpdGlvbiAhPT0gXCJhdXRvXCIgJiZcbiAgICAgICAgICBwb3NzaWJsZVBvc2l0aW9ucy5pbmRleE9mKGRlc2lyZWRUb29sdGlwUG9zaXRpb24pID4gLTEpIHtcbiAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3RlZCBwb3NpdGlvbiBpcyBpbiB0aGUgbGlzdCwgY2hvb3NlIHRoYXRcbiAgICAgICAgY2FsY3VsYXRlZFBvc2l0aW9uID0gZGVzaXJlZFRvb2x0aXBQb3NpdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFBpY2sgdGhlIGZpcnN0IHZhbGlkIHBvc2l0aW9uLCBpbiBvcmRlclxuICAgICAgICBjYWxjdWxhdGVkUG9zaXRpb24gPSBwb3NzaWJsZVBvc2l0aW9uc1swXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBvbmx5IHRvcCBhbmQgYm90dG9tIHBvc2l0aW9ucyBoYXZlIG9wdGlvbmFsIGFsaWdubWVudHNcbiAgICBpZiAoWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZihjYWxjdWxhdGVkUG9zaXRpb24pICE9PSAtMSkge1xuICAgICAgY2FsY3VsYXRlZFBvc2l0aW9uICs9IF9kZXRlcm1pbmVBdXRvQWxpZ25tZW50KHRhcmdldEVsZW1lbnRSZWN0LmxlZnQsIHRvb2x0aXBXaWR0aCwgd2luZG93U2l6ZSwgZGVzaXJlZEFsaWdubWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbGN1bGF0ZWRQb3NpdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAqIGF1dG8tZGV0ZXJtaW5lIGFsaWdubWVudFxuICAqIEBwYXJhbSB7SW50ZWdlcn0gIG9mZnNldExlZnRcbiAgKiBAcGFyYW0ge0ludGVnZXJ9ICB0b29sdGlwV2lkdGhcbiAgKiBAcGFyYW0ge09iamVjdH0gICB3aW5kb3dTaXplXG4gICogQHBhcmFtIHtTdHJpbmd9ICAgZGVzaXJlZEFsaWdubWVudFxuICAqIEByZXR1cm4ge1N0cmluZ30gIGNhbGN1bGF0ZWRBbGlnbm1lbnRcbiAgKi9cbiAgZnVuY3Rpb24gX2RldGVybWluZUF1dG9BbGlnbm1lbnQgKG9mZnNldExlZnQsIHRvb2x0aXBXaWR0aCwgd2luZG93U2l6ZSwgZGVzaXJlZEFsaWdubWVudCkge1xuICAgIHZhciBoYWxmVG9vbHRpcFdpZHRoID0gdG9vbHRpcFdpZHRoIC8gMixcbiAgICAgIHdpbldpZHRoID0gTWF0aC5taW4od2luZG93U2l6ZS53aWR0aCwgd2luZG93LnNjcmVlbi53aWR0aCksXG4gICAgICBwb3NzaWJsZUFsaWdubWVudHMgPSBbJy1sZWZ0LWFsaWduZWQnLCAnLW1pZGRsZS1hbGlnbmVkJywgJy1yaWdodC1hbGlnbmVkJ10sXG4gICAgICBjYWxjdWxhdGVkQWxpZ25tZW50ID0gJyc7XG4gICAgXG4gICAgLy8gdmFsaWQgbGVmdCBtdXN0IGJlIGF0IGxlYXN0IGEgdG9vbHRpcFdpZHRoXG4gICAgLy8gYXdheSBmcm9tIHJpZ2h0IHNpZGVcbiAgICBpZiAod2luV2lkdGggLSBvZmZzZXRMZWZ0IDwgdG9vbHRpcFdpZHRoKSB7XG4gICAgICBfcmVtb3ZlRW50cnkocG9zc2libGVBbGlnbm1lbnRzLCAnLWxlZnQtYWxpZ25lZCcpO1xuICAgIH1cblxuICAgIC8vIHZhbGlkIG1pZGRsZSBtdXN0IGJlIGF0IGxlYXN0IGhhbGYgXG4gICAgLy8gd2lkdGggYXdheSBmcm9tIGJvdGggc2lkZXNcbiAgICBpZiAob2Zmc2V0TGVmdCA8IGhhbGZUb29sdGlwV2lkdGggfHwgXG4gICAgICB3aW5XaWR0aCAtIG9mZnNldExlZnQgPCBoYWxmVG9vbHRpcFdpZHRoKSB7XG4gICAgICBfcmVtb3ZlRW50cnkocG9zc2libGVBbGlnbm1lbnRzLCAnLW1pZGRsZS1hbGlnbmVkJyk7XG4gICAgfVxuXG4gICAgLy8gdmFsaWQgcmlnaHQgbXVzdCBiZSBhdCBsZWFzdCBhIHRvb2x0aXBXaWR0aFxuICAgIC8vIHdpZHRoIGF3YXkgZnJvbSBsZWZ0IHNpZGVcbiAgICAvLyAtNTAgaXMgZml4IGZvciAzMjBweCB3aWR0aCBtb2JpbGVcbiAgICBpZiAob2Zmc2V0TGVmdCA8IHRvb2x0aXBXaWR0aCAtIDUwKSB7XG4gICAgICBfcmVtb3ZlRW50cnkocG9zc2libGVBbGlnbm1lbnRzLCAnLXJpZ2h0LWFsaWduZWQnKTtcbiAgICB9XG5cbiAgICBpZiAocG9zc2libGVBbGlnbm1lbnRzLmxlbmd0aCkge1xuICAgICAgaWYgKHBvc3NpYmxlQWxpZ25tZW50cy5pbmRleE9mKGRlc2lyZWRBbGlnbm1lbnQpICE9PSAtMSkge1xuICAgICAgICAvLyB0aGUgZGVzaXJlZCBhbGlnbm1lbnQgaXMgdmFsaWRcbiAgICAgICAgY2FsY3VsYXRlZEFsaWdubWVudCA9IGRlc2lyZWRBbGlnbm1lbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBwaWNrIHRoZSBmaXJzdCB2YWxpZCBwb3NpdGlvbiwgaW4gb3JkZXJcbiAgICAgICAgY2FsY3VsYXRlZEFsaWdubWVudCA9IHBvc3NpYmxlQWxpZ25tZW50c1swXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgc2NyZWVuIHdpZHRoIGlzIHRvbyBzbWFsbCBcbiAgICAgIC8vIGZvciBBTlkgYWxpZ25tZW50LCBtaWRkbGUgaXMgXG4gICAgICAvLyBwcm9iYWJseSB0aGUgYmVzdCBmb3IgdmlzaWJpbGl0eVxuICAgICAgY2FsY3VsYXRlZEFsaWdubWVudCA9ICctbWlkZGxlLWFsaWduZWQnO1xuICAgIH1cblxuICAgIHJldHVybiBjYWxjdWxhdGVkQWxpZ25tZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBlbnRyeSBmcm9tIGEgc3RyaW5nIGFycmF5IGlmIGl0J3MgdGhlcmUsIGRvZXMgbm90aGluZyBpZiBpdCBpc24ndCB0aGVyZS5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyaW5nQXJyYXlcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZ1RvUmVtb3ZlXG4gICAqL1xuICBmdW5jdGlvbiBfcmVtb3ZlRW50cnkoc3RyaW5nQXJyYXksIHN0cmluZ1RvUmVtb3ZlKSB7XG4gICAgaWYgKHN0cmluZ0FycmF5LmluZGV4T2Yoc3RyaW5nVG9SZW1vdmUpID4gLTEpIHtcbiAgICAgIHN0cmluZ0FycmF5LnNwbGljZShzdHJpbmdBcnJheS5pbmRleE9mKHN0cmluZ1RvUmVtb3ZlKSwgMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGhlbHBlciBsYXllciBvbiB0aGUgc2NyZWVuXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9zZXRIZWxwZXJMYXllclBvc2l0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBoZWxwZXJMYXllclxuICAgKi9cbiAgZnVuY3Rpb24gX3NldEhlbHBlckxheWVyUG9zaXRpb24oaGVscGVyTGF5ZXIpIHtcbiAgICBpZiAoaGVscGVyTGF5ZXIpIHtcbiAgICAgIC8vcHJldmVudCBlcnJvciB3aGVuIGB0aGlzLl9jdXJyZW50U3RlcGAgaW4gdW5kZWZpbmVkXG4gICAgICBpZiAoIXRoaXMuX2ludHJvSXRlbXNbdGhpcy5fY3VycmVudFN0ZXBdKSByZXR1cm47XG5cbiAgICAgIHZhciBjdXJyZW50RWxlbWVudCAgPSB0aGlzLl9pbnRyb0l0ZW1zW3RoaXMuX2N1cnJlbnRTdGVwXSxcbiAgICAgICAgICBlbGVtZW50UG9zaXRpb24gPSBfZ2V0T2Zmc2V0KGN1cnJlbnRFbGVtZW50LmVsZW1lbnQpLFxuICAgICAgICAgIHdpZHRoSGVpZ2h0UGFkZGluZyA9IHRoaXMuX29wdGlvbnMuaGVscGVyRWxlbWVudFBhZGRpbmc7XG5cbiAgICAgIC8vIElmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBmaXhlZCwgdGhlIHRvb2x0aXAgc2hvdWxkIGJlIGZpeGVkIGFzIHdlbGwuXG4gICAgICAvLyBPdGhlcndpc2UsIHJlbW92ZSBhIGZpeGVkIGNsYXNzIHRoYXQgbWF5IGJlIGxlZnQgb3ZlciBmcm9tIHRoZSBwcmV2aW91c1xuICAgICAgLy8gc3RlcC5cbiAgICAgIGlmIChfaXNGaXhlZChjdXJyZW50RWxlbWVudC5lbGVtZW50KSkge1xuICAgICAgICBfYWRkQ2xhc3MoaGVscGVyTGF5ZXIsICdpbnRyb2pzLWZpeGVkVG9vbHRpcCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3JlbW92ZUNsYXNzKGhlbHBlckxheWVyLCAnaW50cm9qcy1maXhlZFRvb2x0aXAnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGN1cnJlbnRFbGVtZW50LnBvc2l0aW9uID09PSAnZmxvYXRpbmcnKSB7XG4gICAgICAgIHdpZHRoSGVpZ2h0UGFkZGluZyA9IDA7XG4gICAgICB9XG5cbiAgICAgIC8vc2V0IG5ldyBwb3NpdGlvbiB0byBoZWxwZXIgbGF5ZXJcbiAgICAgIGhlbHBlckxheWVyLnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6ICcgKyAoZWxlbWVudFBvc2l0aW9uLndpZHRoICArIHdpZHRoSGVpZ2h0UGFkZGluZykgICsgJ3B4OyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0OicgKyAoZWxlbWVudFBvc2l0aW9uLmhlaWdodCArIHdpZHRoSGVpZ2h0UGFkZGluZykgICsgJ3B4OyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG9wOicgICAgKyAoZWxlbWVudFBvc2l0aW9uLnRvcCAgICAtIHdpZHRoSGVpZ2h0UGFkZGluZyAvIDIpICAgKyAncHg7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xlZnQ6ICcgICsgKGVsZW1lbnRQb3NpdGlvbi5sZWZ0ICAgLSB3aWR0aEhlaWdodFBhZGRpbmcgLyAyKSAgICsgJ3B4Oyc7XG5cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGRpc2FibGVpbnRlcmFjdGlvbiBsYXllciBhbmQgYWRqdXN0IHRoZSBzaXplIGFuZCBwb3NpdGlvbiBvZiB0aGUgbGF5ZXJcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX2Rpc2FibGVJbnRlcmFjdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gX2Rpc2FibGVJbnRlcmFjdGlvbigpIHtcbiAgICB2YXIgZGlzYWJsZUludGVyYWN0aW9uTGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy1kaXNhYmxlSW50ZXJhY3Rpb24nKTtcblxuICAgIGlmIChkaXNhYmxlSW50ZXJhY3Rpb25MYXllciA9PT0gbnVsbCkge1xuICAgICAgZGlzYWJsZUludGVyYWN0aW9uTGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRpc2FibGVJbnRlcmFjdGlvbkxheWVyLmNsYXNzTmFtZSA9ICdpbnRyb2pzLWRpc2FibGVJbnRlcmFjdGlvbic7XG4gICAgICB0aGlzLl90YXJnZXRFbGVtZW50LmFwcGVuZENoaWxkKGRpc2FibGVJbnRlcmFjdGlvbkxheWVyKTtcbiAgICB9XG5cbiAgICBfc2V0SGVscGVyTGF5ZXJQb3NpdGlvbi5jYWxsKHRoaXMsIGRpc2FibGVJbnRlcmFjdGlvbkxheWVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXR0aW5nIGFuY2hvcnMgdG8gYmVoYXZlIGxpa2UgYnV0dG9uc1xuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfc2V0QW5jaG9yQXNCdXR0b25cbiAgICovXG4gIGZ1bmN0aW9uIF9zZXRBbmNob3JBc0J1dHRvbihhbmNob3Ipe1xuICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgYW5jaG9yLnRhYkluZGV4ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGFuIGVsZW1lbnQgb24gdGhlIHBhZ2VcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX3Nob3dFbGVtZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRFbGVtZW50XG4gICAqL1xuICBmdW5jdGlvbiBfc2hvd0VsZW1lbnQodGFyZ2V0RWxlbWVudCkge1xuICAgIGlmICh0eXBlb2YgKHRoaXMuX2ludHJvQ2hhbmdlQ2FsbGJhY2spICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5faW50cm9DaGFuZ2VDYWxsYmFjay5jYWxsKHRoaXMsIHRhcmdldEVsZW1lbnQuZWxlbWVudCk7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBvbGRIZWxwZXJMYXllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLWhlbHBlckxheWVyJyksXG4gICAgICAgIG9sZFJlZmVyZW5jZUxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvanMtdG9vbHRpcFJlZmVyZW5jZUxheWVyJyksXG4gICAgICAgIGhpZ2hsaWdodENsYXNzID0gJ2ludHJvanMtaGVscGVyTGF5ZXInLFxuICAgICAgICBuZXh0VG9vbHRpcEJ1dHRvbixcbiAgICAgICAgcHJldlRvb2x0aXBCdXR0b24sXG4gICAgICAgIHNraXBUb29sdGlwQnV0dG9uLFxuICAgICAgICBzY3JvbGxQYXJlbnQ7XG5cbiAgICAvL2NoZWNrIGZvciBhIGN1cnJlbnQgc3RlcCBoaWdobGlnaHQgY2xhc3NcbiAgICBpZiAodHlwZW9mICh0YXJnZXRFbGVtZW50LmhpZ2hsaWdodENsYXNzKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGhpZ2hsaWdodENsYXNzICs9ICgnICcgKyB0YXJnZXRFbGVtZW50LmhpZ2hsaWdodENsYXNzKTtcbiAgICB9XG4gICAgLy9jaGVjayBmb3Igb3B0aW9ucyBoaWdobGlnaHQgY2xhc3NcbiAgICBpZiAodHlwZW9mICh0aGlzLl9vcHRpb25zLmhpZ2hsaWdodENsYXNzKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGhpZ2hsaWdodENsYXNzICs9ICgnICcgKyB0aGlzLl9vcHRpb25zLmhpZ2hsaWdodENsYXNzKTtcbiAgICB9XG5cbiAgICBpZiAob2xkSGVscGVyTGF5ZXIgIT09IG51bGwpIHtcbiAgICAgIHZhciBvbGRIZWxwZXJOdW1iZXJMYXllciA9IG9sZFJlZmVyZW5jZUxheWVyLnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLWhlbHBlck51bWJlckxheWVyJyksXG4gICAgICAgICAgb2xkdG9vbHRpcExheWVyICAgICAgPSBvbGRSZWZlcmVuY2VMYXllci5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy10b29sdGlwdGV4dCcpLFxuICAgICAgICAgIG9sZEFycm93TGF5ZXIgICAgICAgID0gb2xkUmVmZXJlbmNlTGF5ZXIucXVlcnlTZWxlY3RvcignLmludHJvanMtYXJyb3cnKSxcbiAgICAgICAgICBvbGR0b29sdGlwQ29udGFpbmVyICA9IG9sZFJlZmVyZW5jZUxheWVyLnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLXRvb2x0aXAnKTtcbiAgICAgICAgICBcbiAgICAgIHNraXBUb29sdGlwQnV0dG9uICAgID0gb2xkUmVmZXJlbmNlTGF5ZXIucXVlcnlTZWxlY3RvcignLmludHJvanMtc2tpcGJ1dHRvbicpO1xuICAgICAgcHJldlRvb2x0aXBCdXR0b24gICAgPSBvbGRSZWZlcmVuY2VMYXllci5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy1wcmV2YnV0dG9uJyk7XG4gICAgICBuZXh0VG9vbHRpcEJ1dHRvbiAgICA9IG9sZFJlZmVyZW5jZUxheWVyLnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLW5leHRidXR0b24nKTtcblxuICAgICAgLy91cGRhdGUgb3IgcmVzZXQgdGhlIGhlbHBlciBoaWdobGlnaHQgY2xhc3NcbiAgICAgIG9sZEhlbHBlckxheWVyLmNsYXNzTmFtZSA9IGhpZ2hsaWdodENsYXNzO1xuICAgICAgLy9oaWRlIHRoZSB0b29sdGlwXG4gICAgICBvbGR0b29sdGlwQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgb2xkdG9vbHRpcENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgIHNraXBUb29sdGlwQnV0dG9uLmlubmVySFRNTCA9IHRoaXMuX29wdGlvbnMuc2tpcExhYmVsO1xuICAgICAgcHJldlRvb2x0aXBCdXR0b24uaW5uZXJIVE1MID0gdGhpcy5fb3B0aW9ucy5wcmV2TGFiZWw7XG4gICAgICBuZXh0VG9vbHRpcEJ1dHRvbi5pbm5lckhUTUwgPSB0aGlzLl9vcHRpb25zLm5leHRMYWJlbDtcblxuICAgICAgaWYgKG9sZEhlbHBlck51bWJlckxheWVyICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBsYXN0SW50cm9JdGVtID0gdGhpcy5faW50cm9JdGVtc1sodGFyZ2V0RWxlbWVudC5zdGVwIC0gMiA+PSAwID8gdGFyZ2V0RWxlbWVudC5zdGVwIC0gMiA6IDApXTtcblxuICAgICAgICBpZiAobGFzdEludHJvSXRlbSAhPT0gbnVsbCAmJiAodGhpcy5fZGlyZWN0aW9uID09PSAnZm9yd2FyZCcgJiYgbGFzdEludHJvSXRlbS5wb3NpdGlvbiA9PT0gJ2Zsb2F0aW5nJykgfHwgKHRoaXMuX2RpcmVjdGlvbiA9PT0gJ2JhY2t3YXJkJyAmJiB0YXJnZXRFbGVtZW50LnBvc2l0aW9uID09PSAnZmxvYXRpbmcnKSkge1xuICAgICAgICAgIG9sZEhlbHBlck51bWJlckxheWVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHNjcm9sbCB0byBlbGVtZW50XG4gICAgICBzY3JvbGxQYXJlbnQgPSBfZ2V0U2Nyb2xsUGFyZW50KCB0YXJnZXRFbGVtZW50LmVsZW1lbnQgKTtcblxuICAgICAgaWYgKHNjcm9sbFBhcmVudCAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAvLyB0YXJnZXQgaXMgd2l0aGluIGEgc2Nyb2xsYWJsZSBlbGVtZW50XG4gICAgICAgIF9zY3JvbGxQYXJlbnRUb0VsZW1lbnQoc2Nyb2xsUGFyZW50LCB0YXJnZXRFbGVtZW50LmVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgbmV3IHBvc2l0aW9uIHRvIGhlbHBlciBsYXllclxuICAgICAgX3NldEhlbHBlckxheWVyUG9zaXRpb24uY2FsbChzZWxmLCBvbGRIZWxwZXJMYXllcik7XG4gICAgICBfc2V0SGVscGVyTGF5ZXJQb3NpdGlvbi5jYWxsKHNlbGYsIG9sZFJlZmVyZW5jZUxheWVyKTtcblxuICAgICAgLy9yZW1vdmUgYGludHJvanMtZml4UGFyZW50YCBjbGFzcyBmcm9tIHRoZSBlbGVtZW50c1xuICAgICAgdmFyIGZpeFBhcmVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW50cm9qcy1maXhQYXJlbnQnKTtcbiAgICAgIF9mb3JFYWNoKGZpeFBhcmVudHMsIGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgX3JlbW92ZUNsYXNzKHBhcmVudCwgL2ludHJvanMtZml4UGFyZW50L2cpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vcmVtb3ZlIG9sZCBjbGFzc2VzIGlmIHRoZSBlbGVtZW50IHN0aWxsIGV4aXN0XG4gICAgICBfcmVtb3ZlU2hvd0VsZW1lbnQoKTtcblxuICAgICAgLy93ZSBzaG91bGQgd2FpdCB1bnRpbCB0aGUgQ1NTMyB0cmFuc2l0aW9uIGlzIGNvbXBldGVkIChpdCdzIDAuMyBzZWMpIHRvIHByZXZlbnQgaW5jb3JyZWN0IGBoZWlnaHRgIGFuZCBgd2lkdGhgIGNhbGN1bGF0aW9uXG4gICAgICBpZiAoc2VsZi5fbGFzdFNob3dFbGVtZW50VGltZXIpIHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChzZWxmLl9sYXN0U2hvd0VsZW1lbnRUaW1lcik7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuX2xhc3RTaG93RWxlbWVudFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vc2V0IGN1cnJlbnQgc3RlcCB0byB0aGUgbGFiZWxcbiAgICAgICAgaWYgKG9sZEhlbHBlck51bWJlckxheWVyICE9PSBudWxsKSB7XG4gICAgICAgICAgb2xkSGVscGVyTnVtYmVyTGF5ZXIuaW5uZXJIVE1MID0gdGFyZ2V0RWxlbWVudC5zdGVwO1xuICAgICAgICB9XG4gICAgICAgIC8vc2V0IGN1cnJlbnQgdG9vbHRpcCB0ZXh0XG4gICAgICAgIG9sZHRvb2x0aXBMYXllci5pbm5lckhUTUwgPSB0YXJnZXRFbGVtZW50LmludHJvO1xuICAgICAgICAvL3NldCB0aGUgdG9vbHRpcCBwb3NpdGlvblxuICAgICAgICBvbGR0b29sdGlwQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIF9wbGFjZVRvb2x0aXAuY2FsbChzZWxmLCB0YXJnZXRFbGVtZW50LmVsZW1lbnQsIG9sZHRvb2x0aXBDb250YWluZXIsIG9sZEFycm93TGF5ZXIsIG9sZEhlbHBlck51bWJlckxheWVyKTtcblxuICAgICAgICAvL2NoYW5nZSBhY3RpdmUgYnVsbGV0XG4gICAgICAgIGlmIChzZWxmLl9vcHRpb25zLnNob3dCdWxsZXRzKSB7XG4gICAgICAgICAgICBvbGRSZWZlcmVuY2VMYXllci5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy1idWxsZXRzIGxpID4gYS5hY3RpdmUnKS5jbGFzc05hbWUgPSAnJztcbiAgICAgICAgICAgIG9sZFJlZmVyZW5jZUxheWVyLnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLWJ1bGxldHMgbGkgPiBhW2RhdGEtc3RlcG51bWJlcj1cIicgKyB0YXJnZXRFbGVtZW50LnN0ZXAgKyAnXCJdJykuY2xhc3NOYW1lID0gJ2FjdGl2ZSc7XG4gICAgICAgIH1cbiAgICAgICAgb2xkUmVmZXJlbmNlTGF5ZXIucXVlcnlTZWxlY3RvcignLmludHJvanMtcHJvZ3Jlc3MgLmludHJvanMtcHJvZ3Jlc3NiYXInKS5zdHlsZS5jc3NUZXh0ID0gJ3dpZHRoOicgKyBfZ2V0UHJvZ3Jlc3MuY2FsbChzZWxmKSArICclOyc7XG4gICAgICAgIG9sZFJlZmVyZW5jZUxheWVyLnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLXByb2dyZXNzIC5pbnRyb2pzLXByb2dyZXNzYmFyJykuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JywgX2dldFByb2dyZXNzLmNhbGwoc2VsZikpO1xuXG4gICAgICAgIC8vc2hvdyB0aGUgdG9vbHRpcFxuICAgICAgICBvbGR0b29sdGlwQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICBpZiAob2xkSGVscGVyTnVtYmVyTGF5ZXIpIG9sZEhlbHBlck51bWJlckxheWVyLnN0eWxlLm9wYWNpdHkgPSAxO1xuXG4gICAgICAgIC8vcmVzZXQgYnV0dG9uIGZvY3VzXG4gICAgICAgIGlmICh0eXBlb2Ygc2tpcFRvb2x0aXBCdXR0b24gIT09IFwidW5kZWZpbmVkXCIgJiYgc2tpcFRvb2x0aXBCdXR0b24gIT09IG51bGwgJiYgL2ludHJvanMtZG9uZWJ1dHRvbi9naS50ZXN0KHNraXBUb29sdGlwQnV0dG9uLmNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAvLyBza2lwIGJ1dHRvbiBpcyBub3cgXCJkb25lXCIgYnV0dG9uXG4gICAgICAgICAgc2tpcFRvb2x0aXBCdXR0b24uZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbmV4dFRvb2x0aXBCdXR0b24gIT09IFwidW5kZWZpbmVkXCIgJiYgbmV4dFRvb2x0aXBCdXR0b24gIT09IG51bGwpIHtcbiAgICAgICAgICAvL3N0aWxsIGluIHRoZSB0b3VyLCBmb2N1cyBvbiBuZXh0XG4gICAgICAgICAgbmV4dFRvb2x0aXBCdXR0b24uZm9jdXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoYW5nZSB0aGUgc2Nyb2xsIG9mIHRoZSB3aW5kb3csIGlmIG5lZWRlZFxuICAgICAgICBfc2Nyb2xsVG8uY2FsbChzZWxmLCB0YXJnZXRFbGVtZW50LnNjcm9sbFRvLCB0YXJnZXRFbGVtZW50LCBvbGR0b29sdGlwTGF5ZXIpO1xuICAgICAgfSwgMzUwKTtcblxuICAgICAgLy8gZW5kIG9mIG9sZCBlbGVtZW50IGlmLWVsc2UgY29uZGl0aW9uXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBoZWxwZXJMYXllciAgICAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgIHJlZmVyZW5jZUxheWVyICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgYXJyb3dMYXllciAgICAgICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICB0b29sdGlwTGF5ZXIgICAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgIHRvb2x0aXBUZXh0TGF5ZXIgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgYnVsbGV0c0xheWVyICAgICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICBwcm9ncmVzc0xheWVyICAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgIGJ1dHRvbnNMYXllciAgICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgIGhlbHBlckxheWVyLmNsYXNzTmFtZSA9IGhpZ2hsaWdodENsYXNzO1xuICAgICAgcmVmZXJlbmNlTGF5ZXIuY2xhc3NOYW1lID0gJ2ludHJvanMtdG9vbHRpcFJlZmVyZW5jZUxheWVyJztcblxuICAgICAgLy8gc2Nyb2xsIHRvIGVsZW1lbnRcbiAgICAgIHNjcm9sbFBhcmVudCA9IF9nZXRTY3JvbGxQYXJlbnQoIHRhcmdldEVsZW1lbnQuZWxlbWVudCApO1xuXG4gICAgICBpZiAoc2Nyb2xsUGFyZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIC8vIHRhcmdldCBpcyB3aXRoaW4gYSBzY3JvbGxhYmxlIGVsZW1lbnRcbiAgICAgICAgX3Njcm9sbFBhcmVudFRvRWxlbWVudChzY3JvbGxQYXJlbnQsIHRhcmdldEVsZW1lbnQuZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vc2V0IG5ldyBwb3NpdGlvbiB0byBoZWxwZXIgbGF5ZXJcbiAgICAgIF9zZXRIZWxwZXJMYXllclBvc2l0aW9uLmNhbGwoc2VsZiwgaGVscGVyTGF5ZXIpO1xuICAgICAgX3NldEhlbHBlckxheWVyUG9zaXRpb24uY2FsbChzZWxmLCByZWZlcmVuY2VMYXllcik7XG5cbiAgICAgIC8vYWRkIGhlbHBlciBsYXllciB0byB0YXJnZXQgZWxlbWVudFxuICAgICAgdGhpcy5fdGFyZ2V0RWxlbWVudC5hcHBlbmRDaGlsZChoZWxwZXJMYXllcik7XG4gICAgICB0aGlzLl90YXJnZXRFbGVtZW50LmFwcGVuZENoaWxkKHJlZmVyZW5jZUxheWVyKTtcblxuICAgICAgYXJyb3dMYXllci5jbGFzc05hbWUgPSAnaW50cm9qcy1hcnJvdyc7XG5cbiAgICAgIHRvb2x0aXBUZXh0TGF5ZXIuY2xhc3NOYW1lID0gJ2ludHJvanMtdG9vbHRpcHRleHQnO1xuICAgICAgdG9vbHRpcFRleHRMYXllci5pbm5lckhUTUwgPSB0YXJnZXRFbGVtZW50LmludHJvO1xuXG4gICAgICBidWxsZXRzTGF5ZXIuY2xhc3NOYW1lID0gJ2ludHJvanMtYnVsbGV0cyc7XG5cbiAgICAgIGlmICh0aGlzLl9vcHRpb25zLnNob3dCdWxsZXRzID09PSBmYWxzZSkge1xuICAgICAgICBidWxsZXRzTGF5ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cblxuICAgICAgdmFyIHVsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICAgIHVsQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgncm9sZScsICd0YWJsaXN0Jyk7XG5cbiAgICAgIHZhciBhbmNob3JDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzZWxmLmdvVG9TdGVwKHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXN0ZXBudW1iZXInKSk7XG4gICAgICB9O1xuXG4gICAgICBfZm9yRWFjaCh0aGlzLl9pbnRyb0l0ZW1zLCBmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICB2YXIgaW5uZXJMaSAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIHZhciBhbmNob3JMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBcbiAgICAgICAgaW5uZXJMaS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAncHJlc2VudGF0aW9uJyk7XG4gICAgICAgIGFuY2hvckxpbmsuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3RhYicpO1xuXG4gICAgICAgIGFuY2hvckxpbmsub25jbGljayA9IGFuY2hvckNsaWNrO1xuXG4gICAgICAgIGlmIChpID09PSAodGFyZ2V0RWxlbWVudC5zdGVwLTEpKSB7XG4gICAgICAgICAgYW5jaG9yTGluay5jbGFzc05hbWUgPSAnYWN0aXZlJztcbiAgICAgICAgfSBcblxuICAgICAgICBfc2V0QW5jaG9yQXNCdXR0b24oYW5jaG9yTGluayk7XG4gICAgICAgIGFuY2hvckxpbmsuaW5uZXJIVE1MID0gXCImbmJzcDtcIjtcbiAgICAgICAgYW5jaG9yTGluay5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RlcG51bWJlcicsIGl0ZW0uc3RlcCk7XG5cbiAgICAgICAgaW5uZXJMaS5hcHBlbmRDaGlsZChhbmNob3JMaW5rKTtcbiAgICAgICAgdWxDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5uZXJMaSk7XG4gICAgICB9KTtcblxuICAgICAgYnVsbGV0c0xheWVyLmFwcGVuZENoaWxkKHVsQ29udGFpbmVyKTtcblxuICAgICAgcHJvZ3Jlc3NMYXllci5jbGFzc05hbWUgPSAnaW50cm9qcy1wcm9ncmVzcyc7XG5cbiAgICAgIGlmICh0aGlzLl9vcHRpb25zLnNob3dQcm9ncmVzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgcHJvZ3Jlc3NMYXllci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgICAgdmFyIHByb2dyZXNzQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBwcm9ncmVzc0Jhci5jbGFzc05hbWUgPSAnaW50cm9qcy1wcm9ncmVzc2Jhcic7XG4gICAgICBwcm9ncmVzc0Jhci5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAncHJvZ3Jlc3MnKTtcbiAgICAgIHByb2dyZXNzQmFyLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW1pbicsIDApO1xuICAgICAgcHJvZ3Jlc3NCYXIuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWF4JywgMTAwKTtcbiAgICAgIHByb2dyZXNzQmFyLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIF9nZXRQcm9ncmVzcy5jYWxsKHRoaXMpKTtcbiAgICAgIHByb2dyZXNzQmFyLnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6JyArIF9nZXRQcm9ncmVzcy5jYWxsKHRoaXMpICsgJyU7JztcblxuICAgICAgcHJvZ3Jlc3NMYXllci5hcHBlbmRDaGlsZChwcm9ncmVzc0Jhcik7XG5cbiAgICAgIGJ1dHRvbnNMYXllci5jbGFzc05hbWUgPSAnaW50cm9qcy10b29sdGlwYnV0dG9ucyc7XG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5zaG93QnV0dG9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnV0dG9uc0xheWVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG5cbiAgICAgIHRvb2x0aXBMYXllci5jbGFzc05hbWUgPSAnaW50cm9qcy10b29sdGlwJztcbiAgICAgIHRvb2x0aXBMYXllci5hcHBlbmRDaGlsZCh0b29sdGlwVGV4dExheWVyKTtcbiAgICAgIHRvb2x0aXBMYXllci5hcHBlbmRDaGlsZChidWxsZXRzTGF5ZXIpO1xuICAgICAgdG9vbHRpcExheWVyLmFwcGVuZENoaWxkKHByb2dyZXNzTGF5ZXIpO1xuXG4gICAgICAvL2FkZCBoZWxwZXIgbGF5ZXIgbnVtYmVyXG4gICAgICB2YXIgaGVscGVyTnVtYmVyTGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5zaG93U3RlcE51bWJlcnMgPT09IHRydWUpIHtcbiAgICAgICAgaGVscGVyTnVtYmVyTGF5ZXIuY2xhc3NOYW1lID0gJ2ludHJvanMtaGVscGVyTnVtYmVyTGF5ZXInO1xuICAgICAgICBoZWxwZXJOdW1iZXJMYXllci5pbm5lckhUTUwgPSB0YXJnZXRFbGVtZW50LnN0ZXA7XG4gICAgICAgIHJlZmVyZW5jZUxheWVyLmFwcGVuZENoaWxkKGhlbHBlck51bWJlckxheWVyKTtcbiAgICAgIH1cblxuICAgICAgdG9vbHRpcExheWVyLmFwcGVuZENoaWxkKGFycm93TGF5ZXIpO1xuICAgICAgcmVmZXJlbmNlTGF5ZXIuYXBwZW5kQ2hpbGQodG9vbHRpcExheWVyKTtcblxuICAgICAgLy9uZXh0IGJ1dHRvblxuICAgICAgbmV4dFRvb2x0aXBCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cbiAgICAgIG5leHRUb29sdGlwQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHNlbGYuX2ludHJvSXRlbXMubGVuZ3RoIC0gMSAhPT0gc2VsZi5fY3VycmVudFN0ZXApIHtcbiAgICAgICAgICBfbmV4dFN0ZXAuY2FsbChzZWxmKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgX3NldEFuY2hvckFzQnV0dG9uKG5leHRUb29sdGlwQnV0dG9uKTtcbiAgICAgIG5leHRUb29sdGlwQnV0dG9uLmlubmVySFRNTCA9IHRoaXMuX29wdGlvbnMubmV4dExhYmVsO1xuXG4gICAgICAvL3ByZXZpb3VzIGJ1dHRvblxuICAgICAgcHJldlRvb2x0aXBCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cbiAgICAgIHByZXZUb29sdGlwQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHNlbGYuX2N1cnJlbnRTdGVwICE9PSAwKSB7XG4gICAgICAgICAgX3ByZXZpb3VzU3RlcC5jYWxsKHNlbGYpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfc2V0QW5jaG9yQXNCdXR0b24ocHJldlRvb2x0aXBCdXR0b24pO1xuICAgICAgcHJldlRvb2x0aXBCdXR0b24uaW5uZXJIVE1MID0gdGhpcy5fb3B0aW9ucy5wcmV2TGFiZWw7XG5cbiAgICAgIC8vc2tpcCBidXR0b25cbiAgICAgIHNraXBUb29sdGlwQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgc2tpcFRvb2x0aXBCdXR0b24uY2xhc3NOYW1lID0gdGhpcy5fb3B0aW9ucy5idXR0b25DbGFzcyArICcgaW50cm9qcy1za2lwYnV0dG9uICc7XG4gICAgICBfc2V0QW5jaG9yQXNCdXR0b24oc2tpcFRvb2x0aXBCdXR0b24pO1xuICAgICAgc2tpcFRvb2x0aXBCdXR0b24uaW5uZXJIVE1MID0gdGhpcy5fb3B0aW9ucy5za2lwTGFiZWw7XG5cbiAgICAgIHNraXBUb29sdGlwQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHNlbGYuX2ludHJvSXRlbXMubGVuZ3RoIC0gMSA9PT0gc2VsZi5fY3VycmVudFN0ZXAgJiYgdHlwZW9mIChzZWxmLl9pbnRyb0NvbXBsZXRlQ2FsbGJhY2spID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgc2VsZi5faW50cm9Db21wbGV0ZUNhbGxiYWNrLmNhbGwoc2VsZik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5faW50cm9JdGVtcy5sZW5ndGggLSAxICE9PSBzZWxmLl9jdXJyZW50U3RlcCAmJiB0eXBlb2YgKHNlbGYuX2ludHJvRXhpdENhbGxiYWNrKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHNlbGYuX2ludHJvRXhpdENhbGxiYWNrLmNhbGwoc2VsZik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mKHNlbGYuX2ludHJvU2tpcENhbGxiYWNrKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHNlbGYuX2ludHJvU2tpcENhbGxiYWNrLmNhbGwoc2VsZik7XG4gICAgICAgIH1cblxuICAgICAgICBfZXhpdEludHJvLmNhbGwoc2VsZiwgc2VsZi5fdGFyZ2V0RWxlbWVudCk7XG4gICAgICB9O1xuXG4gICAgICBidXR0b25zTGF5ZXIuYXBwZW5kQ2hpbGQoc2tpcFRvb2x0aXBCdXR0b24pO1xuXG4gICAgICAvL2luIG9yZGVyIHRvIHByZXZlbnQgZGlzcGxheWluZyBuZXh0L3ByZXZpb3VzIGJ1dHRvbiBhbHdheXNcbiAgICAgIGlmICh0aGlzLl9pbnRyb0l0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgYnV0dG9uc0xheWVyLmFwcGVuZENoaWxkKHByZXZUb29sdGlwQnV0dG9uKTtcbiAgICAgICAgYnV0dG9uc0xheWVyLmFwcGVuZENoaWxkKG5leHRUb29sdGlwQnV0dG9uKTtcbiAgICAgIH1cblxuICAgICAgdG9vbHRpcExheWVyLmFwcGVuZENoaWxkKGJ1dHRvbnNMYXllcik7XG5cbiAgICAgIC8vc2V0IHByb3BlciBwb3NpdGlvblxuICAgICAgX3BsYWNlVG9vbHRpcC5jYWxsKHNlbGYsIHRhcmdldEVsZW1lbnQuZWxlbWVudCwgdG9vbHRpcExheWVyLCBhcnJvd0xheWVyLCBoZWxwZXJOdW1iZXJMYXllcik7XG5cbiAgICAgIC8vIGNoYW5nZSB0aGUgc2Nyb2xsIG9mIHRoZSB3aW5kb3csIGlmIG5lZWRlZFxuICAgICAgX3Njcm9sbFRvLmNhbGwodGhpcywgdGFyZ2V0RWxlbWVudC5zY3JvbGxUbywgdGFyZ2V0RWxlbWVudCwgdG9vbHRpcExheWVyKTtcblxuICAgICAgLy9lbmQgb2YgbmV3IGVsZW1lbnQgaWYtZWxzZSBjb25kaXRpb25cbiAgICB9XG5cbiAgICAvLyByZW1vdmluZyBwcmV2aW91cyBkaXNhYmxlIGludGVyYWN0aW9uIGxheWVyXG4gICAgdmFyIGRpc2FibGVJbnRlcmFjdGlvbkxheWVyID0gc2VsZi5fdGFyZ2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy1kaXNhYmxlSW50ZXJhY3Rpb24nKTtcbiAgICBpZiAoZGlzYWJsZUludGVyYWN0aW9uTGF5ZXIpIHtcbiAgICAgIGRpc2FibGVJbnRlcmFjdGlvbkxheWVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGlzYWJsZUludGVyYWN0aW9uTGF5ZXIpO1xuICAgIH1cblxuICAgIC8vZGlzYWJsZSBpbnRlcmFjdGlvblxuICAgIGlmICh0YXJnZXRFbGVtZW50LmRpc2FibGVJbnRlcmFjdGlvbikge1xuICAgICAgX2Rpc2FibGVJbnRlcmFjdGlvbi5jYWxsKHNlbGYpO1xuICAgIH1cblxuICAgIC8vIHdoZW4gaXQncyB0aGUgZmlyc3Qgc3RlcCBvZiB0b3VyXG4gICAgaWYgKHRoaXMuX2N1cnJlbnRTdGVwID09PSAwICYmIHRoaXMuX2ludHJvSXRlbXMubGVuZ3RoID4gMSkge1xuICAgICAgaWYgKHR5cGVvZiBza2lwVG9vbHRpcEJ1dHRvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBza2lwVG9vbHRpcEJ1dHRvbiAhPT0gbnVsbCkge1xuICAgICAgICBza2lwVG9vbHRpcEJ1dHRvbi5jbGFzc05hbWUgPSB0aGlzLl9vcHRpb25zLmJ1dHRvbkNsYXNzICsgJyBpbnRyb2pzLXNraXBidXR0b24nO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBuZXh0VG9vbHRpcEJ1dHRvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuZXh0VG9vbHRpcEJ1dHRvbiAhPT0gbnVsbCkge1xuICAgICAgICBuZXh0VG9vbHRpcEJ1dHRvbi5jbGFzc05hbWUgPSB0aGlzLl9vcHRpb25zLmJ1dHRvbkNsYXNzICsgJyBpbnRyb2pzLW5leHRidXR0b24nO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5oaWRlUHJldiA9PT0gdHJ1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHByZXZUb29sdGlwQnV0dG9uICE9PSBcInVuZGVmaW5lZFwiICYmIHByZXZUb29sdGlwQnV0dG9uICE9PSBudWxsKSB7XG4gICAgICAgICAgcHJldlRvb2x0aXBCdXR0b24uY2xhc3NOYW1lID0gdGhpcy5fb3B0aW9ucy5idXR0b25DbGFzcyArICcgaW50cm9qcy1wcmV2YnV0dG9uIGludHJvanMtaGlkZGVuJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG5leHRUb29sdGlwQnV0dG9uICE9PSBcInVuZGVmaW5lZFwiICYmIG5leHRUb29sdGlwQnV0dG9uICE9PSBudWxsKSB7XG4gICAgICAgICAgX2FkZENsYXNzKG5leHRUb29sdGlwQnV0dG9uLCAnaW50cm9qcy1mdWxsYnV0dG9uJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJldlRvb2x0aXBCdXR0b24gIT09IFwidW5kZWZpbmVkXCIgJiYgcHJldlRvb2x0aXBCdXR0b24gIT09IG51bGwpIHtcbiAgICAgICAgICBwcmV2VG9vbHRpcEJ1dHRvbi5jbGFzc05hbWUgPSB0aGlzLl9vcHRpb25zLmJ1dHRvbkNsYXNzICsgJyBpbnRyb2pzLXByZXZidXR0b24gaW50cm9qcy1kaXNhYmxlZCc7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBza2lwVG9vbHRpcEJ1dHRvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBza2lwVG9vbHRpcEJ1dHRvbiAhPT0gbnVsbCkge1xuICAgICAgICBza2lwVG9vbHRpcEJ1dHRvbi5pbm5lckhUTUwgPSB0aGlzLl9vcHRpb25zLnNraXBMYWJlbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuX2ludHJvSXRlbXMubGVuZ3RoIC0gMSA9PT0gdGhpcy5fY3VycmVudFN0ZXAgfHwgdGhpcy5faW50cm9JdGVtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIGxhc3Qgc3RlcCBvZiB0b3VyXG4gICAgICBpZiAodHlwZW9mIHNraXBUb29sdGlwQnV0dG9uICE9PSBcInVuZGVmaW5lZFwiICYmIHNraXBUb29sdGlwQnV0dG9uICE9PSBudWxsKSB7XG4gICAgICAgIHNraXBUb29sdGlwQnV0dG9uLmlubmVySFRNTCA9IHRoaXMuX29wdGlvbnMuZG9uZUxhYmVsO1xuICAgICAgICAvLyBhZGRpbmcgZG9uZWJ1dHRvbiBjbGFzcyBpbiBhZGRpdGlvbiB0byBza2lwYnV0dG9uXG4gICAgICAgIF9hZGRDbGFzcyhza2lwVG9vbHRpcEJ1dHRvbiwgJ2ludHJvanMtZG9uZWJ1dHRvbicpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBwcmV2VG9vbHRpcEJ1dHRvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcmV2VG9vbHRpcEJ1dHRvbiAhPT0gbnVsbCkge1xuICAgICAgICBwcmV2VG9vbHRpcEJ1dHRvbi5jbGFzc05hbWUgPSB0aGlzLl9vcHRpb25zLmJ1dHRvbkNsYXNzICsgJyBpbnRyb2pzLXByZXZidXR0b24nO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5oaWRlTmV4dCA9PT0gdHJ1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIG5leHRUb29sdGlwQnV0dG9uICE9PSBcInVuZGVmaW5lZFwiICYmIG5leHRUb29sdGlwQnV0dG9uICE9PSBudWxsKSB7XG4gICAgICAgICAgbmV4dFRvb2x0aXBCdXR0b24uY2xhc3NOYW1lID0gdGhpcy5fb3B0aW9ucy5idXR0b25DbGFzcyArICcgaW50cm9qcy1uZXh0YnV0dG9uIGludHJvanMtaGlkZGVuJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHByZXZUb29sdGlwQnV0dG9uICE9PSBcInVuZGVmaW5lZFwiICYmIHByZXZUb29sdGlwQnV0dG9uICE9PSBudWxsKSB7XG4gICAgICAgICAgX2FkZENsYXNzKHByZXZUb29sdGlwQnV0dG9uLCAnaW50cm9qcy1mdWxsYnV0dG9uJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmV4dFRvb2x0aXBCdXR0b24gIT09IFwidW5kZWZpbmVkXCIgJiYgbmV4dFRvb2x0aXBCdXR0b24gIT09IG51bGwpIHtcbiAgICAgICAgICBuZXh0VG9vbHRpcEJ1dHRvbi5jbGFzc05hbWUgPSB0aGlzLl9vcHRpb25zLmJ1dHRvbkNsYXNzICsgJyBpbnRyb2pzLW5leHRidXR0b24gaW50cm9qcy1kaXNhYmxlZCc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc3RlcHMgYmV0d2VlbiBzdGFydCBhbmQgZW5kXG4gICAgICBpZiAodHlwZW9mIHNraXBUb29sdGlwQnV0dG9uICE9PSBcInVuZGVmaW5lZFwiICYmIHNraXBUb29sdGlwQnV0dG9uICE9PSBudWxsKSB7XG4gICAgICAgIHNraXBUb29sdGlwQnV0dG9uLmNsYXNzTmFtZSA9IHRoaXMuX29wdGlvbnMuYnV0dG9uQ2xhc3MgKyAnIGludHJvanMtc2tpcGJ1dHRvbic7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHByZXZUb29sdGlwQnV0dG9uICE9PSBcInVuZGVmaW5lZFwiICYmIHByZXZUb29sdGlwQnV0dG9uICE9PSBudWxsKSB7XG4gICAgICAgIHByZXZUb29sdGlwQnV0dG9uLmNsYXNzTmFtZSA9IHRoaXMuX29wdGlvbnMuYnV0dG9uQ2xhc3MgKyAnIGludHJvanMtcHJldmJ1dHRvbic7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG5leHRUb29sdGlwQnV0dG9uICE9PSBcInVuZGVmaW5lZFwiICYmIG5leHRUb29sdGlwQnV0dG9uICE9PSBudWxsKSB7XG4gICAgICAgIG5leHRUb29sdGlwQnV0dG9uLmNsYXNzTmFtZSA9IHRoaXMuX29wdGlvbnMuYnV0dG9uQ2xhc3MgKyAnIGludHJvanMtbmV4dGJ1dHRvbic7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHNraXBUb29sdGlwQnV0dG9uICE9PSBcInVuZGVmaW5lZFwiICYmIHNraXBUb29sdGlwQnV0dG9uICE9PSBudWxsKSB7XG4gICAgICAgIHNraXBUb29sdGlwQnV0dG9uLmlubmVySFRNTCA9IHRoaXMuX29wdGlvbnMuc2tpcExhYmVsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHByZXZUb29sdGlwQnV0dG9uLnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICBuZXh0VG9vbHRpcEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgc2tpcFRvb2x0aXBCdXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuXG4gICAgLy9TZXQgZm9jdXMgb24gXCJuZXh0XCIgYnV0dG9uLCBzbyB0aGF0IGhpdHRpbmcgRW50ZXIgYWx3YXlzIG1vdmVzIHlvdSBvbnRvIHRoZSBuZXh0IHN0ZXBcbiAgICBpZiAodHlwZW9mIG5leHRUb29sdGlwQnV0dG9uICE9PSBcInVuZGVmaW5lZFwiICYmIG5leHRUb29sdGlwQnV0dG9uICE9PSBudWxsKSB7XG4gICAgICBuZXh0VG9vbHRpcEJ1dHRvbi5mb2N1cygpO1xuICAgIH1cblxuICAgIF9zZXRTaG93RWxlbWVudCh0YXJnZXRFbGVtZW50KTtcblxuICAgIGlmICh0eXBlb2YgKHRoaXMuX2ludHJvQWZ0ZXJDaGFuZ2VDYWxsYmFjaykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLl9pbnRyb0FmdGVyQ2hhbmdlQ2FsbGJhY2suY2FsbCh0aGlzLCB0YXJnZXRFbGVtZW50LmVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUbyBjaGFuZ2UgdGhlIHNjcm9sbCBvZiBgd2luZG93YCBhZnRlciBoaWdobGlnaHRpbmcgYW4gZWxlbWVudFxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfc2Nyb2xsVG9cbiAgICogQHBhcmFtIHtTdHJpbmd9IHNjcm9sbFRvXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRFbGVtZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0b29sdGlwTGF5ZXJcbiAgICovXG4gIGZ1bmN0aW9uIF9zY3JvbGxUbyhzY3JvbGxUbywgdGFyZ2V0RWxlbWVudCwgdG9vbHRpcExheWVyKSB7XG4gICAgaWYgKHNjcm9sbFRvID09PSAnb2ZmJykgcmV0dXJuOyAgXG4gICAgdmFyIHJlY3Q7XG5cbiAgICBpZiAoIXRoaXMuX29wdGlvbnMuc2Nyb2xsVG9FbGVtZW50KSByZXR1cm47XG5cbiAgICBpZiAoc2Nyb2xsVG8gPT09ICd0b29sdGlwJykge1xuICAgICAgcmVjdCA9IHRvb2x0aXBMYXllci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVjdCA9IHRhcmdldEVsZW1lbnQuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG5cbiAgICBpZiAoIV9lbGVtZW50SW5WaWV3cG9ydCh0YXJnZXRFbGVtZW50LmVsZW1lbnQpKSB7XG4gICAgICB2YXIgdG9wID0gcmVjdC5ib3R0b20gLSAocmVjdC5ib3R0b20gLSByZWN0LnRvcCk7XG5cbiAgICAgIHZhciB3aW5IZWlnaHQgPSBfZ2V0V2luU2l6ZSgpLmhlaWdodDtcbiAgICAgIHZhciBhYnNZID0gcmVjdC50b3AgKyBwYWdlWU9mZnNldDtcbiAgICAgIHZhciB3aW5IYWxmSGVpZ2h0ID0gd2luSGVpZ2h0IC8gMjtcbiAgICAgIHZhciBlbGVtSGFsZkhlaWdodCA9IHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgIHZhciBhYnNZU2Nyb2xsID0gYWJzWSAtIHdpbkhhbGZIZWlnaHQgKyBlbGVtSGFsZkhlaWdodDtcbiAgICAgIHZhciBzY3JvbGxUb09wdGlvbnMgPSB7dG9wOiBhYnNZU2Nyb2xsLCBsZWZ0OiAwLCBiZWhhdmlvcjogXCJzbW9vdGhcIn1cbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gaWYgc2Nyb2xsVG8gd2l0aCBvcHRpb25zIGlzIHdvcmtpbmdcbiAgICAgICAgaWYgKHRvcCA8IDAgfHwgdGFyZ2V0RWxlbWVudC5lbGVtZW50LmNsaWVudEhlaWdodCA+IHdpbkhlaWdodCkge1xuICAgICAgICAgIHNjcm9sbFRvT3B0aW9ucy50b3AgLT0gdGhpcy5fb3B0aW9ucy5zY3JvbGxQYWRkaW5nO1xuICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyhzY3JvbGxUb09wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNjcm9sbFRvT3B0aW9ucy50b3AgKz0gdGhpcy5fb3B0aW9ucy5zY3JvbGxQYWRkaW5nO1xuICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyhzY3JvbGxUb09wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9Y2F0Y2goZSkge1xuICAgICAgICBpZiAodG9wIDwgMCB8fCB0YXJnZXRFbGVtZW50LmVsZW1lbnQuY2xpZW50SGVpZ2h0ID4gd2luSGVpZ2h0KSB7XG4gICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHNjcm9sbFRvT3B0aW9ucy50b3AgLSAzMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHNjcm9sbFRvT3B0aW9ucy50b3AgKyAzMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVG8gcmVtb3ZlIGFsbCBzaG93IGVsZW1lbnQocylcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX3JlbW92ZVNob3dFbGVtZW50XG4gICAqL1xuICBmdW5jdGlvbiBfcmVtb3ZlU2hvd0VsZW1lbnQoKSB7XG4gICAgdmFyIGVsbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW50cm9qcy1zaG93RWxlbWVudCcpO1xuXG4gICAgX2ZvckVhY2goZWxtcywgZnVuY3Rpb24gKGVsbSkge1xuICAgICAgX3JlbW92ZUNsYXNzKGVsbSwgL2ludHJvanMtW2EtekEtWl0rL2cpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvIHNldCB0aGUgc2hvdyBlbGVtZW50XG4gICAqIFRoaXMgZnVuY3Rpb24gc2V0IGEgcmVsYXRpdmUgKGluIG1vc3QgY2FzZXMpIHBvc2l0aW9uIGFuZCBjaGFuZ2VzIHRoZSB6LWluZGV4XG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9zZXRTaG93RWxlbWVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0RWxlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gX3NldFNob3dFbGVtZW50KHRhcmdldEVsZW1lbnQpIHtcbiAgICB2YXIgcGFyZW50RWxtO1xuICAgIC8vIHdlIG5lZWQgdG8gYWRkIHRoaXMgc2hvdyBlbGVtZW50IGNsYXNzIHRvIHRoZSBwYXJlbnQgb2YgU1ZHIGVsZW1lbnRzXG4gICAgLy8gYmVjYXVzZSB0aGUgU1ZHIGVsZW1lbnRzIGNhbid0IGhhdmUgaW5kZXBlbmRlbnQgei1pbmRleFxuICAgIGlmICh0YXJnZXRFbGVtZW50LmVsZW1lbnQgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSB7XG4gICAgICBwYXJlbnRFbG0gPSB0YXJnZXRFbGVtZW50LmVsZW1lbnQucGFyZW50Tm9kZTtcblxuICAgICAgd2hpbGUgKHRhcmdldEVsZW1lbnQuZWxlbWVudC5wYXJlbnROb2RlICE9PSBudWxsKSB7XG4gICAgICAgIGlmICghcGFyZW50RWxtLnRhZ05hbWUgfHwgcGFyZW50RWxtLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2JvZHknKSBicmVhaztcblxuICAgICAgICBpZiAocGFyZW50RWxtLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3N2ZycpIHtcbiAgICAgICAgICBfYWRkQ2xhc3MocGFyZW50RWxtLCAnaW50cm9qcy1zaG93RWxlbWVudCBpbnRyb2pzLXJlbGF0aXZlUG9zaXRpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudEVsbSA9IHBhcmVudEVsbS5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9hZGRDbGFzcyh0YXJnZXRFbGVtZW50LmVsZW1lbnQsICdpbnRyb2pzLXNob3dFbGVtZW50Jyk7XG5cbiAgICB2YXIgY3VycmVudEVsZW1lbnRQb3NpdGlvbiA9IF9nZXRQcm9wVmFsdWUodGFyZ2V0RWxlbWVudC5lbGVtZW50LCAncG9zaXRpb24nKTtcbiAgICBpZiAoY3VycmVudEVsZW1lbnRQb3NpdGlvbiAhPT0gJ2Fic29sdXRlJyAmJlxuICAgICAgICBjdXJyZW50RWxlbWVudFBvc2l0aW9uICE9PSAncmVsYXRpdmUnICYmXG4gICAgICAgIGN1cnJlbnRFbGVtZW50UG9zaXRpb24gIT09ICdmaXhlZCcpIHtcbiAgICAgIC8vY2hhbmdlIHRvIG5ldyBpbnRybyBpdGVtXG4gICAgICBfYWRkQ2xhc3ModGFyZ2V0RWxlbWVudC5lbGVtZW50LCAnaW50cm9qcy1yZWxhdGl2ZVBvc2l0aW9uJyk7XG4gICAgfVxuXG4gICAgcGFyZW50RWxtID0gdGFyZ2V0RWxlbWVudC5lbGVtZW50LnBhcmVudE5vZGU7XG4gICAgd2hpbGUgKHBhcmVudEVsbSAhPT0gbnVsbCkge1xuICAgICAgaWYgKCFwYXJlbnRFbG0udGFnTmFtZSB8fCBwYXJlbnRFbG0udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYm9keScpIGJyZWFrO1xuXG4gICAgICAvL2ZpeCBUaGUgU3RhY2tpbmcgQ29udGV4dCBwcm9ibGVtLlxuICAgICAgLy9Nb3JlIGRldGFpbDogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvR3VpZGUvQ1NTL1VuZGVyc3RhbmRpbmdfel9pbmRleC9UaGVfc3RhY2tpbmdfY29udGV4dFxuICAgICAgdmFyIHpJbmRleCA9IF9nZXRQcm9wVmFsdWUocGFyZW50RWxtLCAnei1pbmRleCcpO1xuICAgICAgdmFyIG9wYWNpdHkgPSBwYXJzZUZsb2F0KF9nZXRQcm9wVmFsdWUocGFyZW50RWxtLCAnb3BhY2l0eScpKTtcbiAgICAgIHZhciB0cmFuc2Zvcm0gPSBfZ2V0UHJvcFZhbHVlKHBhcmVudEVsbSwgJ3RyYW5zZm9ybScpIHx8IF9nZXRQcm9wVmFsdWUocGFyZW50RWxtLCAnLXdlYmtpdC10cmFuc2Zvcm0nKSB8fCBfZ2V0UHJvcFZhbHVlKHBhcmVudEVsbSwgJy1tb3otdHJhbnNmb3JtJykgfHwgX2dldFByb3BWYWx1ZShwYXJlbnRFbG0sICctbXMtdHJhbnNmb3JtJykgfHwgX2dldFByb3BWYWx1ZShwYXJlbnRFbG0sICctby10cmFuc2Zvcm0nKTtcbiAgICAgIGlmICgvWzAtOV0rLy50ZXN0KHpJbmRleCkgfHwgb3BhY2l0eSA8IDEgfHwgKHRyYW5zZm9ybSAhPT0gJ25vbmUnICYmIHRyYW5zZm9ybSAhPT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBfYWRkQ2xhc3MocGFyZW50RWxtLCAnaW50cm9qcy1maXhQYXJlbnQnKTtcbiAgICAgIH1cblxuICAgICAgcGFyZW50RWxtID0gcGFyZW50RWxtLnBhcmVudE5vZGU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogSXRlcmF0ZXMgYXJyYXlzXG4gICpcbiAgKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmb3JFYWNoRm5jXG4gICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGxldGVGbmNcbiAgKiBAcmV0dXJuIHtOdWxsfVxuICAqL1xuICBmdW5jdGlvbiBfZm9yRWFjaChhcnIsIGZvckVhY2hGbmMsIGNvbXBsZXRlRm5jKSB7XG4gICAgLy8gaW4gY2FzZSBhcnIgaXMgYW4gZW1wdHkgcXVlcnkgc2VsZWN0b3Igbm9kZSBsaXN0XG4gICAgaWYgKGFycikge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBmb3JFYWNoRm5jKGFycltpXSwgaSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZihjb21wbGV0ZUZuYykgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbXBsZXRlRm5jKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICogTWFyayBhbnkgb2JqZWN0IHdpdGggYW4gaW5jcmVtZW50aW5nIG51bWJlclxuICAqIHVzZWQgZm9yIGtlZXBpbmcgdHJhY2sgb2Ygb2JqZWN0c1xuICAqXG4gICogQHBhcmFtIE9iamVjdCBvYmogICBBbnkgb2JqZWN0IG9yIERPTSBFbGVtZW50XG4gICogQHBhcmFtIFN0cmluZyBrZXlcbiAgKiBAcmV0dXJuIE9iamVjdFxuICAqL1xuICB2YXIgX3N0YW1wID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIga2V5cyA9IHt9O1xuICAgIHJldHVybiBmdW5jdGlvbiBzdGFtcCAob2JqLCBrZXkpIHtcbiAgICAgIFxuICAgICAgLy8gZ2V0IGdyb3VwIGtleVxuICAgICAga2V5ID0ga2V5IHx8ICdpbnRyb2pzLXN0YW1wJztcblxuICAgICAgLy8gZWFjaCBncm91cCBpbmNyZW1lbnRzIGZyb20gMFxuICAgICAga2V5c1trZXldID0ga2V5c1trZXldIHx8IDA7XG5cbiAgICAgIC8vIHN0YW1wIG9ubHkgb25jZSBwZXIgb2JqZWN0XG4gICAgICBpZiAob2JqW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBpbmNyZW1lbnQga2V5IGZvciBlYWNoIG5ldyBvYmplY3RcbiAgICAgICAgb2JqW2tleV0gPSBrZXlzW2tleV0rKztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9ialtrZXldO1xuICAgIH07XG4gIH0pKCk7XG5cbiAgLyoqXG4gICogRE9NRXZlbnQgSGFuZGxlcyBhbGwgRE9NIGV2ZW50c1xuICAqXG4gICogbWV0aG9kczpcbiAgKlxuICAqIG9uIC0gYWRkIGV2ZW50IGhhbmRsZXJcbiAgKiBvZmYgLSByZW1vdmUgZXZlbnRcbiAgKi9cbiAgdmFyIERPTUV2ZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBET01FdmVudCAoKSB7XG4gICAgICB2YXIgZXZlbnRzX2tleSA9ICdpbnRyb2pzX2V2ZW50JztcbiAgICAgIFxuICAgICAgLyoqXG4gICAgICAqIEdldHMgYSB1bmlxdWUgSUQgZm9yIGFuIGV2ZW50IGxpc3RlbmVyXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSBPYmplY3Qgb2JqXG4gICAgICAqIEBwYXJhbSBTdHJpbmcgdHlwZSAgICAgICAgZXZlbnQgdHlwZVxuICAgICAgKiBAcGFyYW0gRnVuY3Rpb24gbGlzdGVuZXJcbiAgICAgICogQHBhcmFtIE9iamVjdCBjb250ZXh0XG4gICAgICAqIEByZXR1cm4gU3RyaW5nXG4gICAgICAqL1xuICAgICAgdGhpcy5faWQgPSBmdW5jdGlvbiAob2JqLCB0eXBlLCBsaXN0ZW5lciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdHlwZSArIF9zdGFtcChsaXN0ZW5lcikgKyAoY29udGV4dCA/ICdfJyArIF9zdGFtcChjb250ZXh0KSA6ICcnKTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgKiBBZGRzIGV2ZW50IGxpc3RlbmVyXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSBPYmplY3Qgb2JqXG4gICAgICAqIEBwYXJhbSBTdHJpbmcgdHlwZSAgICAgICAgZXZlbnQgdHlwZVxuICAgICAgKiBAcGFyYW0gRnVuY3Rpb24gbGlzdGVuZXJcbiAgICAgICogQHBhcmFtIE9iamVjdCBjb250ZXh0XG4gICAgICAqIEBwYXJhbSBCb29sZWFuIHVzZUNhcHR1cmVcbiAgICAgICogQHJldHVybiBudWxsXG4gICAgICAqL1xuICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uIChvYmosIHR5cGUsIGxpc3RlbmVyLCBjb250ZXh0LCB1c2VDYXB0dXJlKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuX2lkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksXG4gICAgICAgICAgICBoYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyLmNhbGwoY29udGV4dCB8fCBvYmosIGUgfHwgd2luZG93LmV2ZW50KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgaWYgKCdhZGRFdmVudExpc3RlbmVyJyBpbiBvYmopIHtcbiAgICAgICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCB1c2VDYXB0dXJlKTtcbiAgICAgICAgfSBlbHNlIGlmICgnYXR0YWNoRXZlbnQnIGluIG9iaikge1xuICAgICAgICAgIG9iai5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgaGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBvYmpbZXZlbnRzX2tleV0gPSBvYmpbZXZlbnRzX2tleV0gfHwge307XG4gICAgICAgIG9ialtldmVudHNfa2V5XVtpZF0gPSBoYW5kbGVyO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAqIFJlbW92ZXMgZXZlbnQgbGlzdGVuZXJcbiAgICAgICpcbiAgICAgICogQHBhcmFtIE9iamVjdCBvYmpcbiAgICAgICogQHBhcmFtIFN0cmluZyB0eXBlICAgICAgICBldmVudCB0eXBlXG4gICAgICAqIEBwYXJhbSBGdW5jdGlvbiBsaXN0ZW5lclxuICAgICAgKiBAcGFyYW0gT2JqZWN0IGNvbnRleHRcbiAgICAgICogQHBhcmFtIEJvb2xlYW4gdXNlQ2FwdHVyZVxuICAgICAgKiBAcmV0dXJuIG51bGxcbiAgICAgICovXG4gICAgICB0aGlzLm9mZiA9IGZ1bmN0aW9uIChvYmosIHR5cGUsIGxpc3RlbmVyLCBjb250ZXh0LCB1c2VDYXB0dXJlKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuX2lkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksXG4gICAgICAgICAgICBoYW5kbGVyID0gb2JqW2V2ZW50c19rZXldICYmIG9ialtldmVudHNfa2V5XVtpZF07XG5cbiAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdyZW1vdmVFdmVudExpc3RlbmVyJyBpbiBvYmopIHtcbiAgICAgICAgICBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCB1c2VDYXB0dXJlKTtcbiAgICAgICAgfSBlbHNlIGlmICgnZGV0YWNoRXZlbnQnIGluIG9iaikge1xuICAgICAgICAgIG9iai5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgaGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBvYmpbZXZlbnRzX2tleV1baWRdID0gbnVsbDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBET01FdmVudCgpO1xuICB9KSgpO1xuXG4gIC8qKlxuICAgKiBBcHBlbmQgYSBjbGFzcyB0byBhbiBlbGVtZW50XG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9hZGRDbGFzc1xuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NOYW1lXG4gICAqIEByZXR1cm5zIG51bGxcbiAgICovXG4gIGZ1bmN0aW9uIF9hZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpIHtcbiAgICAgIC8vIHN2Z1xuICAgICAgdmFyIHByZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnO1xuXG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBwcmUgKyAnICcgKyBjbGFzc05hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBjaGVjayBmb3IgbW9kZXJuIGNsYXNzTGlzdCBwcm9wZXJ0eVxuICAgICAgICB2YXIgY2xhc3NlcyA9IGNsYXNzTmFtZS5zcGxpdCgnICcpO1xuICAgICAgICBfZm9yRWFjaChjbGFzc2VzLCBmdW5jdGlvbiAoY2xzKSB7XG4gICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCBjbHMgKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKCFlbGVtZW50LmNsYXNzTmFtZS5tYXRjaCggY2xhc3NOYW1lICkpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgZWxlbWVudCBkb2Vzbid0IGFscmVhZHkgaGF2ZSBjbGFzc05hbWVcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBjbGFzcyBmcm9tIGFuIGVsZW1lbnRcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX3JlbW92ZUNsYXNzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7UmVnRXhwfFN0cmluZ30gY2xhc3NOYW1lUmVnZXggY2FuIGJlIHJlZ2V4IG9yIHN0cmluZ1xuICAgKiBAcmV0dXJucyBudWxsXG4gICAqL1xuICBmdW5jdGlvbiBfcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lUmVnZXgpIHtcbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpIHtcbiAgICAgIHZhciBwcmUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJztcblxuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgcHJlLnJlcGxhY2UoY2xhc3NOYW1lUmVnZXgsICcnKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoY2xhc3NOYW1lUmVnZXgsICcnKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiBlbGVtZW50IENTUyBwcm9wZXJ0eSBvbiB0aGUgcGFnZVxuICAgKiBUaGFua3MgdG8gSmF2YVNjcmlwdCBLaXQ6IGh0dHA6Ly93d3cuamF2YXNjcmlwdGtpdC5jb20vZGh0bWx0dXRvcnMvZGh0bWxjYXNjYWRlNC5zaHRtbFxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfZ2V0UHJvcFZhbHVlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wTmFtZVxuICAgKiBAcmV0dXJucyBFbGVtZW50J3MgcHJvcGVydHkgdmFsdWVcbiAgICovXG4gIGZ1bmN0aW9uIF9nZXRQcm9wVmFsdWUgKGVsZW1lbnQsIHByb3BOYW1lKSB7XG4gICAgdmFyIHByb3BWYWx1ZSA9ICcnO1xuICAgIGlmIChlbGVtZW50LmN1cnJlbnRTdHlsZSkgeyAvL0lFXG4gICAgICBwcm9wVmFsdWUgPSBlbGVtZW50LmN1cnJlbnRTdHlsZVtwcm9wTmFtZV07XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5kZWZhdWx0VmlldyAmJiBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKSB7IC8vT3RoZXJzXG4gICAgICBwcm9wVmFsdWUgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpLmdldFByb3BlcnR5VmFsdWUocHJvcE5hbWUpO1xuICAgIH1cblxuICAgIC8vUHJldmVudCBleGNlcHRpb24gaW4gSUVcbiAgICBpZiAocHJvcFZhbHVlICYmIHByb3BWYWx1ZS50b0xvd2VyQ2FzZSkge1xuICAgICAgcmV0dXJuIHByb3BWYWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcHJvcFZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgdG8gc2VlIGlmIHRhcmdldCBlbGVtZW50IChvciBwYXJlbnRzKSBwb3NpdGlvbiBpcyBmaXhlZCBvciBub3RcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX2lzRml4ZWRcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcbiAgICogQHJldHVybnMgQm9vbGVhblxuICAgKi9cbiAgZnVuY3Rpb24gX2lzRml4ZWQgKGVsZW1lbnQpIHtcbiAgICB2YXIgcCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuICAgIGlmICghcCB8fCBwLm5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoX2dldFByb3BWYWx1ZShlbGVtZW50LCAncG9zaXRpb24nKSA9PT0gJ2ZpeGVkJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9pc0ZpeGVkKHApO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgY3Jvc3MtYnJvd3NlciB3YXkgdG8gZ2V0IHRoZSBzY3JlZW4gZGltZW5zaW9uc1xuICAgKiB2aWE6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTg2NDQ2Ny9pbnRlcm5ldC1leHBsb3Jlci1pbm5lcmhlaWdodFxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfZ2V0V2luU2l6ZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSB3aWR0aCBhbmQgaGVpZ2h0IGF0dHJpYnV0ZXNcbiAgICovXG4gIGZ1bmN0aW9uIF9nZXRXaW5TaXplKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgRCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgIHJldHVybiB7IHdpZHRoOiBELmNsaWVudFdpZHRoLCBoZWlnaHQ6IEQuY2xpZW50SGVpZ2h0IH07XG4gICAgfWNhdGNoKGUpIHtcbiAgICAgIHJldHVybiB7IHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCwgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBlbGVtZW50IGlzIGluIHRoZSB2aWV3cG9ydCBvciBub3RcbiAgICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMjM5OTkvaG93LXRvLXRlbGwtaWYtYS1kb20tZWxlbWVudC1pcy12aXNpYmxlLWluLXRoZS1jdXJyZW50LXZpZXdwb3J0XG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9lbGVtZW50SW5WaWV3cG9ydFxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxcbiAgICovXG4gIGZ1bmN0aW9uIF9lbGVtZW50SW5WaWV3cG9ydChlbCkge1xuICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgcmVjdC50b3AgPj0gMCAmJlxuICAgICAgcmVjdC5sZWZ0ID49IDAgJiZcbiAgICAgIChyZWN0LmJvdHRvbSs4MCkgPD0gd2luZG93LmlubmVySGVpZ2h0ICYmIC8vIGFkZCA4MCB0byBnZXQgdGhlIHRleHQgcmlnaHRcbiAgICAgIHJlY3QucmlnaHQgPD0gd2luZG93LmlubmVyV2lkdGhcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBvdmVybGF5IGxheWVyIHRvIHRoZSBwYWdlXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9hZGRPdmVybGF5TGF5ZXJcbiAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldEVsbVxuICAgKi9cbiAgZnVuY3Rpb24gX2FkZE92ZXJsYXlMYXllcih0YXJnZXRFbG0pIHtcbiAgICB2YXIgb3ZlcmxheUxheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgIHN0eWxlVGV4dCA9ICcnLFxuICAgICAgICBzZWxmID0gdGhpcztcblxuICAgIC8vc2V0IGNzcyBjbGFzcyBuYW1lXG4gICAgb3ZlcmxheUxheWVyLmNsYXNzTmFtZSA9ICdpbnRyb2pzLW92ZXJsYXknO1xuXG4gICAgLy9jaGVjayBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaXMgYm9keSwgd2Ugc2hvdWxkIGNhbGN1bGF0ZSB0aGUgc2l6ZSBvZiBvdmVybGF5IGxheWVyIGluIGEgYmV0dGVyIHdheVxuICAgIGlmICghdGFyZ2V0RWxtLnRhZ05hbWUgfHwgdGFyZ2V0RWxtLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2JvZHknKSB7XG4gICAgICBzdHlsZVRleHQgKz0gJ3RvcDogMDtib3R0b206IDA7IGxlZnQ6IDA7cmlnaHQ6IDA7cG9zaXRpb246IGZpeGVkOyc7XG4gICAgICBvdmVybGF5TGF5ZXIuc3R5bGUuY3NzVGV4dCA9IHN0eWxlVGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9zZXQgb3ZlcmxheSBsYXllciBwb3NpdGlvblxuICAgICAgdmFyIGVsZW1lbnRQb3NpdGlvbiA9IF9nZXRPZmZzZXQodGFyZ2V0RWxtKTtcbiAgICAgIGlmIChlbGVtZW50UG9zaXRpb24pIHtcbiAgICAgICAgc3R5bGVUZXh0ICs9ICd3aWR0aDogJyArIGVsZW1lbnRQb3NpdGlvbi53aWR0aCArICdweDsgaGVpZ2h0OicgKyBlbGVtZW50UG9zaXRpb24uaGVpZ2h0ICsgJ3B4OyB0b3A6JyArIGVsZW1lbnRQb3NpdGlvbi50b3AgKyAncHg7bGVmdDogJyArIGVsZW1lbnRQb3NpdGlvbi5sZWZ0ICsgJ3B4Oyc7XG4gICAgICAgIG92ZXJsYXlMYXllci5zdHlsZS5jc3NUZXh0ID0gc3R5bGVUZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHRhcmdldEVsbS5hcHBlbmRDaGlsZChvdmVybGF5TGF5ZXIpO1xuXG4gICAgb3ZlcmxheUxheWVyLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChzZWxmLl9vcHRpb25zLmV4aXRPbk92ZXJsYXlDbGljayA9PT0gdHJ1ZSkge1xuICAgICAgICBfZXhpdEludHJvLmNhbGwoc2VsZiwgdGFyZ2V0RWxtKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBzdHlsZVRleHQgKz0gJ29wYWNpdHk6ICcgKyBzZWxmLl9vcHRpb25zLm92ZXJsYXlPcGFjaXR5LnRvU3RyaW5nKCkgKyAnOyc7XG4gICAgICBvdmVybGF5TGF5ZXIuc3R5bGUuY3NzVGV4dCA9IHN0eWxlVGV4dDtcbiAgICB9LCAxMCk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIG9wZW4gaGludCAodG9vbHRpcCBoaW50KVxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfcmVtb3ZlSGludFRvb2x0aXBcbiAgICovXG4gIGZ1bmN0aW9uIF9yZW1vdmVIaW50VG9vbHRpcCgpIHtcbiAgICB2YXIgdG9vbHRpcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLWhpbnRSZWZlcmVuY2UnKTtcblxuICAgIGlmICh0b29sdGlwKSB7XG4gICAgICB2YXIgc3RlcCA9IHRvb2x0aXAuZ2V0QXR0cmlidXRlKCdkYXRhLXN0ZXAnKTtcbiAgICAgIHRvb2x0aXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0b29sdGlwKTtcbiAgICAgIHJldHVybiBzdGVwO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBwYXJzaW5nIGhpbnQgaXRlbXNcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRFbG1cbiAgICogQG1ldGhvZCBfc3RhcnRIaW50XG4gICAqL1xuICBmdW5jdGlvbiBfcG9wdWxhdGVIaW50cyh0YXJnZXRFbG0pIHtcblxuICAgIHRoaXMuX2ludHJvSXRlbXMgPSBbXTtcblxuICAgIGlmICh0aGlzLl9vcHRpb25zLmhpbnRzKSB7XG4gICAgICBfZm9yRWFjaCh0aGlzLl9vcHRpb25zLmhpbnRzLCBmdW5jdGlvbiAoaGludCkge1xuICAgICAgICB2YXIgY3VycmVudEl0ZW0gPSBfY2xvbmVPYmplY3QoaGludCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZihjdXJyZW50SXRlbS5lbGVtZW50KSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAvL2dyYWIgdGhlIGVsZW1lbnQgd2l0aCBnaXZlbiBzZWxlY3RvciBmcm9tIHRoZSBwYWdlXG4gICAgICAgICAgY3VycmVudEl0ZW0uZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY3VycmVudEl0ZW0uZWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50SXRlbS5oaW50UG9zaXRpb24gPSBjdXJyZW50SXRlbS5oaW50UG9zaXRpb24gfHwgdGhpcy5fb3B0aW9ucy5oaW50UG9zaXRpb247XG4gICAgICAgIGN1cnJlbnRJdGVtLmhpbnRBbmltYXRpb24gPSBjdXJyZW50SXRlbS5oaW50QW5pbWF0aW9uIHx8IHRoaXMuX29wdGlvbnMuaGludEFuaW1hdGlvbjtcblxuICAgICAgICBpZiAoY3VycmVudEl0ZW0uZWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX2ludHJvSXRlbXMucHVzaChjdXJyZW50SXRlbSk7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBoaW50cyA9IHRhcmdldEVsbS5xdWVyeVNlbGVjdG9yQWxsKCcqW2RhdGEtaGludF0nKTtcblxuICAgICAgaWYgKCFoaW50cyB8fCAhaGludHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy9maXJzdCBhZGQgaW50cm8gaXRlbXMgd2l0aCBkYXRhLXN0ZXBcbiAgICAgIF9mb3JFYWNoKGhpbnRzLCBmdW5jdGlvbiAoY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgLy8gaGludCBhbmltYXRpb25cbiAgICAgICAgdmFyIGhpbnRBbmltYXRpb24gPSBjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGludGFuaW1hdGlvbicpO1xuXG4gICAgICAgIGlmIChoaW50QW5pbWF0aW9uKSB7XG4gICAgICAgICAgaGludEFuaW1hdGlvbiA9IChoaW50QW5pbWF0aW9uID09PSAndHJ1ZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpbnRBbmltYXRpb24gPSB0aGlzLl9vcHRpb25zLmhpbnRBbmltYXRpb247XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pbnRyb0l0ZW1zLnB1c2goe1xuICAgICAgICAgIGVsZW1lbnQ6IGN1cnJlbnRFbGVtZW50LFxuICAgICAgICAgIGhpbnQ6IGN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1oaW50JyksXG4gICAgICAgICAgaGludFBvc2l0aW9uOiBjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGludHBvc2l0aW9uJykgfHwgdGhpcy5fb3B0aW9ucy5oaW50UG9zaXRpb24sXG4gICAgICAgICAgaGludEFuaW1hdGlvbjogaGludEFuaW1hdGlvbixcbiAgICAgICAgICB0b29sdGlwQ2xhc3M6IGN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwY2xhc3MnKSxcbiAgICAgICAgICBwb3NpdGlvbjogY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBvc2l0aW9uJykgfHwgdGhpcy5fb3B0aW9ucy50b29sdGlwUG9zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIF9hZGRIaW50cy5jYWxsKHRoaXMpO1xuXG4gICAgLyogXG4gICAgdG9kbzpcbiAgICB0aGVzZSBldmVudHMgc2hvdWxkIGJlIHJlbW92ZWQgYXQgc29tZSBwb2ludCBcbiAgICAqL1xuICAgIERPTUV2ZW50Lm9uKGRvY3VtZW50LCAnY2xpY2snLCBfcmVtb3ZlSGludFRvb2x0aXAsIHRoaXMsIGZhbHNlKTtcbiAgICBET01FdmVudC5vbih3aW5kb3csICdyZXNpemUnLCBfcmVBbGlnbkhpbnRzLCB0aGlzLCB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZS1hbGlnbnMgYWxsIGhpbnQgZWxlbWVudHNcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX3JlQWxpZ25IaW50c1xuICAgKi9cbiAgZnVuY3Rpb24gX3JlQWxpZ25IaW50cygpIHtcbiAgICBfZm9yRWFjaCh0aGlzLl9pbnRyb0l0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgaWYgKHR5cGVvZihpdGVtLnRhcmdldEVsZW1lbnQpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIF9hbGlnbkhpbnRQb3NpdGlvbi5jYWxsKHRoaXMsIGl0ZW0uaGludFBvc2l0aW9uLCBpdGVtLmVsZW1lbnQsIGl0ZW0udGFyZ2V0RWxlbWVudCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAqIEdldCBhIHF1ZXJ5c2VsZWN0b3Igd2l0aGluIHRoZSBoaW50IHdyYXBwZXJcbiAgKlxuICAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxuICAqIEByZXR1cm4ge05vZGVMaXN0fEFycmF5fVxuICAqL1xuICBmdW5jdGlvbiBfaGludFF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpIHtcbiAgICB2YXIgaGludHNXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvanMtaGludHMnKTtcbiAgICByZXR1cm4gKGhpbnRzV3JhcHBlcikgPyBoaW50c1dyYXBwZXIucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikgOiBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlIGEgaGludFxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfaGlkZUhpbnRcbiAgICovXG4gIGZ1bmN0aW9uIF9oaWRlSGludChzdGVwSWQpIHtcbiAgICB2YXIgaGludCA9IF9oaW50UXVlcnlTZWxlY3RvckFsbCgnLmludHJvanMtaGludFtkYXRhLXN0ZXA9XCInICsgc3RlcElkICsgJ1wiXScpWzBdO1xuICAgIFxuICAgIF9yZW1vdmVIaW50VG9vbHRpcC5jYWxsKHRoaXMpO1xuXG4gICAgaWYgKGhpbnQpIHtcbiAgICAgIF9hZGRDbGFzcyhoaW50LCAnaW50cm9qcy1oaWRlaGludCcpO1xuICAgIH1cblxuICAgIC8vIGNhbGwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIChpZiBhbnkpXG4gICAgaWYgKHR5cGVvZiAodGhpcy5faGludENsb3NlQ2FsbGJhY2spICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5faGludENsb3NlQ2FsbGJhY2suY2FsbCh0aGlzLCBzdGVwSWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlIGFsbCBoaW50c1xuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfaGlkZUhpbnRzXG4gICAqL1xuICBmdW5jdGlvbiBfaGlkZUhpbnRzKCkge1xuICAgIHZhciBoaW50cyA9IF9oaW50UXVlcnlTZWxlY3RvckFsbCgnLmludHJvanMtaGludCcpO1xuXG4gICAgX2ZvckVhY2goaGludHMsIGZ1bmN0aW9uIChoaW50KSB7XG4gICAgICBfaGlkZUhpbnQuY2FsbCh0aGlzLCBoaW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zdGVwJykpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBhbGwgaGludHNcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX3Nob3dIaW50c1xuICAgKi9cbiAgZnVuY3Rpb24gX3Nob3dIaW50cygpIHtcbiAgICB2YXIgaGludHMgPSBfaGludFF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnRyb2pzLWhpbnQnKTtcblxuICAgIGlmIChoaW50cyAmJiBoaW50cy5sZW5ndGgpIHtcbiAgICAgIF9mb3JFYWNoKGhpbnRzLCBmdW5jdGlvbiAoaGludCkge1xuICAgICAgICBfc2hvd0hpbnQuY2FsbCh0aGlzLCBoaW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zdGVwJykpO1xuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3BvcHVsYXRlSGludHMuY2FsbCh0aGlzLCB0aGlzLl90YXJnZXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBhIGhpbnRcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX3Nob3dIaW50XG4gICAqL1xuICBmdW5jdGlvbiBfc2hvd0hpbnQoc3RlcElkKSB7XG4gICAgdmFyIGhpbnQgPSBfaGludFF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnRyb2pzLWhpbnRbZGF0YS1zdGVwPVwiJyArIHN0ZXBJZCArICdcIl0nKVswXTtcblxuICAgIGlmIChoaW50KSB7XG4gICAgICBfcmVtb3ZlQ2xhc3MoaGludCwgL2ludHJvanMtaGlkZWhpbnQvZyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGhpbnQgZWxlbWVudHMgb24gdGhlIHBhZ2VcbiAgICogVXNlZnVsIHdoZW4geW91IHdhbnQgdG8gZGVzdHJveSB0aGUgZWxlbWVudHMgYW5kIGFkZCB0aGVtIGFnYWluIChlLmcuIGEgbW9kYWwgb3IgcG9wdXApXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9yZW1vdmVIaW50c1xuICAgKi9cbiAgZnVuY3Rpb24gX3JlbW92ZUhpbnRzKCkge1xuICAgIHZhciBoaW50cyA9IF9oaW50UXVlcnlTZWxlY3RvckFsbCgnLmludHJvanMtaGludCcpO1xuXG4gICAgX2ZvckVhY2goaGludHMsIGZ1bmN0aW9uIChoaW50KSB7XG4gICAgICBfcmVtb3ZlSGludC5jYWxsKHRoaXMsIGhpbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXN0ZXAnKSk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgb25lIHNpbmdsZSBoaW50IGVsZW1lbnQgZnJvbSB0aGUgcGFnZVxuICAgKiBVc2VmdWwgd2hlbiB5b3Ugd2FudCB0byBkZXN0cm95IHRoZSBlbGVtZW50IGFuZCBhZGQgdGhlbSBhZ2FpbiAoZS5nLiBhIG1vZGFsIG9yIHBvcHVwKVxuICAgKiBVc2UgcmVtb3ZlSGludHMgaWYgeW91IHdhbnQgdG8gcmVtb3ZlIGFsbCBlbGVtZW50cy5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX3JlbW92ZUhpbnRcbiAgICovXG4gIGZ1bmN0aW9uIF9yZW1vdmVIaW50KHN0ZXBJZCkge1xuICAgIHZhciBoaW50ID0gX2hpbnRRdWVyeVNlbGVjdG9yQWxsKCcuaW50cm9qcy1oaW50W2RhdGEtc3RlcD1cIicgKyBzdGVwSWQgKyAnXCJdJylbMF07XG5cbiAgICBpZiAoaGludCkge1xuICAgICAgaGludC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGhpbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYWxsIGF2YWlsYWJsZSBoaW50cyB0byB0aGUgcGFnZVxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfYWRkSGludHNcbiAgICovXG4gIGZ1bmN0aW9uIF9hZGRIaW50cygpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgaGludHNXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvanMtaGludHMnKTtcblxuICAgIGlmIChoaW50c1dyYXBwZXIgPT09IG51bGwpIHtcbiAgICAgIGhpbnRzV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaGludHNXcmFwcGVyLmNsYXNzTmFtZSA9ICdpbnRyb2pzLWhpbnRzJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgYW4gZXZlbnQgaGFuZGxlciB1bmlxdWUgdG8gdGhlIGhpbnQgaXRlcmF0aW9uXG4gICAgKiBcbiAgICAqIEBwYXJhbSB7SW50ZWdlcn0gaVxuICAgICogQHJldHVybiB7RnVuY3Rpb259XG4gICAgKi9cbiAgICB2YXIgZ2V0SGludENsaWNrID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBldnQgPSBlID8gZSA6IHdpbmRvdy5ldmVudDtcbiAgICAgICAgXG4gICAgICAgIGlmIChldnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2dC5jYW5jZWxCdWJibGUgIT09IG51bGwpIHtcbiAgICAgICAgICBldnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9zaG93SGludERpYWxvZy5jYWxsKHNlbGYsIGkpO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX2ZvckVhY2godGhpcy5faW50cm9JdGVtcywgZnVuY3Rpb24oaXRlbSwgaSkge1xuICAgICAgLy8gYXZvaWQgYXBwZW5kIGEgaGludCB0d2ljZVxuICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLWhpbnRbZGF0YS1zdGVwPVwiJyArIGkgKyAnXCJdJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGludCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIF9zZXRBbmNob3JBc0J1dHRvbihoaW50KTtcblxuICAgICAgaGludC5vbmNsaWNrID0gZ2V0SGludENsaWNrKGkpO1xuXG4gICAgICBoaW50LmNsYXNzTmFtZSA9ICdpbnRyb2pzLWhpbnQnO1xuXG4gICAgICBpZiAoIWl0ZW0uaGludEFuaW1hdGlvbikge1xuICAgICAgICBfYWRkQ2xhc3MoaGludCwgJ2ludHJvanMtaGludC1uby1hbmltJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGhpbnQncyBwb3NpdGlvbiBzaG91bGQgYmUgZml4ZWQgaWYgdGhlIHRhcmdldCBlbGVtZW50J3MgcG9zaXRpb24gaXMgZml4ZWRcbiAgICAgIGlmIChfaXNGaXhlZChpdGVtLmVsZW1lbnQpKSB7XG4gICAgICAgIF9hZGRDbGFzcyhoaW50LCAnaW50cm9qcy1maXhlZGhpbnQnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGhpbnREb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGhpbnREb3QuY2xhc3NOYW1lID0gJ2ludHJvanMtaGludC1kb3QnO1xuICAgICAgdmFyIGhpbnRQdWxzZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaGludFB1bHNlLmNsYXNzTmFtZSA9ICdpbnRyb2pzLWhpbnQtcHVsc2UnO1xuXG4gICAgICBoaW50LmFwcGVuZENoaWxkKGhpbnREb3QpO1xuICAgICAgaGludC5hcHBlbmRDaGlsZChoaW50UHVsc2UpO1xuICAgICAgaGludC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RlcCcsIGkpO1xuXG4gICAgICAvLyB3ZSBzd2FwIHRoZSBoaW50IGVsZW1lbnQgd2l0aCB0YXJnZXQgZWxlbWVudFxuICAgICAgLy8gYmVjYXVzZSBfc2V0SGVscGVyTGF5ZXJQb3NpdGlvbiB1c2VzIGBlbGVtZW50YCBwcm9wZXJ0eVxuICAgICAgaXRlbS50YXJnZXRFbGVtZW50ID0gaXRlbS5lbGVtZW50O1xuICAgICAgaXRlbS5lbGVtZW50ID0gaGludDtcblxuICAgICAgLy8gYWxpZ24gdGhlIGhpbnQgcG9zaXRpb25cbiAgICAgIF9hbGlnbkhpbnRQb3NpdGlvbi5jYWxsKHRoaXMsIGl0ZW0uaGludFBvc2l0aW9uLCBoaW50LCBpdGVtLnRhcmdldEVsZW1lbnQpO1xuXG4gICAgICBoaW50c1dyYXBwZXIuYXBwZW5kQ2hpbGQoaGludCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcblxuICAgIC8vIGFkZGluZyB0aGUgaGludHMgd3JhcHBlclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaGludHNXcmFwcGVyKTtcblxuICAgIC8vIGNhbGwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIChpZiBhbnkpXG4gICAgaWYgKHR5cGVvZiAodGhpcy5faGludHNBZGRlZENhbGxiYWNrKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuX2hpbnRzQWRkZWRDYWxsYmFjay5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBbGlnbnMgaGludCBwb3NpdGlvblxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfYWxpZ25IaW50UG9zaXRpb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IHBvc2l0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBoaW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gICAqL1xuICBmdW5jdGlvbiBfYWxpZ25IaW50UG9zaXRpb24ocG9zaXRpb24sIGhpbnQsIGVsZW1lbnQpIHtcbiAgICAvLyBnZXQvY2FsY3VsYXRlIG9mZnNldCBvZiB0YXJnZXQgZWxlbWVudFxuICAgIHZhciBvZmZzZXQgPSBfZ2V0T2Zmc2V0LmNhbGwodGhpcywgZWxlbWVudCk7XG4gICAgdmFyIGljb25XaWR0aCA9IDIwO1xuICAgIHZhciBpY29uSGVpZ2h0ID0gMjA7XG5cbiAgICAvLyBhbGlnbiB0aGUgaGludCBlbGVtZW50XG4gICAgc3dpdGNoIChwb3NpdGlvbikge1xuICAgICAgZGVmYXVsdDpcbiAgICAgIGNhc2UgJ3RvcC1sZWZ0JzpcbiAgICAgICAgaGludC5zdHlsZS5sZWZ0ID0gb2Zmc2V0LmxlZnQgKyAncHgnO1xuICAgICAgICBoaW50LnN0eWxlLnRvcCA9IG9mZnNldC50b3AgKyAncHgnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvcC1yaWdodCc6XG4gICAgICAgIGhpbnQuc3R5bGUubGVmdCA9IChvZmZzZXQubGVmdCArIG9mZnNldC53aWR0aCAtIGljb25XaWR0aCkgKyAncHgnO1xuICAgICAgICBoaW50LnN0eWxlLnRvcCA9IG9mZnNldC50b3AgKyAncHgnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2JvdHRvbS1sZWZ0JzpcbiAgICAgICAgaGludC5zdHlsZS5sZWZ0ID0gb2Zmc2V0LmxlZnQgKyAncHgnO1xuICAgICAgICBoaW50LnN0eWxlLnRvcCA9IChvZmZzZXQudG9wICsgb2Zmc2V0LmhlaWdodCAtIGljb25IZWlnaHQpICsgJ3B4JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdib3R0b20tcmlnaHQnOlxuICAgICAgICBoaW50LnN0eWxlLmxlZnQgPSAob2Zmc2V0LmxlZnQgKyBvZmZzZXQud2lkdGggLSBpY29uV2lkdGgpICsgJ3B4JztcbiAgICAgICAgaGludC5zdHlsZS50b3AgPSAob2Zmc2V0LnRvcCArIG9mZnNldC5oZWlnaHQgLSBpY29uSGVpZ2h0KSArICdweCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWlkZGxlLWxlZnQnOlxuICAgICAgICBoaW50LnN0eWxlLmxlZnQgPSBvZmZzZXQubGVmdCArICdweCc7XG4gICAgICAgIGhpbnQuc3R5bGUudG9wID0gKG9mZnNldC50b3AgKyAob2Zmc2V0LmhlaWdodCAtIGljb25IZWlnaHQpIC8gMikgKyAncHgnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21pZGRsZS1yaWdodCc6XG4gICAgICAgIGhpbnQuc3R5bGUubGVmdCA9IChvZmZzZXQubGVmdCArIG9mZnNldC53aWR0aCAtIGljb25XaWR0aCkgKyAncHgnO1xuICAgICAgICBoaW50LnN0eWxlLnRvcCA9IChvZmZzZXQudG9wICsgKG9mZnNldC5oZWlnaHQgLSBpY29uSGVpZ2h0KSAvIDIpICsgJ3B4JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtaWRkbGUtbWlkZGxlJzpcbiAgICAgICAgaGludC5zdHlsZS5sZWZ0ID0gKG9mZnNldC5sZWZ0ICsgKG9mZnNldC53aWR0aCAtIGljb25XaWR0aCkgLyAyKSArICdweCc7XG4gICAgICAgIGhpbnQuc3R5bGUudG9wID0gKG9mZnNldC50b3AgKyAob2Zmc2V0LmhlaWdodCAtIGljb25IZWlnaHQpIC8gMikgKyAncHgnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2JvdHRvbS1taWRkbGUnOlxuICAgICAgICBoaW50LnN0eWxlLmxlZnQgPSAob2Zmc2V0LmxlZnQgKyAob2Zmc2V0LndpZHRoIC0gaWNvbldpZHRoKSAvIDIpICsgJ3B4JztcbiAgICAgICAgaGludC5zdHlsZS50b3AgPSAob2Zmc2V0LnRvcCArIG9mZnNldC5oZWlnaHQgLSBpY29uSGVpZ2h0KSArICdweCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wLW1pZGRsZSc6XG4gICAgICAgIGhpbnQuc3R5bGUubGVmdCA9IChvZmZzZXQubGVmdCArIChvZmZzZXQud2lkdGggLSBpY29uV2lkdGgpIC8gMikgKyAncHgnO1xuICAgICAgICBoaW50LnN0eWxlLnRvcCA9IG9mZnNldC50b3AgKyAncHgnO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVHJpZ2dlcnMgd2hlbiB1c2VyIGNsaWNrcyBvbiB0aGUgaGludCBlbGVtZW50XG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9zaG93SGludERpYWxvZ1xuICAgKiBAcGFyYW0ge051bWJlcn0gc3RlcElkXG4gICAqL1xuICBmdW5jdGlvbiBfc2hvd0hpbnREaWFsb2coc3RlcElkKSB7XG4gICAgdmFyIGhpbnRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvanMtaGludFtkYXRhLXN0ZXA9XCInICsgc3RlcElkICsgJ1wiXScpO1xuICAgIHZhciBpdGVtID0gdGhpcy5faW50cm9JdGVtc1tzdGVwSWRdO1xuXG4gICAgLy8gY2FsbCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gKGlmIGFueSlcbiAgICBpZiAodHlwZW9mICh0aGlzLl9oaW50Q2xpY2tDYWxsYmFjaykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLl9oaW50Q2xpY2tDYWxsYmFjay5jYWxsKHRoaXMsIGhpbnRFbGVtZW50LCBpdGVtLCBzdGVwSWQpO1xuICAgIH1cblxuICAgIC8vIHJlbW92ZSBhbGwgb3BlbiB0b29sdGlwc1xuICAgIHZhciByZW1vdmVkU3RlcCA9IF9yZW1vdmVIaW50VG9vbHRpcC5jYWxsKHRoaXMpO1xuXG4gICAgLy8gdG8gdG9nZ2xlIHRoZSB0b29sdGlwXG4gICAgaWYgKHBhcnNlSW50KHJlbW92ZWRTdGVwLCAxMCkgPT09IHN0ZXBJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0b29sdGlwTGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgdG9vbHRpcFRleHRMYXllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciBhcnJvd0xheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHJlZmVyZW5jZUxheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICB0b29sdGlwTGF5ZXIuY2xhc3NOYW1lID0gJ2ludHJvanMtdG9vbHRpcCc7XG5cbiAgICB0b29sdGlwTGF5ZXIub25jbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAvL0lFOSAmIE90aGVyIEJyb3dzZXJzXG4gICAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIC8vSUU4IGFuZCBMb3dlclxuICAgICAgZWxzZSB7XG4gICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdG9vbHRpcFRleHRMYXllci5jbGFzc05hbWUgPSAnaW50cm9qcy10b29sdGlwdGV4dCc7XG5cbiAgICB2YXIgdG9vbHRpcFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgdG9vbHRpcFdyYXBwZXIuaW5uZXJIVE1MID0gaXRlbS5oaW50O1xuXG4gICAgdmFyIGNsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGNsb3NlQnV0dG9uLmNsYXNzTmFtZSA9IHRoaXMuX29wdGlvbnMuYnV0dG9uQ2xhc3M7XG4gICAgY2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgIGNsb3NlQnV0dG9uLmlubmVySFRNTCA9IHRoaXMuX29wdGlvbnMuaGludEJ1dHRvbkxhYmVsO1xuICAgIGNsb3NlQnV0dG9uLm9uY2xpY2sgPSBfaGlkZUhpbnQuYmluZCh0aGlzLCBzdGVwSWQpO1xuXG4gICAgdG9vbHRpcFRleHRMYXllci5hcHBlbmRDaGlsZCh0b29sdGlwV3JhcHBlcik7XG4gICAgdG9vbHRpcFRleHRMYXllci5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbik7XG5cbiAgICBhcnJvd0xheWVyLmNsYXNzTmFtZSA9ICdpbnRyb2pzLWFycm93JztcbiAgICB0b29sdGlwTGF5ZXIuYXBwZW5kQ2hpbGQoYXJyb3dMYXllcik7XG5cbiAgICB0b29sdGlwTGF5ZXIuYXBwZW5kQ2hpbGQodG9vbHRpcFRleHRMYXllcik7XG5cbiAgICAvLyBzZXQgY3VycmVudCBzdGVwIGZvciBfcGxhY2VUb29sdGlwIGZ1bmN0aW9uXG4gICAgdGhpcy5fY3VycmVudFN0ZXAgPSBoaW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RlcCcpO1xuXG4gICAgLy8gYWxpZ24gcmVmZXJlbmNlIGxheWVyIHBvc2l0aW9uXG4gICAgcmVmZXJlbmNlTGF5ZXIuY2xhc3NOYW1lID0gJ2ludHJvanMtdG9vbHRpcFJlZmVyZW5jZUxheWVyIGludHJvanMtaGludFJlZmVyZW5jZSc7XG4gICAgcmVmZXJlbmNlTGF5ZXIuc2V0QXR0cmlidXRlKCdkYXRhLXN0ZXAnLCBoaW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RlcCcpKTtcbiAgICBfc2V0SGVscGVyTGF5ZXJQb3NpdGlvbi5jYWxsKHRoaXMsIHJlZmVyZW5jZUxheWVyKTtcblxuICAgIHJlZmVyZW5jZUxheWVyLmFwcGVuZENoaWxkKHRvb2x0aXBMYXllcik7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZWZlcmVuY2VMYXllcik7XG5cbiAgICAvL3NldCBwcm9wZXIgcG9zaXRpb25cbiAgICBfcGxhY2VUb29sdGlwLmNhbGwodGhpcywgaGludEVsZW1lbnQsIHRvb2x0aXBMYXllciwgYXJyb3dMYXllciwgbnVsbCwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFuIGVsZW1lbnQgcG9zaXRpb24gb24gdGhlIHBhZ2VcbiAgICogVGhhbmtzIHRvIGBtZW91d2A6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ0MjQ3NC8zNzU5NjZcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX2dldE9mZnNldFxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxuICAgKiBAcmV0dXJucyBFbGVtZW50J3MgcG9zaXRpb24gaW5mb1xuICAgKi9cbiAgZnVuY3Rpb24gX2dldE9mZnNldChlbGVtZW50KSB7XG4gICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgIHZhciBkb2NFbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICB2YXIgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY0VsLnNjcm9sbFRvcCB8fCBib2R5LnNjcm9sbFRvcDtcbiAgICB2YXIgc2Nyb2xsTGVmdCA9IHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2NFbC5zY3JvbGxMZWZ0IHx8IGJvZHkuc2Nyb2xsTGVmdDtcbiAgICB2YXIgeCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogeC50b3AgKyBzY3JvbGxUb3AsXG4gICAgICB3aWR0aDogeC53aWR0aCxcbiAgICAgIGhlaWdodDogeC5oZWlnaHQsXG4gICAgICBsZWZ0OiB4LmxlZnQgKyBzY3JvbGxMZWZ0XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAqIEZpbmQgdGhlIG5lYXJlc3Qgc2Nyb2xsYWJsZSBwYXJlbnRcbiAgKiBjb3BpZWQgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNTkzOTg4Ni9maW5kLWZpcnN0LXNjcm9sbGFibGUtcGFyZW50XG4gICpcbiAgKiBAcGFyYW0gRWxlbWVudCBlbGVtZW50XG4gICogQHJldHVybiBFbGVtZW50XG4gICovXG4gIGZ1bmN0aW9uIF9nZXRTY3JvbGxQYXJlbnQoZWxlbWVudCkge1xuICAgIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIHZhciBleGNsdWRlU3RhdGljUGFyZW50ID0gKHN0eWxlLnBvc2l0aW9uID09PSBcImFic29sdXRlXCIpO1xuICAgIHZhciBvdmVyZmxvd1JlZ2V4ID0gLyhhdXRvfHNjcm9sbCkvO1xuXG4gICAgaWYgKHN0eWxlLnBvc2l0aW9uID09PSBcImZpeGVkXCIpIHJldHVybiBkb2N1bWVudC5ib2R5O1xuICAgIFxuICAgIGZvciAodmFyIHBhcmVudCA9IGVsZW1lbnQ7IChwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudCk7KSB7XG4gICAgICBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudCk7XG4gICAgICBpZiAoZXhjbHVkZVN0YXRpY1BhcmVudCAmJiBzdHlsZS5wb3NpdGlvbiA9PT0gXCJzdGF0aWNcIikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChvdmVyZmxvd1JlZ2V4LnRlc3Qoc3R5bGUub3ZlcmZsb3cgKyBzdHlsZS5vdmVyZmxvd1kgKyBzdHlsZS5vdmVyZmxvd1gpKSByZXR1cm4gcGFyZW50O1xuICAgIH1cblxuICAgIHJldHVybiBkb2N1bWVudC5ib2R5O1xuICB9XG5cbiAgLyoqXG4gICogc2Nyb2xsIGEgc2Nyb2xsYWJsZSBlbGVtZW50IHRvIGEgY2hpbGQgZWxlbWVudFxuICAqXG4gICogQHBhcmFtIEVsZW1lbnQgcGFyZW50XG4gICogQHBhcmFtIEVsZW1lbnQgZWxlbWVudFxuICAqIEByZXR1cm4gTnVsbFxuICAqL1xuICBmdW5jdGlvbiBfc2Nyb2xsUGFyZW50VG9FbGVtZW50IChwYXJlbnQsIGVsZW1lbnQpIHtcbiAgICBwYXJlbnQuc2Nyb2xsVG9wID0gZWxlbWVudC5vZmZzZXRUb3AgLSBwYXJlbnQub2Zmc2V0VG9wO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgcHJvZ3Jlc3MgcGVyY2VudGFnZVxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfZ2V0UHJvZ3Jlc3NcbiAgICogQHJldHVybnMgY3VycmVudCBwcm9ncmVzcyBwZXJjZW50YWdlXG4gICAqL1xuICBmdW5jdGlvbiBfZ2V0UHJvZ3Jlc3MoKSB7XG4gICAgLy8gU3RlcHMgYXJlIDAgaW5kZXhlZFxuICAgIHZhciBjdXJyZW50U3RlcCA9IHBhcnNlSW50KCh0aGlzLl9jdXJyZW50U3RlcCArIDEpLCAxMCk7XG4gICAgcmV0dXJuICgoY3VycmVudFN0ZXAgLyB0aGlzLl9pbnRyb0l0ZW1zLmxlbmd0aCkgKiAxMDApO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJ3cml0ZXMgb2JqMSdzIHZhbHVlcyB3aXRoIG9iajIncyBhbmQgYWRkcyBvYmoyJ3MgaWYgbm9uIGV4aXN0ZW50IGluIG9iajFcbiAgICogdmlhOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE3MTI1MS9ob3ctY2FuLWktbWVyZ2UtcHJvcGVydGllcy1vZi10d28tamF2YXNjcmlwdC1vYmplY3RzLWR5bmFtaWNhbGx5XG4gICAqXG4gICAqIEBwYXJhbSBvYmoxXG4gICAqIEBwYXJhbSBvYmoyXG4gICAqIEByZXR1cm5zIG9iajMgYSBuZXcgb2JqZWN0IGJhc2VkIG9uIG9iajEgYW5kIG9iajJcbiAgICovXG4gIGZ1bmN0aW9uIF9tZXJnZU9wdGlvbnMob2JqMSxvYmoyKSB7XG4gICAgdmFyIG9iajMgPSB7fSxcbiAgICAgIGF0dHJuYW1lO1xuICAgIGZvciAoYXR0cm5hbWUgaW4gb2JqMSkgeyBvYmozW2F0dHJuYW1lXSA9IG9iajFbYXR0cm5hbWVdOyB9XG4gICAgZm9yIChhdHRybmFtZSBpbiBvYmoyKSB7IG9iajNbYXR0cm5hbWVdID0gb2JqMlthdHRybmFtZV07IH1cbiAgICByZXR1cm4gb2JqMztcbiAgfVxuXG4gIHZhciBpbnRyb0pzID0gZnVuY3Rpb24gKHRhcmdldEVsbSkge1xuICAgIHZhciBpbnN0YW5jZTtcblxuICAgIGlmICh0eXBlb2YgKHRhcmdldEVsbSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAvL09rLCBjcmVhdGUgYSBuZXcgaW5zdGFuY2VcbiAgICAgIGluc3RhbmNlID0gbmV3IEludHJvSnModGFyZ2V0RWxtKTtcblxuICAgIH0gZWxzZSBpZiAodHlwZW9mICh0YXJnZXRFbG0pID09PSAnc3RyaW5nJykge1xuICAgICAgLy9zZWxlY3QgdGhlIHRhcmdldCBlbGVtZW50IHdpdGggcXVlcnkgc2VsZWN0b3JcbiAgICAgIHZhciB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRFbG0pO1xuXG4gICAgICBpZiAodGFyZ2V0RWxlbWVudCkge1xuICAgICAgICBpbnN0YW5jZSA9IG5ldyBJbnRyb0pzKHRhcmdldEVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyBlbGVtZW50IHdpdGggZ2l2ZW4gc2VsZWN0b3IuJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlID0gbmV3IEludHJvSnMoZG9jdW1lbnQuYm9keSk7XG4gICAgfVxuICAgIC8vIGFkZCBpbnN0YW5jZSB0byBsaXN0IG9mIF9pbnN0YW5jZXNcbiAgICAvLyBwYXNzaW5nIGdyb3VwIHRvIF9zdGFtcCB0byBpbmNyZW1lbnRcbiAgICAvLyBmcm9tIDAgb253YXJkIHNvbWV3aGF0IHJlbGlhYmx5XG4gICAgaW50cm9Kcy5pbnN0YW5jZXNbIF9zdGFtcChpbnN0YW5jZSwgJ2ludHJvanMtaW5zdGFuY2UnKSBdID0gaW5zdGFuY2U7XG5cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgSW50cm9KcyB2ZXJzaW9uXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB2ZXJzaW9uXG4gICAqIEB0eXBlIFN0cmluZ1xuICAgKi9cbiAgaW50cm9Kcy52ZXJzaW9uID0gVkVSU0lPTjtcblxuICAvKipcbiAgKiBrZXktdmFsIG9iamVjdCBoZWxwZXIgZm9yIGludHJvSnMgaW5zdGFuY2VzXG4gICpcbiAgKiBAcHJvcGVydHkgaW5zdGFuY2VzXG4gICogQHR5cGUgT2JqZWN0XG4gICovXG4gIGludHJvSnMuaW5zdGFuY2VzID0ge307XG5cbiAgLy9Qcm90b3R5cGVcbiAgaW50cm9Kcy5mbiA9IEludHJvSnMucHJvdG90eXBlID0ge1xuICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IEludHJvSnModGhpcyk7XG4gICAgfSxcbiAgICBzZXRPcHRpb246IGZ1bmN0aW9uKG9wdGlvbiwgdmFsdWUpIHtcbiAgICAgIHRoaXMuX29wdGlvbnNbb3B0aW9uXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBzZXRPcHRpb25zOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB0aGlzLl9vcHRpb25zID0gX21lcmdlT3B0aW9ucyh0aGlzLl9vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgc3RhcnQ6IGZ1bmN0aW9uIChncm91cCkge1xuICAgICAgX2ludHJvRm9yRWxlbWVudC5jYWxsKHRoaXMsIHRoaXMuX3RhcmdldEVsZW1lbnQsIGdyb3VwKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgZ29Ub1N0ZXA6IGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgIF9nb1RvU3RlcC5jYWxsKHRoaXMsIHN0ZXApO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBhZGRTdGVwOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAoIXRoaXMuX29wdGlvbnMuc3RlcHMpIHtcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5zdGVwcyA9IFtdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9vcHRpb25zLnN0ZXBzLnB1c2gob3B0aW9ucyk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgYWRkU3RlcHM6IGZ1bmN0aW9uKHN0ZXBzKSB7XG4gICAgICBpZiAoIXN0ZXBzLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgICBmb3IodmFyIGluZGV4ID0gMDsgaW5kZXggPCBzdGVwcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdGhpcy5hZGRTdGVwKHN0ZXBzW2luZGV4XSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgZ29Ub1N0ZXBOdW1iZXI6IGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgIF9nb1RvU3RlcE51bWJlci5jYWxsKHRoaXMsIHN0ZXApO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIG5leHRTdGVwOiBmdW5jdGlvbigpIHtcbiAgICAgIF9uZXh0U3RlcC5jYWxsKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBwcmV2aW91c1N0ZXA6IGZ1bmN0aW9uKCkge1xuICAgICAgX3ByZXZpb3VzU3RlcC5jYWxsKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBleGl0OiBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgX2V4aXRJbnRyby5jYWxsKHRoaXMsIHRoaXMuX3RhcmdldEVsZW1lbnQsIGZvcmNlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgcmVmcmVzaDogZnVuY3Rpb24oKSB7XG4gICAgICBfcmVmcmVzaC5jYWxsKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBvbmJlZm9yZWNoYW5nZTogZnVuY3Rpb24ocHJvdmlkZWRDYWxsYmFjaykge1xuICAgICAgaWYgKHR5cGVvZiAocHJvdmlkZWRDYWxsYmFjaykgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5faW50cm9CZWZvcmVDaGFuZ2VDYWxsYmFjayA9IHByb3ZpZGVkQ2FsbGJhY2s7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb3ZpZGVkIGNhbGxiYWNrIGZvciBvbmJlZm9yZWNoYW5nZSB3YXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgb25jaGFuZ2U6IGZ1bmN0aW9uKHByb3ZpZGVkQ2FsbGJhY2spIHtcbiAgICAgIGlmICh0eXBlb2YgKHByb3ZpZGVkQ2FsbGJhY2spID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX2ludHJvQ2hhbmdlQ2FsbGJhY2sgPSBwcm92aWRlZENhbGxiYWNrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm92aWRlZCBjYWxsYmFjayBmb3Igb25jaGFuZ2Ugd2FzIG5vdCBhIGZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBvbmFmdGVyY2hhbmdlOiBmdW5jdGlvbihwcm92aWRlZENhbGxiYWNrKSB7XG4gICAgICBpZiAodHlwZW9mIChwcm92aWRlZENhbGxiYWNrKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9pbnRyb0FmdGVyQ2hhbmdlQ2FsbGJhY2sgPSBwcm92aWRlZENhbGxiYWNrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm92aWRlZCBjYWxsYmFjayBmb3Igb25hZnRlcmNoYW5nZSB3YXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgb25jb21wbGV0ZTogZnVuY3Rpb24ocHJvdmlkZWRDYWxsYmFjaykge1xuICAgICAgaWYgKHR5cGVvZiAocHJvdmlkZWRDYWxsYmFjaykgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5faW50cm9Db21wbGV0ZUNhbGxiYWNrID0gcHJvdmlkZWRDYWxsYmFjaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvdmlkZWQgY2FsbGJhY2sgZm9yIG9uY29tcGxldGUgd2FzIG5vdCBhIGZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBvbmhpbnRzYWRkZWQ6IGZ1bmN0aW9uKHByb3ZpZGVkQ2FsbGJhY2spIHtcbiAgICAgIGlmICh0eXBlb2YgKHByb3ZpZGVkQ2FsbGJhY2spID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX2hpbnRzQWRkZWRDYWxsYmFjayA9IHByb3ZpZGVkQ2FsbGJhY2s7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb3ZpZGVkIGNhbGxiYWNrIGZvciBvbmhpbnRzYWRkZWQgd2FzIG5vdCBhIGZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBvbmhpbnRjbGljazogZnVuY3Rpb24ocHJvdmlkZWRDYWxsYmFjaykge1xuICAgICAgaWYgKHR5cGVvZiAocHJvdmlkZWRDYWxsYmFjaykgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5faGludENsaWNrQ2FsbGJhY2sgPSBwcm92aWRlZENhbGxiYWNrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm92aWRlZCBjYWxsYmFjayBmb3Igb25oaW50Y2xpY2sgd2FzIG5vdCBhIGZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBvbmhpbnRjbG9zZTogZnVuY3Rpb24ocHJvdmlkZWRDYWxsYmFjaykge1xuICAgICAgaWYgKHR5cGVvZiAocHJvdmlkZWRDYWxsYmFjaykgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5faGludENsb3NlQ2FsbGJhY2sgPSBwcm92aWRlZENhbGxiYWNrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm92aWRlZCBjYWxsYmFjayBmb3Igb25oaW50Y2xvc2Ugd2FzIG5vdCBhIGZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBvbmV4aXQ6IGZ1bmN0aW9uKHByb3ZpZGVkQ2FsbGJhY2spIHtcbiAgICAgIGlmICh0eXBlb2YgKHByb3ZpZGVkQ2FsbGJhY2spID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX2ludHJvRXhpdENhbGxiYWNrID0gcHJvdmlkZWRDYWxsYmFjaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvdmlkZWQgY2FsbGJhY2sgZm9yIG9uZXhpdCB3YXMgbm90IGEgZnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIG9uc2tpcDogZnVuY3Rpb24ocHJvdmlkZWRDYWxsYmFjaykge1xuICAgICAgaWYgKHR5cGVvZiAocHJvdmlkZWRDYWxsYmFjaykgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5faW50cm9Ta2lwQ2FsbGJhY2sgPSBwcm92aWRlZENhbGxiYWNrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm92aWRlZCBjYWxsYmFjayBmb3Igb25za2lwIHdhcyBub3QgYSBmdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgb25iZWZvcmVleGl0OiBmdW5jdGlvbihwcm92aWRlZENhbGxiYWNrKSB7XG4gICAgICBpZiAodHlwZW9mIChwcm92aWRlZENhbGxiYWNrKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9pbnRyb0JlZm9yZUV4aXRDYWxsYmFjayA9IHByb3ZpZGVkQ2FsbGJhY2s7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb3ZpZGVkIGNhbGxiYWNrIGZvciBvbmJlZm9yZWV4aXQgd2FzIG5vdCBhIGZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBhZGRIaW50czogZnVuY3Rpb24oKSB7XG4gICAgICBfcG9wdWxhdGVIaW50cy5jYWxsKHRoaXMsIHRoaXMuX3RhcmdldEVsZW1lbnQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBoaWRlSGludDogZnVuY3Rpb24gKHN0ZXBJZCkge1xuICAgICAgX2hpZGVIaW50LmNhbGwodGhpcywgc3RlcElkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgaGlkZUhpbnRzOiBmdW5jdGlvbiAoKSB7XG4gICAgICBfaGlkZUhpbnRzLmNhbGwodGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHNob3dIaW50OiBmdW5jdGlvbiAoc3RlcElkKSB7XG4gICAgICBfc2hvd0hpbnQuY2FsbCh0aGlzLCBzdGVwSWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBzaG93SGludHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIF9zaG93SGludHMuY2FsbCh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgcmVtb3ZlSGludHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIF9yZW1vdmVIaW50cy5jYWxsKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICByZW1vdmVIaW50OiBmdW5jdGlvbiAoc3RlcElkKSB7XG4gICAgICBfcmVtb3ZlSGludC5jYWxsKHRoaXMsIHN0ZXBJZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHNob3dIaW50RGlhbG9nOiBmdW5jdGlvbiAoc3RlcElkKSB7XG4gICAgICBfc2hvd0hpbnREaWFsb2cuY2FsbCh0aGlzLCBzdGVwSWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBpbnRyb0pzO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9