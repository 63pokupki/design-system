!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=23)}([,,function(t,e,n){"use strict";var i,o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function l(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},i=[],o=0;o<t.length;o++){var r=t[o],a=e.base?r[0]+e.base:r[0],c=n[a]||0,u="".concat(a," ").concat(c);n[a]=c+1;var h=l(u),d={css:r[1],media:r[2],sourceMap:r[3]};-1!==h?(s[h].references++,s[h].updater(d)):s.push({identifier:u,updater:b(d,e),references:1}),i.push(u)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var u,h=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function d(t,e,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=h(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function p(t,e,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),r&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var f=null,m=0;function b(t,e){var n,i,o;if(e.singleton){var r=m++;n=f||(f=c(e)),i=d.bind(null,n,r,!1),o=d.bind(null,n,r,!0)}else n=c(e),i=p.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var o=l(n[i]);s[o].references--}for(var r=a(t,e),c=0;c<n.length;c++){var u=l(n[c]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=r}}}},,function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},,,,,,,,,,,,,,,,,,,function(t,e,n){n(24),n(26),t.exports=n(28)},function(t,e,n){var i=n(2),o=n(25);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1},s=(i(o,r),o.locals?o.locals:{});t.exports=s},function(t,e,n){},function(t,e,n){var i=n(2),o=n(27);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1},s=(i(o,r),o.locals?o.locals:{});t.exports=s},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i=n(4),o=n.n(i);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=n(29),a={tooltipClass:"onboarding-base-steps",skipLabel:"Пропустить",doneLabel:"Закончить",prevLabel:"Назад",nextLabel:"Далее",hidePrev:!0,hideNext:!0,showProgress:!0,showBullets:!1,showStepNumbers:!1,scrollTo:"tooltip",disableInteraction:!0,exitOnOverlayClick:!1};window.addEventListener("DOMContentLoaded",(function(){try{if(!window.steps)throw new Error("Шаги отсутствуют");var t=l(),e=function(t){try{return document.documentElement.clientWidth<=t?window.steps.touch():window.steps.desctop()}catch(t){console.error(t)}}(768);(t=function(t,e,n){try{return t.setOptions(s({},e,{steps:n})),t.onbeforechange((function(){var i=n[t._currentStep];t.setOptions(s({},e,{nextLabel:i.nextLabel||e.nextLabel,prevLabel:i.prevLabel||e.prevLabel,doneLabel:i.doneLabel||e.doneLabel,skipLabel:i.skipLabel||e.skipLabel,tooltipClass:i.tooltipClass||e.tooltipClass})),i.beforeStep&&(i.beforeStep(),t.refresh())})),t}catch(t){console.error(t)}}(t,a,e)).start(),function(t){try{var e=document.querySelector(".introjs-tooltip"),n=document.createElement("i");n.className="ds-icon icon-close";var i=document.createElement("button");i.append(n),i.className="introjs-tooltip__close",i.addEventListener("click",(function(){return t.exit(!0)})),e&&e.append(i)}catch(t){console.error(t)}}(t),setTimeout((function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{var n={top:t,left:e,behavior:"smooth"};window.scrollTo(n)}catch(n){window.scrollTo(t,e)}}()}),500)}catch(t){console.error(t)}}))},function(t,e,n){var i;i=function(){function t(t){this._targetElement=t,this._introItems=[],this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",hidePrev:!1,hideNext:!1,tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.8,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:!0,buttonClass:"introjs-button",media:[{active:!0,point:768,positions:{"top-middle-aligned":"top-middle-aligned","top-right-aligned":"top-right-aligned","top-left-aligned":"top-left-aligned","bottom-middle-aligned":"top-middle-aligned","bottom-right-aligned":"top-right-aligned","bottom-left-aligned":"top-left-aligned",top:"top",left:"left",right:"right",bottom:"top",floating:"floating"}}]}}function e(t,e){var r=document.querySelector("body");r&&r.classList.add("disable-overflow-x");var s=t.querySelectorAll("*[data-intro]"),a=[];if(this._options.steps)C(this._options.steps,function(t){var e=o(t);if(e.step=a.length+1,"string"==typeof e.element&&(e.element=document.querySelector(e.element)),void 0===e.element||null===e.element){var n=document.querySelector(".introjsFloatingElement");null===n&&((n=document.createElement("div")).className="introjsFloatingElement",document.body.appendChild(n)),e.element=n,e.position="floating"}e.scrollTo=e.scrollTo||this._options.scrollTo,void 0===e.disableInteraction&&(e.disableInteraction=this._options.disableInteraction),null!==e.element&&a.push(e)}.bind(this));else{var c;if(s.length<1)return!1;C(s,function(t){if((!e||t.getAttribute("data-intro-group")===e)&&"none"!==t.style.display){var n=parseInt(t.getAttribute("data-step"),10);c=void 0!==t.getAttribute("data-disable-interaction")?!!t.getAttribute("data-disable-interaction"):this._options.disableInteraction,n>0&&(a[n-1]={element:t,intro:t.getAttribute("data-intro"),step:parseInt(t.getAttribute("data-step"),10),tooltipClass:t.getAttribute("data-tooltipclass"),highlightClass:t.getAttribute("data-highlightclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:t.getAttribute("data-scrollto")||this._options.scrollTo,disableInteraction:c})}}.bind(this));var u=0;C(s,function(t){if((!e||t.getAttribute("data-intro-group")===e)&&null===t.getAttribute("data-step")){for(;void 0!==a[u];)u++;c=void 0!==t.getAttribute("data-disable-interaction")?!!t.getAttribute("data-disable-interaction"):this._options.disableInteraction,a[u]={element:t,intro:t.getAttribute("data-intro"),step:u+1,tooltipClass:t.getAttribute("data-tooltipclass"),highlightClass:t.getAttribute("data-highlightclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:t.getAttribute("data-scrollto")||this._options.scrollTo,disableInteraction:c}}}.bind(this))}for(var h=[],d=0;d<a.length;d++)a[d]&&h.push(a[d]);return(a=h).sort((function(t,e){return t.step-e.step})),this._introItems=a,T.call(this,t)&&(l.call(this),this._options.keyboardNavigation&&S.on(window,"keydown",i,this,!0),S.on(window,"resize",n,this,!0)),!1}function n(){this.refresh.call(this)}function i(t){var e=null===t.code?t.which:t.code;if(null===e&&(e=null===t.charCode?t.keyCode:t.charCode),"Escape"!==e&&27!==e||!0!==this._options.exitOnEsc){if("ArrowLeft"===e||37===e)a.call(this);else if("ArrowRight"===e||39===e)l.call(this);else if("Enter"===e||13===e){var n=t.target||t.srcElement;n&&n.className.match("introjs-prevbutton")?a.call(this):n&&n.className.match("introjs-skipbutton")?(this._introItems.length-1===this._currentStep&&"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),u.call(this,this._targetElement)):n&&n.getAttribute("data-stepnumber")?n.click():l.call(this),t.preventDefault?t.preventDefault():t.returnValue=!1}}else u.call(this,this._targetElement)}function o(t){if(null===t||"object"!=typeof t||void 0!==t.nodeType)return t;var e={};for(var n in t)void 0!==window.jQuery&&t[n]instanceof window.jQuery?e[n]=t[n]:e[n]=o(t[n]);return e}function r(t){this._currentStep=t-2,void 0!==this._introItems&&l.call(this)}function s(t){this._currentStepNumber=t,void 0!==this._introItems&&l.call(this)}function l(){this._direction="forward",void 0!==this._currentStepNumber&&C(this._introItems,function(t,e){t.step===this._currentStepNumber&&(this._currentStep=e-1,this._currentStepNumber=void 0)}.bind(this)),void 0===this._currentStep?this._currentStep=0:++this._currentStep;var t=this._introItems[this._currentStep],e=!0;return void 0!==this._introBeforeChangeCallback&&(e=this._introBeforeChangeCallback.call(this,t.element)),!1===e?(--this._currentStep,!1):this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),void u.call(this,this._targetElement)):void y.call(this,t)}function a(){if(this._direction="backward",0===this._currentStep)return!1;--this._currentStep;var t=this._introItems[this._currentStep],e=!0;if(void 0!==this._introBeforeChangeCallback&&(e=this._introBeforeChangeCallback.call(this,t.element)),!1===e)return++this._currentStep,!1;y.call(this,t)}function c(){if(b.call(this,document.querySelector(".introjs-helperLayer")),b.call(this,document.querySelector(".introjs-tooltipReferenceLayer")),b.call(this,document.querySelector(".introjs-disableInteraction")),void 0!==this._currentStep&&null!==this._currentStep){var t=document.querySelector(".introjs-helperNumberLayer"),e=document.querySelector(".introjs-arrow"),n=document.querySelector(".introjs-tooltip");h.call(this,this._introItems[this._currentStep].element,n,e,t)}return O.call(this),this}function u(t,e){var o=!0;if(void 0!==this._introBeforeExitCallback&&(o=this._introBeforeExitCallback.call(this)),e||!1!==o){var r=t.querySelectorAll(".introjs-overlay");r&&r.length&&C(r,function(t){t.style.opacity=0,window.setTimeout(function(){this.parentNode&&this.parentNode.removeChild(this)}.bind(t),500)}.bind(this));var s=t.querySelector(".introjs-helperLayer");s&&s.parentNode.removeChild(s);var l=t.querySelector(".introjs-tooltipReferenceLayer");l&&l.parentNode.removeChild(l);var a=t.querySelector(".introjs-disableInteraction");a&&a.parentNode.removeChild(a);var c=document.querySelector(".introjsFloatingElement");c&&c.parentNode.removeChild(c),_(),C(document.querySelectorAll(".introjs-fixParent"),(function(t){E(t,/introjs-fixParent/g)})),S.off(window,"keydown",i,this,!0),S.off(window,"resize",n,this,!0),void 0!==this._introExitCallback&&this._introExitCallback.call(this),this._currentStep=void 0;var u=document.querySelector("body");u&&u.classList.remove("disable-overflow-x")}}function h(t,e,n,i,o){var r,s,l,a,c,u="";if(o=o||!1,e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,e.style.marginLeft=null,e.style.marginTop=null,n.style.display="inherit",null!=i&&(i.style.top=null,i.style.left=null),this._introItems[this._currentStep]){u="string"==typeof(r=this._introItems[this._currentStep]).tooltipClass?r.tooltipClass:this._options.tooltipClass,e.className=("introjs-tooltip "+u).replace(/^\s+|\s+$/g,""),e.setAttribute("role","dialog"),"floating"!==(c=this._introItems[this._currentStep].position)&&(c=f.call(this,t,e,c));var h=document.documentElement.clientWidth,m=this._options.media.filter((function(t){return t.active&&h<=t.point})).sort((function(t,e){return e.point-t.point}));switch(m.length>0&&(c=(m=m[m.length-1]).positions[c]),l=G(t),s=G(e),a=A(),k(e,"introjs-"+c),c){case"top-right-aligned":n.className="introjs-arrow bottom-right";var b=0;p(l,b,s,e),e.style.bottom=l.height+20+"px";break;case"top-middle-aligned":n.className="introjs-arrow bottom-middle";var g=l.width/2-s.width/2;o&&(g+=5),p(l,g,s,e)&&(e.style.right=null,d(l,g,s,a,e)),e.style.bottom=l.height+20+"px";break;case"top-left-aligned":case"top":n.className="introjs-arrow bottom",d(l,o?0:15,s,a,e),e.style.bottom=l.height+20+"px";break;case"right":e.style.left=l.width+20+"px",l.top+s.height>a.height?(n.className="introjs-arrow left-bottom",e.style.top="-"+(s.height-l.height-20)+"px"):n.className="introjs-arrow left";break;case"left":o||!0!==this._options.showStepNumbers||(e.style.top="15px"),l.top+s.height>a.height?(e.style.top="-"+(s.height-l.height-20)+"px",n.className="introjs-arrow right-bottom"):n.className="introjs-arrow right",e.style.right=l.width+20+"px";break;case"floating":n.style.display="none",e.style.left="50%",e.style.top="50%",e.style.marginLeft="-"+s.width/2+"px",e.style.marginTop="-"+s.height/2+"px",null!=i&&(i.style.left="-"+(s.width/2+18)+"px",i.style.top="-"+(s.height/2+18)+"px");break;case"bottom-right-aligned":n.className="introjs-arrow top-right",p(l,b=0,s,e),e.style.top=l.height+20+"px";break;case"bottom-middle-aligned":n.className="introjs-arrow top-middle",g=l.width/2-s.width/2,o&&(g+=5),p(l,g,s,e)&&(e.style.right=null,d(l,g,s,a,e)),e.style.top=l.height+20+"px";break;default:n.className="introjs-arrow top",d(l,0,s,a,e),e.style.top=l.height+20+"px"}}}function d(t,e,n,i,o){return t.left+e+n.width>i.width?(o.style.left=i.width-n.width-t.left+"px",!1):(o.style.left=e+"px",!0)}function p(t,e,n,i){return t.left+t.width-e-n.width<0?(i.style.left=-t.left+"px",!1):(i.style.right=e+"px",!0)}function f(t,e,n){var i=this._options.positionPrecedence.slice(),o=A(),r=G(e).height+10,s=G(e).width+20,l=t.getBoundingClientRect(),a="floating";l.bottom+r>o.height&&m(i,"bottom"),l.top-r<0&&m(i,"top"),l.right+s>o.width&&m(i,"right"),l.left-s<0&&m(i,"left");var c,u,h=-1!==(u=(c=n||"").indexOf("-"))?c.substr(u):"";return n&&(n=n.split("-")[0]),i.length&&(a="auto"!==n&&i.indexOf(n)>-1?n:i[0]),-1!==["top","bottom"].indexOf(a)&&(a+=function(t,e,n,i){var o=e/2,r=Math.min(n.width,window.screen.width),s=["-left-aligned","-middle-aligned","-right-aligned"];return r-t<e&&m(s,"-left-aligned"),(t<o||r-t<o)&&m(s,"-middle-aligned"),t<e-50&&m(s,"-right-aligned"),s.length?-1!==s.indexOf(i)?i:s[0]:"-middle-aligned"}(l.left,s,o,h)),a}function m(t,e){t.indexOf(e)>-1&&t.splice(t.indexOf(e),1)}function b(t){if(t){if(!this._introItems[this._currentStep])return;var e=this._introItems[this._currentStep],n=G(e.element),i=this._options.helperElementPadding;L(e.element)?k(t,"introjs-fixedTooltip"):E(t,"introjs-fixedTooltip"),"floating"===e.position&&(i=0),t.style.cssText="width: "+(n.width+i)+"px; height:"+(n.height+i)+"px; top:"+(n.top-i/2)+"px;left: "+(n.left-i/2)+"px;"}}function g(){var t=document.querySelector(".introjs-disableInteraction");null===t&&((t=document.createElement("div")).className="introjs-disableInteraction",this._targetElement.appendChild(t)),b.call(this,t)}function v(t){t.setAttribute("role","button"),t.tabIndex=0}function y(t){void 0!==this._introChangeCallback&&this._introChangeCallback.call(this,t.element);var e,n,i,o,r=this,s=document.querySelector(".introjs-helperLayer"),c=document.querySelector(".introjs-tooltipReferenceLayer"),d="introjs-helperLayer";if("string"==typeof t.highlightClass&&(d+=" "+t.highlightClass),"string"==typeof this._options.highlightClass&&(d+=" "+this._options.highlightClass),null!==s){var p=c.querySelector(".introjs-helperNumberLayer"),f=c.querySelector(".introjs-tooltiptext"),m=c.querySelector(".introjs-arrow"),y=c.querySelector(".introjs-tooltip");if(i=c.querySelector(".introjs-skipbutton"),n=c.querySelector(".introjs-prevbutton"),e=c.querySelector(".introjs-nextbutton"),s.className=d,y.style.opacity=0,y.style.display="none",i.innerHTML=this._options.skipLabel,n.innerHTML=this._options.prevLabel,e.innerHTML=this._options.nextLabel,null!==p){var j=this._introItems[t.step-2>=0?t.step-2:0];(null!==j&&"forward"===this._direction&&"floating"===j.position||"backward"===this._direction&&"floating"===t.position)&&(p.style.opacity=0)}(o=J(t.element))!==document.body&&Y(o,t.element),b.call(r,s),b.call(r,c),C(document.querySelectorAll(".introjs-fixParent"),(function(t){E(t,/introjs-fixParent/g)})),_(),r._lastShowElementTimer&&window.clearTimeout(r._lastShowElementTimer),r._lastShowElementTimer=window.setTimeout((function(){null!==p&&(p.innerHTML=t.step),f.innerHTML=t.intro,y.style.display="block",h.call(r,t.element,y,m,p),r._options.showBullets&&(c.querySelector(".introjs-bullets li > a.active").className="",c.querySelector('.introjs-bullets li > a[data-stepnumber="'+t.step+'"]').className="active"),c.querySelector(".introjs-progress .introjs-progressbar").style.cssText="width:"+$.call(r)+"%;",c.querySelector(".introjs-progress .introjs-progressbar").setAttribute("aria-valuenow",$.call(r)),y.style.opacity=1,p&&(p.style.opacity=1),null!=i&&/introjs-donebutton/gi.test(i.className)?i.focus():null!=e&&e.focus(),w.call(r,t.scrollTo,t,f)}),350)}else{var x=document.createElement("div"),S=document.createElement("div"),L=document.createElement("div"),A=document.createElement("div"),T=document.createElement("div"),P=document.createElement("div"),I=document.createElement("div"),O=document.createElement("div");x.className=d,S.className="introjs-tooltipReferenceLayer",(o=J(t.element))!==document.body&&Y(o,t.element),b.call(r,x),b.call(r,S),this._targetElement.appendChild(x),this._targetElement.appendChild(S),L.className="introjs-arrow",T.className="introjs-tooltiptext",T.innerHTML=t.intro,P.className="introjs-bullets",!1===this._options.showBullets&&(P.style.display="none");var q=document.createElement("ul");q.setAttribute("role","tablist");var H=function(){r.goToStep(this.getAttribute("data-stepnumber"))};C(this._introItems,(function(e,n){var i=document.createElement("li"),o=document.createElement("a");i.setAttribute("role","presentation"),o.setAttribute("role","tab"),o.onclick=H,n===t.step-1&&(o.className="active"),v(o),o.innerHTML="&nbsp;",o.setAttribute("data-stepnumber",e.step),i.appendChild(o),q.appendChild(i)})),P.appendChild(q),I.className="introjs-progress",!1===this._options.showProgress&&(I.style.display="none");var M=document.createElement("div");M.className="introjs-progressbar",M.setAttribute("role","progress"),M.setAttribute("aria-valuemin",0),M.setAttribute("aria-valuemax",100),M.setAttribute("aria-valuenow",$.call(this)),M.style.cssText="width:"+$.call(this)+"%;",I.appendChild(M),O.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(O.style.display="none"),A.className="introjs-tooltip",A.appendChild(T),A.appendChild(P),A.appendChild(I);var B=document.createElement("span");!0===this._options.showStepNumbers&&(B.className="introjs-helperNumberLayer",B.innerHTML=t.step,S.appendChild(B)),A.appendChild(L),S.appendChild(A),(e=document.createElement("a")).onclick=function(){r._introItems.length-1!==r._currentStep&&l.call(r)},v(e),e.innerHTML=this._options.nextLabel,(n=document.createElement("a")).onclick=function(){0!==r._currentStep&&a.call(r)},v(n),n.innerHTML=this._options.prevLabel,(i=document.createElement("a")).className=this._options.buttonClass+" introjs-skipbutton ",v(i),i.innerHTML=this._options.skipLabel,i.onclick=function(){r._introItems.length-1===r._currentStep&&"function"==typeof r._introCompleteCallback&&r._introCompleteCallback.call(r),r._introItems.length-1!==r._currentStep&&"function"==typeof r._introExitCallback&&r._introExitCallback.call(r),"function"==typeof r._introSkipCallback&&r._introSkipCallback.call(r),u.call(r,r._targetElement)},O.appendChild(i),this._introItems.length>1&&(O.appendChild(n),O.appendChild(e)),A.appendChild(O),h.call(r,t.element,A,L,B),w.call(this,t.scrollTo,t,A)}var R=r._targetElement.querySelector(".introjs-disableInteraction");R&&R.parentNode.removeChild(R),t.disableInteraction&&g.call(r),0===this._currentStep&&this._introItems.length>1?(null!=i&&(i.className=this._options.buttonClass+" introjs-skipbutton"),null!=e&&(e.className=this._options.buttonClass+" introjs-nextbutton"),!0===this._options.hidePrev?(null!=n&&(n.className=this._options.buttonClass+" introjs-prevbutton introjs-hidden"),null!=e&&k(e,"introjs-fullbutton")):null!=n&&(n.className=this._options.buttonClass+" introjs-prevbutton introjs-disabled"),null!=i&&(i.innerHTML=this._options.skipLabel)):this._introItems.length-1===this._currentStep||1===this._introItems.length?(null!=i&&(i.innerHTML=this._options.doneLabel,k(i,"introjs-donebutton")),null!=n&&(n.className=this._options.buttonClass+" introjs-prevbutton"),!0===this._options.hideNext?(null!=e&&(e.className=this._options.buttonClass+" introjs-nextbutton introjs-hidden"),null!=n&&k(n,"introjs-fullbutton")):null!=e&&(e.className=this._options.buttonClass+" introjs-nextbutton introjs-disabled")):(null!=i&&(i.className=this._options.buttonClass+" introjs-skipbutton"),null!=n&&(n.className=this._options.buttonClass+" introjs-prevbutton"),null!=e&&(e.className=this._options.buttonClass+" introjs-nextbutton"),null!=i&&(i.innerHTML=this._options.skipLabel)),n.setAttribute("role","button"),e.setAttribute("role","button"),i.setAttribute("role","button"),null!=e&&e.focus(),function(t){var e;if(t.element instanceof SVGElement)for(e=t.element.parentNode;null!==t.element.parentNode&&e.tagName&&"body"!==e.tagName.toLowerCase();)"svg"===e.tagName.toLowerCase()&&k(e,"introjs-showElement introjs-relativePosition"),e=e.parentNode;k(t.element,"introjs-showElement");var n=N(t.element,"position");for("absolute"!==n&&"relative"!==n&&"fixed"!==n&&k(t.element,"introjs-relativePosition"),e=t.element.parentNode;null!==e&&e.tagName&&"body"!==e.tagName.toLowerCase();){var i=N(e,"z-index"),o=parseFloat(N(e,"opacity")),r=N(e,"transform")||N(e,"-webkit-transform")||N(e,"-moz-transform")||N(e,"-ms-transform")||N(e,"-o-transform");(/[0-9]+/.test(i)||o<1||"none"!==r&&void 0!==r)&&k(e,"introjs-fixParent"),e=e.parentNode}}(t),void 0!==this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,t.element)}function w(t,e,n){var i;if("off"!==t&&this._options.scrollToElement&&(i="tooltip"===t?n.getBoundingClientRect():e.element.getBoundingClientRect(),!function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth}(e.element))){var o=i.bottom-(i.bottom-i.top),r=A().height,s={top:i.top+pageYOffset-r/2+i.height/2,left:0,behavior:"smooth"};try{o<0||e.element.clientHeight>r?(s.top-=this._options.scrollPadding,window.scrollTo(s)):(s.top+=this._options.scrollPadding,window.scrollTo(s))}catch(t){o<0||e.element.clientHeight>r?window.scrollTo(0,s.top-30):window.scrollTo(0,s.top+30)}}}function _(){C(document.querySelectorAll(".introjs-showElement"),(function(t){E(t,/introjs-[a-zA-Z]+/g)}))}function C(t,e,n){if(t)for(var i=0,o=t.length;i<o;i++)e(t[i],i);"function"==typeof n&&n()}var j,x=(j={},function(t,e){return j[e=e||"introjs-stamp"]=j[e]||0,void 0===t[e]&&(t[e]=j[e]++),t[e]}),S=new function(){var t="introjs_event";this._id=function(t,e,n,i){return e+x(n)+(i?"_"+x(i):"")},this.on=function(e,n,i,o,r){var s=this._id.apply(this,arguments),l=function(t){return i.call(o||e,t||window.event)};"addEventListener"in e?e.addEventListener(n,l,r):"attachEvent"in e&&e.attachEvent("on"+n,l),e[t]=e[t]||{},e[t][s]=l},this.off=function(e,n,i,o,r){var s=this._id.apply(this,arguments),l=e[t]&&e[t][s];l&&("removeEventListener"in e?e.removeEventListener(n,l,r):"detachEvent"in e&&e.detachEvent("on"+n,l),e[t][s]=null)}};function k(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";t.setAttribute("class",n+" "+e)}else void 0!==t.classList?C(e.split(" "),(function(e){t.classList.add(e)})):t.className.match(e)||(t.className+=" "+e)}function E(t,e){if(t instanceof SVGElement){var n=t.getAttribute("class")||"";t.setAttribute("class",n.replace(e,"").replace(/^\s+|\s+$/g,""))}else t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")}function N(t,e){var n="";return t.currentStyle?n=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n&&n.toLowerCase?n.toLowerCase():n}function L(t){var e=t.parentNode;return!(!e||"HTML"===e.nodeName)&&("fixed"===N(t,"position")||L(e))}function A(){try{var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}catch(t){return{width:window.innerWidth,height:window.innerHeight}}}function T(t){var e=document.createElement("div"),n="",i=this;if(e.className="introjs-overlay",t.tagName&&"body"!==t.tagName.toLowerCase()){var o=G(t);o&&(n+="width: "+o.width+"px; height:"+o.height+"px; top:"+o.top+"px;left: "+o.left+"px;",e.style.cssText=n)}else n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.style.cssText=n;return t.appendChild(e),e.onclick=function(){!0===i._options.exitOnOverlayClick&&u.call(i,t)},window.setTimeout((function(){n+="opacity: "+i._options.overlayOpacity.toString()+";",e.style.cssText=n}),10),!0}function P(){var t=document.querySelector(".introjs-hintReference");if(t){var e=t.getAttribute("data-step");return t.parentNode.removeChild(t),e}}function I(t){if(this._introItems=[],this._options.hints)C(this._options.hints,function(t){var e=o(t);"string"==typeof e.element&&(e.element=document.querySelector(e.element)),e.hintPosition=e.hintPosition||this._options.hintPosition,e.hintAnimation=e.hintAnimation||this._options.hintAnimation,null!==e.element&&this._introItems.push(e)}.bind(this));else{var e=t.querySelectorAll("*[data-hint]");if(!e||!e.length)return!1;C(e,function(t){var e=t.getAttribute("data-hintanimation");e=e?"true"===e:this._options.hintAnimation,this._introItems.push({element:t,hint:t.getAttribute("data-hint"),hintPosition:t.getAttribute("data-hintposition")||this._options.hintPosition,hintAnimation:e,tooltipClass:t.getAttribute("data-tooltipclass"),position:t.getAttribute("data-position")||this._options.tooltipPosition})}.bind(this))}z.call(this),S.on(document,"click",P,this,!1),S.on(window,"resize",O,this,!0)}function O(){C(this._introItems,function(t){void 0!==t.targetElement&&F.call(this,t.hintPosition,t.element,t.targetElement)}.bind(this))}function q(t){var e=document.querySelector(".introjs-hints");return e?e.querySelectorAll(t):[]}function H(t){var e=q('.introjs-hint[data-step="'+t+'"]')[0];P.call(this),e&&k(e,"introjs-hidehint"),void 0!==this._hintCloseCallback&&this._hintCloseCallback.call(this,t)}function M(){C(q(".introjs-hint"),function(t){H.call(this,t.getAttribute("data-step"))}.bind(this))}function B(){var t=q(".introjs-hint");t&&t.length?C(t,function(t){R.call(this,t.getAttribute("data-step"))}.bind(this)):I.call(this,this._targetElement)}function R(t){var e=q('.introjs-hint[data-step="'+t+'"]')[0];e&&E(e,/introjs-hidehint/g)}function D(){C(q(".introjs-hint"),function(t){V.call(this,t.getAttribute("data-step"))}.bind(this))}function V(t){var e=q('.introjs-hint[data-step="'+t+'"]')[0];e&&e.parentNode.removeChild(e)}function z(){var t=this,e=document.querySelector(".introjs-hints");null===e&&((e=document.createElement("div")).className="introjs-hints"),C(this._introItems,function(n,i){if(!document.querySelector('.introjs-hint[data-step="'+i+'"]')){var o=document.createElement("a");v(o),o.onclick=function(e){return function(n){var i=n||window.event;i.stopPropagation&&i.stopPropagation(),null!==i.cancelBubble&&(i.cancelBubble=!0),W.call(t,e)}}(i),o.className="introjs-hint",n.hintAnimation||k(o,"introjs-hint-no-anim"),L(n.element)&&k(o,"introjs-fixedhint");var r=document.createElement("div");r.className="introjs-hint-dot";var s=document.createElement("div");s.className="introjs-hint-pulse",o.appendChild(r),o.appendChild(s),o.setAttribute("data-step",i),n.targetElement=n.element,n.element=o,F.call(this,n.hintPosition,o,n.targetElement),e.appendChild(o)}}.bind(this)),document.body.appendChild(e),void 0!==this._hintsAddedCallback&&this._hintsAddedCallback.call(this)}function F(t,e,n){var i=G.call(this,n);switch(t){default:case"top-left":e.style.left=i.left+"px",e.style.top=i.top+"px";break;case"top-right":e.style.left=i.left+i.width-20+"px",e.style.top=i.top+"px";break;case"bottom-left":e.style.left=i.left+"px",e.style.top=i.top+i.height-20+"px";break;case"bottom-right":e.style.left=i.left+i.width-20+"px",e.style.top=i.top+i.height-20+"px";break;case"middle-left":e.style.left=i.left+"px",e.style.top=i.top+(i.height-20)/2+"px";break;case"middle-right":e.style.left=i.left+i.width-20+"px",e.style.top=i.top+(i.height-20)/2+"px";break;case"middle-middle":e.style.left=i.left+(i.width-20)/2+"px",e.style.top=i.top+(i.height-20)/2+"px";break;case"bottom-middle":e.style.left=i.left+(i.width-20)/2+"px",e.style.top=i.top+i.height-20+"px";break;case"top-middle":e.style.left=i.left+(i.width-20)/2+"px",e.style.top=i.top+"px"}}function W(t){var e=document.querySelector('.introjs-hint[data-step="'+t+'"]'),n=this._introItems[t];void 0!==this._hintClickCallback&&this._hintClickCallback.call(this,e,n,t);var i=P.call(this);if(parseInt(i,10)!==t){var o=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div");o.className="introjs-tooltip",o.onclick=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},r.className="introjs-tooltiptext";var a=document.createElement("p");a.innerHTML=n.hint;var c=document.createElement("a");c.className=this._options.buttonClass,c.setAttribute("role","button"),c.innerHTML=this._options.hintButtonLabel,c.onclick=H.bind(this,t),r.appendChild(a),r.appendChild(c),s.className="introjs-arrow",o.appendChild(s),o.appendChild(r),this._currentStep=e.getAttribute("data-step"),l.className="introjs-tooltipReferenceLayer introjs-hintReference",l.setAttribute("data-step",e.getAttribute("data-step")),b.call(this,l),l.appendChild(o),document.body.appendChild(l),h.call(this,e,o,s,null,!0)}}function G(t){var e=document.body,n=document.documentElement,i=window.pageYOffset||n.scrollTop||e.scrollTop,o=window.pageXOffset||n.scrollLeft||e.scrollLeft,r=t.getBoundingClientRect();return{top:r.top+i,width:r.width,height:r.height,left:r.left+o}}function J(t){var e=window.getComputedStyle(t),n="absolute"===e.position,i=/(auto|scroll)/;if("fixed"===e.position)return document.body;for(var o=t;o=o.parentElement;)if(e=window.getComputedStyle(o),(!n||"static"!==e.position)&&i.test(e.overflow+e.overflowY+e.overflowX))return o;return document.body}function Y(t,e){t.scrollTop=e.offsetTop-t.offsetTop}function $(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}var Q=function(e){var n;if("object"==typeof e)n=new t(e);else if("string"==typeof e){var i=document.querySelector(e);if(!i)throw new Error("There is no element with given selector.");n=new t(i)}else n=new t(document.body);return Q.instances[x(n,"introjs-instance")]=n,n};return Q.version="2.9.3",Q.instances={},Q.fn=t.prototype={clone:function(){return new t(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){return this._options=function(t,e){var n,i={};for(n in t)i[n]=t[n];for(n in e)i[n]=e[n];return i}(this._options,t),this},start:function(t){return e.call(this,this._targetElement,t),this},goToStep:function(t){return r.call(this,t),this},addStep:function(t){return this._options.steps||(this._options.steps=[]),this._options.steps.push(t),this},addSteps:function(t){if(t.length){for(var e=0;e<t.length;e++)this.addStep(t[e]);return this}},goToStepNumber:function(t){return s.call(this,t),this},nextStep:function(){return l.call(this),this},previousStep:function(){return a.call(this),this},exit:function(t){return u.call(this,this._targetElement,t),this},refresh:function(){return c.call(this),this},onbeforechange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},onafterchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onhintsadded:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=t,this},onhintclick:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=t,this},onhintclose:function(t){if("function"!=typeof t)throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=t,this},onexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this},onskip:function(t){if("function"!=typeof t)throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=t,this},onbeforeexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=t,this},addHints:function(){return I.call(this,this._targetElement),this},hideHint:function(t){return H.call(this,t),this},hideHints:function(){return M.call(this),this},showHint:function(t){return R.call(this,t),this},showHints:function(){return B.call(this),this},removeHints:function(){return D.call(this),this},removeHint:function(t){return V.call(this,t),this},showHintDialog:function(t){return W.call(this,t),this}},Q},t.exports=i(),t.exports.introJs=function(){return console.warn('Deprecated: please use require("intro.js") directly, instead of the introJs method of the function'),i().apply(this,arguments)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ANjNwb2t1cGtpL29uYm9hcmRpbmctY29yZS9pbmRleC5jc3M/N2JiNyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzL3BhZ2Uvb25ib2FyZGluZy5zY3NzPzAxZmEiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZS9vbmJvYXJkaW5nL2pzL29uYm9hcmRpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0A2M3Bva3Vwa2kvb25ib2FyZGluZy1jb3JlL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibGVuZ3RoIiwibW9kdWxlc1RvRG9tIiwibGlzdCIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJpdGVtIiwiaWQiLCJiYXNlIiwiY291bnQiLCJjb25jYXQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJwdXNoIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiam9pbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJyZW1vdmUiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJidG9hIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJ0b1N0cmluZyIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4Iiwic3BsaWNlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJhcGkiLCJjb250ZW50IiwiZGVmYXVsdCIsImV4cG9ydGVkIiwibG9jYWxzIiwiaW50cm9KcyIsInJlcXVpcmUiLCJERUZBVUxUX09QVElPTlMiLCJ0b29sdGlwQ2xhc3MiLCJza2lwTGFiZWwiLCJkb25lTGFiZWwiLCJwcmV2TGFiZWwiLCJuZXh0TGFiZWwiLCJoaWRlUHJldiIsImhpZGVOZXh0Iiwic2hvd1Byb2dyZXNzIiwic2hvd0J1bGxldHMiLCJzaG93U3RlcE51bWJlcnMiLCJzY3JvbGxUbyIsImRpc2FibGVJbnRlcmFjdGlvbiIsImV4aXRPbk92ZXJsYXlDbGljayIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdGVwcyIsImludHJvIiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJ0b3VjaCIsImRlc2N0b3AiLCJjb25zb2xlIiwiZXJyb3IiLCJfZ2V0U3RlcHNCeU1lZGlhTW9kZSIsIm9uYm9hcmRpbmciLCJkZWZhdWx0X29wdGlvbnMiLCJzZXRPcHRpb25zIiwib25iZWZvcmVjaGFuZ2UiLCJzdGVwIiwiX2N1cnJlbnRTdGVwIiwiYmVmb3JlU3RlcCIsInJlZnJlc2giLCJmVXBkYXRlUHJvcGVydGllc1N0ZXBCeVN0ZXBIb29rIiwic3RhcnQiLCJlbCIsImljb24iLCJjbGFzc05hbWUiLCJjbG9zZSIsImFwcGVuZCIsImV4aXQiLCJmSW5pdENsb3NlQnV0dG9uIiwic2V0VGltZW91dCIsIngiLCJ5IiwidG9wIiwibGVmdCIsImJlaGF2aW9yIiwiZlNjcm9sbFRvIiwiZiIsIkludHJvSnMiLCJ0aGlzIiwiX3RhcmdldEVsZW1lbnQiLCJfaW50cm9JdGVtcyIsIl9vcHRpb25zIiwidG9vbHRpcFBvc2l0aW9uIiwiaGlnaGxpZ2h0Q2xhc3MiLCJleGl0T25Fc2MiLCJrZXlib2FyZE5hdmlnYXRpb24iLCJzaG93QnV0dG9ucyIsInNjcm9sbFRvRWxlbWVudCIsInNjcm9sbFBhZGRpbmciLCJvdmVybGF5T3BhY2l0eSIsInBvc2l0aW9uUHJlY2VkZW5jZSIsImhlbHBlckVsZW1lbnRQYWRkaW5nIiwiaGludFBvc2l0aW9uIiwiaGludEJ1dHRvbkxhYmVsIiwiaGludEFuaW1hdGlvbiIsImJ1dHRvbkNsYXNzIiwiYWN0aXZlIiwicG9pbnQiLCJwb3NpdGlvbnMiLCJfaW50cm9Gb3JFbGVtZW50IiwidGFyZ2V0RWxtIiwiZ3JvdXAiLCJib2R5RWwiLCJjbGFzc0xpc3QiLCJhZGQiLCJhbGxJbnRyb1N0ZXBzIiwicXVlcnlTZWxlY3RvckFsbCIsImludHJvSXRlbXMiLCJfZm9yRWFjaCIsImN1cnJlbnRJdGVtIiwiX2Nsb25lT2JqZWN0IiwiZWxlbWVudCIsImZsb2F0aW5nRWxlbWVudFF1ZXJ5IiwiYm9keSIsInBvc2l0aW9uIiwiY3VycmVudEVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJkaXNwbGF5IiwicGFyc2VJbnQiLCJuZXh0U3RlcCIsInRlbXBJbnRyb0l0ZW1zIiwieiIsInNvcnQiLCJhIiwiYiIsIl9hZGRPdmVybGF5TGF5ZXIiLCJfbmV4dFN0ZXAiLCJET01FdmVudCIsIm9uIiwiX29uS2V5RG93biIsIl9vblJlc2l6ZSIsImNvZGUiLCJ3aGljaCIsImNoYXJDb2RlIiwia2V5Q29kZSIsIl9wcmV2aW91c1N0ZXAiLCJzcmNFbGVtZW50IiwibWF0Y2giLCJfaW50cm9Db21wbGV0ZUNhbGxiYWNrIiwiX2V4aXRJbnRybyIsImNsaWNrIiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsInRlbXAiLCJqUXVlcnkiLCJfZ29Ub1N0ZXAiLCJfZ29Ub1N0ZXBOdW1iZXIiLCJfY3VycmVudFN0ZXBOdW1iZXIiLCJfZGlyZWN0aW9uIiwidW5kZWZpbmVkIiwiY29udGludWVTdGVwIiwiX2ludHJvQmVmb3JlQ2hhbmdlQ2FsbGJhY2siLCJfc2hvd0VsZW1lbnQiLCJfcmVmcmVzaCIsIl9zZXRIZWxwZXJMYXllclBvc2l0aW9uIiwib2xkSGVscGVyTnVtYmVyTGF5ZXIiLCJvbGRBcnJvd0xheWVyIiwib2xkdG9vbHRpcENvbnRhaW5lciIsIl9wbGFjZVRvb2x0aXAiLCJfcmVBbGlnbkhpbnRzIiwidGFyZ2V0RWxlbWVudCIsImZvcmNlIiwiY29udGludWVFeGl0IiwiX2ludHJvQmVmb3JlRXhpdENhbGxiYWNrIiwib3ZlcmxheUxheWVycyIsIm92ZXJsYXlMYXllciIsIm9wYWNpdHkiLCJoZWxwZXJMYXllciIsInJlZmVyZW5jZUxheWVyIiwiZGlzYWJsZUludGVyYWN0aW9uTGF5ZXIiLCJmbG9hdGluZ0VsZW1lbnQiLCJfcmVtb3ZlU2hvd0VsZW1lbnQiLCJwYXJlbnQiLCJfcmVtb3ZlQ2xhc3MiLCJvZmYiLCJfaW50cm9FeGl0Q2FsbGJhY2siLCJ0b29sdGlwTGF5ZXIiLCJhcnJvd0xheWVyIiwiaGVscGVyTnVtYmVyTGF5ZXIiLCJoaW50TW9kZSIsImN1cnJlbnRTdGVwT2JqIiwidG9vbHRpcE9mZnNldCIsInRhcmdldE9mZnNldCIsIndpbmRvd1NpemUiLCJjdXJyZW50VG9vbHRpcFBvc2l0aW9uIiwidG9vbHRpcENzc0NsYXNzIiwicmlnaHQiLCJib3R0b20iLCJtYXJnaW5MZWZ0IiwibWFyZ2luVG9wIiwicmVwbGFjZSIsIl9kZXRlcm1pbmVBdXRvUG9zaXRpb24iLCJhYnNDbGllbnRXaWR0aCIsIl9nZXRPZmZzZXQiLCJfZ2V0V2luU2l6ZSIsIl9hZGRDbGFzcyIsInRvb2x0aXBMYXllclN0eWxlUmlnaHQiLCJfY2hlY2tMZWZ0IiwiaGVpZ2h0IiwidG9vbHRpcExheWVyU3R5bGVMZWZ0UmlnaHQiLCJ3aWR0aCIsIl9jaGVja1JpZ2h0IiwidG9vbHRpcExheWVyU3R5bGVMZWZ0IiwiZGVzaXJlZFRvb2x0aXBQb3NpdGlvbiIsInBvc3NpYmxlUG9zaXRpb25zIiwic2xpY2UiLCJ0b29sdGlwSGVpZ2h0IiwidG9vbHRpcFdpZHRoIiwidGFyZ2V0RWxlbWVudFJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjYWxjdWxhdGVkUG9zaXRpb24iLCJfcmVtb3ZlRW50cnkiLCJwb3MiLCJoeXBoZW5JbmRleCIsImRlc2lyZWRBbGlnbm1lbnQiLCJpbmRleE9mIiwic3Vic3RyIiwic3BsaXQiLCJvZmZzZXRMZWZ0IiwiaGFsZlRvb2x0aXBXaWR0aCIsIndpbldpZHRoIiwiTWF0aCIsIm1pbiIsInNjcmVlbiIsInBvc3NpYmxlQWxpZ25tZW50cyIsIl9kZXRlcm1pbmVBdXRvQWxpZ25tZW50Iiwic3RyaW5nQXJyYXkiLCJzdHJpbmdUb1JlbW92ZSIsImVsZW1lbnRQb3NpdGlvbiIsIndpZHRoSGVpZ2h0UGFkZGluZyIsIl9pc0ZpeGVkIiwiX2Rpc2FibGVJbnRlcmFjdGlvbiIsIl9zZXRBbmNob3JBc0J1dHRvbiIsImFuY2hvciIsInRhYkluZGV4IiwiX2ludHJvQ2hhbmdlQ2FsbGJhY2siLCJuZXh0VG9vbHRpcEJ1dHRvbiIsInByZXZUb29sdGlwQnV0dG9uIiwic2tpcFRvb2x0aXBCdXR0b24iLCJzY3JvbGxQYXJlbnQiLCJzZWxmIiwib2xkSGVscGVyTGF5ZXIiLCJvbGRSZWZlcmVuY2VMYXllciIsIm9sZHRvb2x0aXBMYXllciIsImlubmVySFRNTCIsImxhc3RJbnRyb0l0ZW0iLCJfZ2V0U2Nyb2xsUGFyZW50IiwiX3Njcm9sbFBhcmVudFRvRWxlbWVudCIsIl9sYXN0U2hvd0VsZW1lbnRUaW1lciIsImNsZWFyVGltZW91dCIsIl9nZXRQcm9ncmVzcyIsInRlc3QiLCJmb2N1cyIsIl9zY3JvbGxUbyIsInRvb2x0aXBUZXh0TGF5ZXIiLCJidWxsZXRzTGF5ZXIiLCJwcm9ncmVzc0xheWVyIiwiYnV0dG9uc0xheWVyIiwidWxDb250YWluZXIiLCJhbmNob3JDbGljayIsImdvVG9TdGVwIiwiaW5uZXJMaSIsImFuY2hvckxpbmsiLCJvbmNsaWNrIiwicHJvZ3Jlc3NCYXIiLCJfaW50cm9Ta2lwQ2FsbGJhY2siLCJwYXJlbnRFbG0iLCJTVkdFbGVtZW50IiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiY3VycmVudEVsZW1lbnRQb3NpdGlvbiIsIl9nZXRQcm9wVmFsdWUiLCJ6SW5kZXgiLCJwYXJzZUZsb2F0IiwidHJhbnNmb3JtIiwiX3NldFNob3dFbGVtZW50IiwiX2ludHJvQWZ0ZXJDaGFuZ2VDYWxsYmFjayIsInJlY3QiLCJpbm5lckhlaWdodCIsImlubmVyV2lkdGgiLCJfZWxlbWVudEluVmlld3BvcnQiLCJ3aW5IZWlnaHQiLCJzY3JvbGxUb09wdGlvbnMiLCJwYWdlWU9mZnNldCIsImNsaWVudEhlaWdodCIsImVsbSIsImFyciIsImZvckVhY2hGbmMiLCJjb21wbGV0ZUZuYyIsImxlbiIsIl9zdGFtcCIsImV2ZW50c19rZXkiLCJfaWQiLCJ0eXBlIiwibGlzdGVuZXIiLCJjb250ZXh0IiwidXNlQ2FwdHVyZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiaGFuZGxlciIsImV2ZW50IiwiYXR0YWNoRXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGV0YWNoRXZlbnQiLCJwcmUiLCJjbHMiLCJjbGFzc05hbWVSZWdleCIsInByb3BOYW1lIiwicHJvcFZhbHVlIiwiY3VycmVudFN0eWxlIiwiZGVmYXVsdFZpZXciLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsIm5vZGVOYW1lIiwiRCIsInN0eWxlVGV4dCIsIl9yZW1vdmVIaW50VG9vbHRpcCIsInRvb2x0aXAiLCJfcG9wdWxhdGVIaW50cyIsImhpbnRzIiwiaGludCIsIl9hZGRIaW50cyIsIl9hbGlnbkhpbnRQb3NpdGlvbiIsIl9oaW50UXVlcnlTZWxlY3RvckFsbCIsInNlbGVjdG9yIiwiaGludHNXcmFwcGVyIiwiX2hpZGVIaW50Iiwic3RlcElkIiwiX2hpbnRDbG9zZUNhbGxiYWNrIiwiX2hpZGVIaW50cyIsIl9zaG93SGludHMiLCJfc2hvd0hpbnQiLCJfcmVtb3ZlSGludHMiLCJfcmVtb3ZlSGludCIsImV2dCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbmNlbEJ1YmJsZSIsIl9zaG93SGludERpYWxvZyIsImdldEhpbnRDbGljayIsImhpbnREb3QiLCJoaW50UHVsc2UiLCJfaGludHNBZGRlZENhbGxiYWNrIiwib2Zmc2V0IiwiaGludEVsZW1lbnQiLCJfaGludENsaWNrQ2FsbGJhY2siLCJyZW1vdmVkU3RlcCIsInRvb2x0aXBXcmFwcGVyIiwiY2xvc2VCdXR0b24iLCJkb2NFbCIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJwYWdlWE9mZnNldCIsImV4Y2x1ZGVTdGF0aWNQYXJlbnQiLCJvdmVyZmxvd1JlZ2V4IiwicGFyZW50RWxlbWVudCIsIm92ZXJmbG93Iiwib3ZlcmZsb3dZIiwib3ZlcmZsb3dYIiwib2Zmc2V0VG9wIiwiaW5zdGFuY2UiLCJpbnN0YW5jZXMiLCJ2ZXJzaW9uIiwiZm4iLCJjbG9uZSIsInNldE9wdGlvbiIsIm9wdGlvbiIsIm9iajEiLCJvYmoyIiwiYXR0cm5hbWUiLCJvYmozIiwiX21lcmdlT3B0aW9ucyIsImFkZFN0ZXAiLCJhZGRTdGVwcyIsImdvVG9TdGVwTnVtYmVyIiwicHJldmlvdXNTdGVwIiwicHJvdmlkZWRDYWxsYmFjayIsIm9uY2hhbmdlIiwib25hZnRlcmNoYW5nZSIsIm9uY29tcGxldGUiLCJvbmhpbnRzYWRkZWQiLCJvbmhpbnRjbGljayIsIm9uaGludGNsb3NlIiwib25leGl0Iiwib25za2lwIiwib25iZWZvcmVleGl0IiwiYWRkSGludHMiLCJoaWRlSGludCIsImhpZGVIaW50cyIsInNob3dIaW50Iiwic2hvd0hpbnRzIiwicmVtb3ZlSGludHMiLCJyZW1vdmVIaW50Iiwic2hvd0hpbnREaWFsb2ciLCJ3YXJuIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJ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SUFBSTFZLE1BQU0sb0RBRWxCLE9BSkVpRyxLQUFLaUcsbUJBQXFCd00sRUFJckJ6UyxNQUVUaVQsT0FBUSxTQUFTUixHQUNmLEdBQWtDLG1CQUF2QixFQUdULE1BQU0sSUFBSTFZLE1BQU0sb0RBRWxCLE9BSkVpRyxLQUFLMkwsbUJBQXFCOEcsRUFJckJ6UyxNQUVUa1QsYUFBYyxTQUFTVCxHQUNyQixHQUFrQyxtQkFBdkIsRUFHVCxNQUFNLElBQUkxWSxNQUFNLDBEQUVsQixPQUpFaUcsS0FBS3FGLHlCQUEyQm9OLEVBSTNCelMsTUFFVG1ULFNBQVUsV0FFUixPQURBbkUsRUFBZTlaLEtBQUs4SyxLQUFNQSxLQUFLQyxnQkFDeEJELE1BRVRvVCxTQUFVLFNBQVUzRCxHQUVsQixPQURBRCxFQUFVdGEsS0FBSzhLLEtBQU15UCxHQUNkelAsTUFFVHFULFVBQVcsV0FFVCxPQURBMUQsRUFBV3phLEtBQUs4SyxNQUNUQSxNQUVUc1QsU0FBVSxTQUFVN0QsR0FFbEIsT0FEQUksRUFBVTNhLEtBQUs4SyxLQUFNeVAsR0FDZHpQLE1BRVR1VCxVQUFXLFdBRVQsT0FEQTNELEVBQVcxYSxLQUFLOEssTUFDVEEsTUFFVHdULFlBQWEsV0FFWCxPQURBMUQsRUFBYTVhLEtBQUs4SyxNQUNYQSxNQUVUeVQsV0FBWSxTQUFVaEUsR0FFcEIsT0FEQU0sRUFBWTdhLEtBQUs4SyxLQUFNeVAsR0FDaEJ6UCxNQUVUMFQsZUFBZ0IsU0FBVWpFLEdBRXhCLE9BREFVLEVBQWdCamIsS0FBSzhLLEtBQU15UCxHQUNwQnpQLE9BSUpwRCxHQXhoRkQ5SCxFQUFPRCxRQUFVaUwsSUFHakJoTCxFQUFPRCxRQUFRK0gsUUFBVSxXQUd2QixPQUZBdUIsUUFBUXdWLEtBQUssc0dBRU43VCxJQUFJNk4sTUFBTTNOLEtBQU00TiIsImZpbGUiOiJqcy9vbmJvYXJkaW5nLmpzPzFjOTIxN2YwMWM4OGJhYTA2ZTUzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIzKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9kZWZpbmVQcm9wZXJ0eTsiLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanM/P3JlZi0tMy0xIS4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7IiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanM/P3JlZi0tMi0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTItMiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTItMyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMi00IS4vb25ib2FyZGluZy5zY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkOyIsImNvbnN0IGludHJvSnMgPSByZXF1aXJlKFwiQDYzcG9rdXBraS9vbmJvYXJkaW5nLWNvcmVcIik7XG5cbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICB0b29sdGlwQ2xhc3M6IFwib25ib2FyZGluZy1iYXNlLXN0ZXBzXCIsXG4gICAgc2tpcExhYmVsOiBcItCf0YDQvtC/0YPRgdGC0LjRgtGMXCIsXG4gICAgZG9uZUxhYmVsOiBcItCX0LDQutC+0L3Rh9C40YLRjFwiLFxuICAgIHByZXZMYWJlbDogXCLQndCw0LfQsNC0XCIsXG4gICAgbmV4dExhYmVsOiBcItCU0LDQu9C10LVcIixcbiAgICBoaWRlUHJldjogdHJ1ZSxcbiAgICBoaWRlTmV4dDogdHJ1ZSxcbiAgICBzaG93UHJvZ3Jlc3M6IHRydWUsXG4gICAgc2hvd0J1bGxldHM6IGZhbHNlLFxuICAgIHNob3dTdGVwTnVtYmVyczogZmFsc2UsXG4gICAgc2Nyb2xsVG86IFwidG9vbHRpcFwiLFxuICAgIGRpc2FibGVJbnRlcmFjdGlvbjogdHJ1ZSxcbiAgICBleGl0T25PdmVybGF5Q2xpY2s6IGZhbHNlXG59O1xuXG5jb25zdCB0b3VjaHBvaW50ID0gNzY4O1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZk1haW4pO1xuXG4vKipcbiAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC70L7Qs9C40LrQuFxuICovXG5mdW5jdGlvbiBmTWFpbigpIHtcbiAgICB0cnkge1xuXG4gICAgICAgIGlmICghd2luZG93LnN0ZXBzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCLQqNCw0LPQuCDQvtGC0YHRg9GC0YHRgtCy0YPRjtGCXCIpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGxldCBpbnRybyA9IGludHJvSnMoKTtcbiAgICAgICAgY29uc3Qgc3RlcHMgPSBfZ2V0U3RlcHNCeU1lZGlhTW9kZSh0b3VjaHBvaW50KTtcblxuICAgICAgICBpbnRybyA9IGZVcGRhdGVQcm9wZXJ0aWVzU3RlcEJ5U3RlcEhvb2soaW50cm8sIERFRkFVTFRfT1BUSU9OUywgc3RlcHMpO1xuXG4gICAgICAgIGludHJvLnN0YXJ0KCk7XG5cbiAgICAgICAgZkluaXRDbG9zZUJ1dHRvbihpbnRybyk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBmU2Nyb2xsVG8oKSwgNTAwKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgfVxufVxuXG4vKipcbiAqINCe0L/RgNC10LTQtdC70LXQvdC40LUg0YDQtdC20LjQvNCwINC/0L7QutCw0LfQsCAtINC80L7QsdC40LvRjNC90YvQtS/QtNC10YHQutGC0L7Qv1xuICovXG5mdW5jdGlvbiBfZ2V0U3RlcHNCeU1lZGlhTW9kZShtZWRpYSkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG5cbiAgICAgICAgaWYgKHcgPD0gbWVkaWEpIHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuc3RlcHMudG91Y2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuc3RlcHMuZGVzY3RvcCgpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiDQn9GA0L7QstC10YDQutCwINCy0LjQtNC40LzQvtGB0YLQuCAo0YHRg9GJ0LXRgdGC0LLQvtCy0LDQvdC40Y8pINGN0LvQtdC80LXQvdGC0LBcbiAqIEBwYXJhbSB7fSBlbGVtZW50IC0g0Y3Qu9C10LzQtdC90YJcbiAqL1xuZnVuY3Rpb24gX2lzRWxlbWVudEV4aXN0KGVsZW1lbnQpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcItCt0LvQtdC80LXQvdGCINC90LUg0L/QtdGA0LXQtNCw0L1cIik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IGhlaWdodCwgd2lkdGggfSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgaWYgKGhlaWdodCAhPT0gMCAmJiB3aWR0aCAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgfVxufVxuXG4vKipcbiAqINCf0L7Qu9GD0YfQtdC90LjQtSDQstC40LTQuNC80L7Qs9C+INGN0LvQtdC80LXQvdGC0LAg0L/QviBjc3Mg0YHQtdC70LXQutGC0L7RgNGDXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3IgLSBjc3Mg0LLQsNC70LjQtNC90YvQuSDRgdC10LvQtdC60YLQvtGAXG4gKi9cbmZ1bmN0aW9uIGdldEVsZW1lbnQoc2VsZWN0b3IpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCLQodC10LvQtdC60YLQvtGAINC90LUg0L/QtdGA0LXQtNCw0L1cIik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcilcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCB2aXNpYmxlRWxlbWVudCA9IGVsZW1lbnRzLmZpbmQoZWwgPT4gX2lzRWxlbWVudEV4aXN0KGVsKSk7XG5cbiAgICAgICAgaWYgKCF2aXNpYmxlRWxlbWVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwi0JLQuNC00LjQvNGL0Lkg0Y3Qu9C10LzQtdC90YIg0L3QtSDQvdCw0LnQtNC10L1cIik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmlzaWJsZUVsZW1lbnQ7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiDQn9GA0L7QutGA0YPRgtC60LBcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IC0g0LrQvtC+0YDQtNC40L3QsNGC0LAgWCDQv9GA0L7QutGA0YPRgtC60LhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IC0g0LrQvtC+0YDQtNC40L3QsNGC0LAgWSDQv9GA0L7QutGA0YPRgtC60LhcbiAqL1xuZnVuY3Rpb24gZlNjcm9sbFRvKHggPSAwLCB5ID0gMCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICB0b3A6IHgsXG4gICAgICAgICAgICBsZWZ0OiB5LFxuICAgICAgICAgICAgYmVoYXZpb3I6IFwic21vb3RoXCJcbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKG9wdGlvbnMpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeCwgeSk7XG4gICAgfVxufVxuXG4vKipcbiAqINCe0LHQvdC+0LLQu9C10L3QuNC1INC90LDRgdGC0YDQvtC10Log0L/QvtC0INC60LDQttC00YvQuSDRiNCw0LMg0L/QvtC00YHQutCw0LfQvtC6LCDRgdC80LXQvdCwINGC0LXQutGB0YLQsCwg0L7RhNC+0YDQvNC70LXQvdC40Y8g0Lgg0YLQtFxuICogQHBhcmFtICB7fSBvbmJvYXJkaW5nIC0g0L7QsdGK0LXQutGCINC/0L7QtNGB0LrQsNC30L7QulxuICogQHBhcmFtICB7fSBkZWZhdWx0X29wdGlvbnMgLSDRgdGC0LDQvdC00LDRgNGC0L3Ri9C1INC90LDRgdGC0YDQvtC50LrQuFxuICogQHBhcmFtICB7fSBzdGVwcyAtINC+0LHRitC10LrRgiDRiNCw0LPQvtCyINGBINC90LXRgdGC0LDQvdC00LDRgNGC0L3Ri9C80Lgg0L3QsNGB0YLRgNC+0LnQutCw0LzQuFxuICovXG5mdW5jdGlvbiBmVXBkYXRlUHJvcGVydGllc1N0ZXBCeVN0ZXBIb29rKG9uYm9hcmRpbmcsIGRlZmF1bHRfb3B0aW9ucywgc3RlcHMpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyDRg9GB0YLQsNC90L7QstC60LAg0YHRgtCw0L3QtNCw0YDRgtC90YvRhSDQvdCw0YHRgtGA0L7QtdC6XG4gICAgICAgIG9uYm9hcmRpbmcuc2V0T3B0aW9ucyh7XG4gICAgICAgICAgICAuLi5kZWZhdWx0X29wdGlvbnMsXG4gICAgICAgICAgICBzdGVwc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyDQv9C10YDQtdC+0L/RgNC10LTQtdC70LXQvdC40LUg0L3QsNGB0YLRgNC+0LXQuiDQv9C+0LQg0LrQsNC20LTRi9C5INGI0LDQs1xuICAgICAgICBvbmJvYXJkaW5nLm9uYmVmb3JlY2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBzdGVwID0gc3RlcHNbb25ib2FyZGluZy5fY3VycmVudFN0ZXBdO1xuXG4gICAgICAgICAgICBvbmJvYXJkaW5nLnNldE9wdGlvbnMoe1xuICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRfb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBuZXh0TGFiZWw6IHN0ZXAubmV4dExhYmVsIHx8IGRlZmF1bHRfb3B0aW9ucy5uZXh0TGFiZWwsXG4gICAgICAgICAgICAgICAgcHJldkxhYmVsOiBzdGVwLnByZXZMYWJlbCB8fCBkZWZhdWx0X29wdGlvbnMucHJldkxhYmVsLFxuICAgICAgICAgICAgICAgIGRvbmVMYWJlbDogc3RlcC5kb25lTGFiZWwgfHwgZGVmYXVsdF9vcHRpb25zLmRvbmVMYWJlbCxcbiAgICAgICAgICAgICAgICBza2lwTGFiZWw6IHN0ZXAuc2tpcExhYmVsIHx8IGRlZmF1bHRfb3B0aW9ucy5za2lwTGFiZWwsXG4gICAgICAgICAgICAgICAgdG9vbHRpcENsYXNzOiBzdGVwLnRvb2x0aXBDbGFzcyB8fCBkZWZhdWx0X29wdGlvbnMudG9vbHRpcENsYXNzXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHN0ZXAuYmVmb3JlU3RlcCkge1xuICAgICAgICAgICAgICAgIHN0ZXAuYmVmb3JlU3RlcCgpO1xuICAgICAgICAgICAgICAgIG9uYm9hcmRpbmcucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gb25ib2FyZGluZztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgfVxufVxuXG4vKipcbiAqINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC60L3QvtC/0LrQuCDQl9Cw0LrRgNGL0YLRjFxuICogQHBhcmFtICB7fSBvbmJvYXJkaW5nIC0g0L7QsdGK0LXQutGCINC/0L7QtNGB0LrQsNC30L7QulxuICovXG5mdW5jdGlvbiBmSW5pdENsb3NlQnV0dG9uKG9uYm9hcmRpbmcpIHtcbiAgICB0cnkge1xuICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmludHJvanMtdG9vbHRpcFwiKTtcblxuICAgICAgICAvLyDRgdC+0LfQtNCw0L3QuNC1INC40LrQvtC90LrQuCDQutGA0LXRgdGC0LjQutCwXG4gICAgICAgIGxldCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XG4gICAgICAgIGljb24uY2xhc3NOYW1lID0gXCJkcy1pY29uIGljb24tY2xvc2VcIjtcblxuICAgICAgICAvLyDRgdC+0LfQtNCw0L3QuNC1INC60L3QvtC/0LrQuFxuICAgICAgICBsZXQgY2xvc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBjbG9zZS5hcHBlbmQoaWNvbik7XG4gICAgICAgIGNsb3NlLmNsYXNzTmFtZSA9IGBpbnRyb2pzLXRvb2x0aXBfX2Nsb3NlYDtcbiAgICAgICAgY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IG9uYm9hcmRpbmcuZXhpdCh0cnVlKSk7XG5cbiAgICAgICAgLy8g0LTQvtCx0LDQstC70LXQvdC40LUg0LrQvdC+0L/QutC4XG4gICAgICAgIGlmIChlbCkge1xuICAgICAgICAgICAgZWwuYXBwZW5kKGNsb3NlKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEludHJvLmpzIHYyLjkuM1xuICogaHR0cHM6Ly9naXRodWIuY29tL3VzYWJsaWNhL2ludHJvLmpzXG4gKlxuICogQ29weXJpZ2h0IChDKSAyMDE3IEFmc2hpbiBNZWhyYWJhbmkgKEBhZnNoaW5tZWgpXG4gKi9cblxuKGZ1bmN0aW9uKGYpIHtcbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGYoKTtcbiAgICAgICAgLy8gZGVwcmVjYXRlZCBmdW5jdGlvblxuICAgICAgICAvLyBAc2luY2UgMi44LjBcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMuaW50cm9KcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0ZWQ6IHBsZWFzZSB1c2UgcmVxdWlyZShcImludHJvLmpzXCIpIGRpcmVjdGx5LCBpbnN0ZWFkIG9mIHRoZSBpbnRyb0pzIG1ldGhvZCBvZiB0aGUgZnVuY3Rpb24nKTtcbiAgICAgICAgICAvLyBpbnRyb0pzKClcbiAgICAgICAgICByZXR1cm4gZigpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoW10sIGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBnO1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgZyA9IHdpbmRvdztcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBnID0gZ2xvYmFsO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBnID0gc2VsZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGcgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGcuaW50cm9KcyA9IGYoKTtcbiAgICB9XG59KShmdW5jdGlvbiAoKSB7XG4gIC8vRGVmYXVsdCBjb25maWcvdmFyaWFibGVzXG4gIHZhciBWRVJTSU9OID0gJzIuOS4zJztcblxuICAvKipcbiAgICogSW50cm9KcyBtYWluIGNsYXNzXG4gICAqXG4gICAqIEBjbGFzcyBJbnRyb0pzXG4gICAqL1xuICBmdW5jdGlvbiBJbnRyb0pzKG9iaikge1xuICAgIHRoaXMuX3RhcmdldEVsZW1lbnQgPSBvYmo7XG4gICAgdGhpcy5faW50cm9JdGVtcyA9IFtdO1xuXG4gICAgdGhpcy5fb3B0aW9ucyA9IHtcbiAgICAgIC8qIE5leHQgYnV0dG9uIGxhYmVsIGluIHRvb2x0aXAgYm94ICovXG4gICAgICBuZXh0TGFiZWw6ICdOZXh0ICZyYXJyOycsXG4gICAgICAvKiBQcmV2aW91cyBidXR0b24gbGFiZWwgaW4gdG9vbHRpcCBib3ggKi9cbiAgICAgIHByZXZMYWJlbDogJyZsYXJyOyBCYWNrJyxcbiAgICAgIC8qIFNraXAgYnV0dG9uIGxhYmVsIGluIHRvb2x0aXAgYm94ICovXG4gICAgICBza2lwTGFiZWw6ICdTa2lwJyxcbiAgICAgIC8qIERvbmUgYnV0dG9uIGxhYmVsIGluIHRvb2x0aXAgYm94ICovXG4gICAgICBkb25lTGFiZWw6ICdEb25lJyxcbiAgICAgIC8qIEhpZGUgcHJldmlvdXMgYnV0dG9uIGluIHRoZSBmaXJzdCBzdGVwPyBPdGhlcndpc2UsIGl0IHdpbGwgYmUgZGlzYWJsZWQgYnV0dG9uLiAqL1xuICAgICAgaGlkZVByZXY6IGZhbHNlLFxuICAgICAgLyogSGlkZSBuZXh0IGJ1dHRvbiBpbiB0aGUgbGFzdCBzdGVwPyBPdGhlcndpc2UsIGl0IHdpbGwgYmUgZGlzYWJsZWQgYnV0dG9uLiAqL1xuICAgICAgaGlkZU5leHQ6IGZhbHNlLFxuICAgICAgLyogRGVmYXVsdCB0b29sdGlwIGJveCBwb3NpdGlvbiAqL1xuICAgICAgdG9vbHRpcFBvc2l0aW9uOiAnYm90dG9tJyxcbiAgICAgIC8qIE5leHQgQ1NTIGNsYXNzIGZvciB0b29sdGlwIGJveGVzICovXG4gICAgICB0b29sdGlwQ2xhc3M6ICcnLFxuICAgICAgLyogQ1NTIGNsYXNzIHRoYXQgaXMgYWRkZWQgdG8gdGhlIGhlbHBlckxheWVyICovXG4gICAgICBoaWdobGlnaHRDbGFzczogJycsXG4gICAgICAvKiBDbG9zZSBpbnRyb2R1Y3Rpb24gd2hlbiBwcmVzc2luZyBFc2NhcGUgYnV0dG9uPyAqL1xuICAgICAgZXhpdE9uRXNjOiB0cnVlLFxuICAgICAgLyogQ2xvc2UgaW50cm9kdWN0aW9uIHdoZW4gY2xpY2tpbmcgb24gb3ZlcmxheSBsYXllcj8gKi9cbiAgICAgIGV4aXRPbk92ZXJsYXlDbGljazogdHJ1ZSxcbiAgICAgIC8qIFNob3cgc3RlcCBudW1iZXJzIGluIGludHJvZHVjdGlvbj8gKi9cbiAgICAgIHNob3dTdGVwTnVtYmVyczogdHJ1ZSxcbiAgICAgIC8qIExldCB1c2VyIHVzZSBrZXlib2FyZCB0byBuYXZpZ2F0ZSB0aGUgdG91cj8gKi9cbiAgICAgIGtleWJvYXJkTmF2aWdhdGlvbjogdHJ1ZSxcbiAgICAgIC8qIFNob3cgdG91ciBjb250cm9sIGJ1dHRvbnM/ICovXG4gICAgICBzaG93QnV0dG9uczogdHJ1ZSxcbiAgICAgIC8qIFNob3cgdG91ciBidWxsZXRzPyAqL1xuICAgICAgc2hvd0J1bGxldHM6IHRydWUsXG4gICAgICAvKiBTaG93IHRvdXIgcHJvZ3Jlc3M/ICovXG4gICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLFxuICAgICAgLyogU2Nyb2xsIHRvIGhpZ2hsaWdodGVkIGVsZW1lbnQ/ICovXG4gICAgICBzY3JvbGxUb0VsZW1lbnQ6IHRydWUsXG4gICAgICAvKlxuICAgICAgICogU2hvdWxkIHdlIHNjcm9sbCB0aGUgdG9vbHRpcCBvciB0YXJnZXQgZWxlbWVudD9cbiAgICAgICAqXG4gICAgICAgKiBPcHRpb25zIGFyZTogJ2VsZW1lbnQnIG9yICd0b29sdGlwJ1xuICAgICAgICovXG4gICAgICBzY3JvbGxUbzogJ2VsZW1lbnQnLFxuICAgICAgLyogUGFkZGluZyB0byBhZGQgYWZ0ZXIgc2Nyb2xsaW5nIHdoZW4gZWxlbWVudCBpcyBub3QgaW4gdGhlIHZpZXdwb3J0IChpbiBwaXhlbHMpICovXG4gICAgICBzY3JvbGxQYWRkaW5nOiAzMCxcbiAgICAgIC8qIFNldCB0aGUgb3ZlcmxheSBvcGFjaXR5ICovXG4gICAgICBvdmVybGF5T3BhY2l0eTogMC44LFxuICAgICAgLyogUHJlY2VkZW5jZSBvZiBwb3NpdGlvbnMsIHdoZW4gYXV0byBpcyBlbmFibGVkICovXG4gICAgICBwb3NpdGlvblByZWNlZGVuY2U6IFtcImJvdHRvbVwiLCBcInRvcFwiLCBcInJpZ2h0XCIsIFwibGVmdFwiXSxcbiAgICAgIC8qIERpc2FibGUgYW4gaW50ZXJhY3Rpb24gd2l0aCBlbGVtZW50PyAqL1xuICAgICAgZGlzYWJsZUludGVyYWN0aW9uOiBmYWxzZSxcbiAgICAgIC8qIFNldCBob3cgbXVjaCBwYWRkaW5nIHRvIGJlIHVzZWQgYXJvdW5kIGhlbHBlciBlbGVtZW50ICovXG4gICAgICBoZWxwZXJFbGVtZW50UGFkZGluZzogMTAsXG4gICAgICAvKiBEZWZhdWx0IGhpbnQgcG9zaXRpb24gKi9cbiAgICAgIGhpbnRQb3NpdGlvbjogJ3RvcC1taWRkbGUnLFxuICAgICAgLyogSGludCBidXR0b24gbGFiZWwgKi9cbiAgICAgIGhpbnRCdXR0b25MYWJlbDogJ0dvdCBpdCcsXG4gICAgICAvKiBBZGRpbmcgYW5pbWF0aW9uIHRvIGhpbnRzPyAqL1xuICAgICAgaGludEFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgIC8qIGFkZGl0aW9uYWwgY2xhc3NlcyB0byBwdXQgb24gdGhlIGJ1dHRvbnMgKi9cbiAgICAgIGJ1dHRvbkNsYXNzOiBcImludHJvanMtYnV0dG9uXCIsXG4gICAgICAvKiBjaGFuZ2UgcG9zaXRpb24ncyBiZWhhdmlvciBvbiBtZWRpYSBpZiBuZWVkXG4gICAgICBtb2JpbGUgZmlyc3Qgb3JpZW50ZWRcbiAgICAgICovXG4gICAgICBtZWRpYTogW1xuICAgICAgICB7XG4gICAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgICAgIHBvaW50OiA3NjgsXG4gICAgICAgICAgcG9zaXRpb25zOiB7XG4gICAgICAgICAgICBcInRvcC1taWRkbGUtYWxpZ25lZFwiOiBcInRvcC1taWRkbGUtYWxpZ25lZFwiLFxuICAgICAgICAgICAgXCJ0b3AtcmlnaHQtYWxpZ25lZFwiOiBcInRvcC1yaWdodC1hbGlnbmVkXCIsXG4gICAgICAgICAgICBcInRvcC1sZWZ0LWFsaWduZWRcIjogXCJ0b3AtbGVmdC1hbGlnbmVkXCIsXG4gICAgICAgICAgICBcImJvdHRvbS1taWRkbGUtYWxpZ25lZFwiOiBcInRvcC1taWRkbGUtYWxpZ25lZFwiLFxuICAgICAgICAgICAgXCJib3R0b20tcmlnaHQtYWxpZ25lZFwiOiBcInRvcC1yaWdodC1hbGlnbmVkXCIsXG4gICAgICAgICAgICBcImJvdHRvbS1sZWZ0LWFsaWduZWRcIjogXCJ0b3AtbGVmdC1hbGlnbmVkXCIsXG4gICAgICAgICAgICBcInRvcFwiOiBcInRvcFwiLFxuICAgICAgICAgICAgXCJsZWZ0XCI6IFwibGVmdFwiLFxuICAgICAgICAgICAgXCJyaWdodFwiOiBcInJpZ2h0XCIsXG4gICAgICAgICAgICBcImJvdHRvbVwiOiBcInRvcFwiLFxuICAgICAgICAgICAgXCJmbG9hdGluZ1wiOiBcImZsb2F0aW5nXCJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlIGEgbmV3IGludHJvZHVjdGlvbi9ndWlkZSBmcm9tIGFuIGVsZW1lbnQgaW4gdGhlIHBhZ2VcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX2ludHJvRm9yRWxlbWVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0RWxtXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBncm91cFxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gU3VjY2VzcyBvciBub3Q/XG4gICAqL1xuICBmdW5jdGlvbiBfaW50cm9Gb3JFbGVtZW50KHRhcmdldEVsbSwgZ3JvdXApIHtcblxuICAgIHZhciBib2R5RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcbiAgICBpZiAoYm9keUVsKSB7XG4gICAgICBib2R5RWwuY2xhc3NMaXN0LmFkZChcImRpc2FibGUtb3ZlcmZsb3cteFwiKTtcbiAgICB9XG5cbiAgICB2YXIgYWxsSW50cm9TdGVwcyA9IHRhcmdldEVsbS5xdWVyeVNlbGVjdG9yQWxsKFwiKltkYXRhLWludHJvXVwiKSxcbiAgICAgICAgaW50cm9JdGVtcyA9IFtdO1xuXG4gICAgaWYgKHRoaXMuX29wdGlvbnMuc3RlcHMpIHtcbiAgICAgIC8vdXNlIHN0ZXBzIHBhc3NlZCBwcm9ncmFtbWF0aWNhbGx5XG4gICAgICBfZm9yRWFjaCh0aGlzLl9vcHRpb25zLnN0ZXBzLCBmdW5jdGlvbiAoc3RlcCkge1xuICAgICAgICB2YXIgY3VycmVudEl0ZW0gPSBfY2xvbmVPYmplY3Qoc3RlcCk7XG5cbiAgICAgICAgLy9zZXQgdGhlIHN0ZXBcbiAgICAgICAgY3VycmVudEl0ZW0uc3RlcCA9IGludHJvSXRlbXMubGVuZ3RoICsgMTtcblxuICAgICAgICAvL3VzZSBxdWVyeVNlbGVjdG9yIGZ1bmN0aW9uIG9ubHkgd2hlbiBkZXZlbG9wZXIgdXNlZCBDU1Mgc2VsZWN0b3JcbiAgICAgICAgaWYgKHR5cGVvZiAoY3VycmVudEl0ZW0uZWxlbWVudCkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgLy9ncmFiIHRoZSBlbGVtZW50IHdpdGggZ2l2ZW4gc2VsZWN0b3IgZnJvbSB0aGUgcGFnZVxuICAgICAgICAgIGN1cnJlbnRJdGVtLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGN1cnJlbnRJdGVtLmVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9pbnRybyB3aXRob3V0IGVsZW1lbnRcbiAgICAgICAgaWYgKHR5cGVvZiAoY3VycmVudEl0ZW0uZWxlbWVudCkgPT09ICd1bmRlZmluZWQnIHx8IGN1cnJlbnRJdGVtLmVsZW1lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICB2YXIgZmxvYXRpbmdFbGVtZW50UXVlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmludHJvanNGbG9hdGluZ0VsZW1lbnRcIik7XG5cbiAgICAgICAgICBpZiAoZmxvYXRpbmdFbGVtZW50UXVlcnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGZsb2F0aW5nRWxlbWVudFF1ZXJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBmbG9hdGluZ0VsZW1lbnRRdWVyeS5jbGFzc05hbWUgPSAnaW50cm9qc0Zsb2F0aW5nRWxlbWVudCc7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZmxvYXRpbmdFbGVtZW50UXVlcnkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGN1cnJlbnRJdGVtLmVsZW1lbnQgID0gZmxvYXRpbmdFbGVtZW50UXVlcnk7XG4gICAgICAgICAgY3VycmVudEl0ZW0ucG9zaXRpb24gPSAnZmxvYXRpbmcnO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudEl0ZW0uc2Nyb2xsVG8gPSBjdXJyZW50SXRlbS5zY3JvbGxUbyB8fCB0aGlzLl9vcHRpb25zLnNjcm9sbFRvO1xuXG4gICAgICAgIGlmICh0eXBlb2YgKGN1cnJlbnRJdGVtLmRpc2FibGVJbnRlcmFjdGlvbikgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY3VycmVudEl0ZW0uZGlzYWJsZUludGVyYWN0aW9uID0gdGhpcy5fb3B0aW9ucy5kaXNhYmxlSW50ZXJhY3Rpb247XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VycmVudEl0ZW0uZWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgIGludHJvSXRlbXMucHVzaChjdXJyZW50SXRlbSk7XG4gICAgICAgIH0gICAgICAgIFxuICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAvL3VzZSBzdGVwcyBmcm9tIGRhdGEtKiBhbm5vdGF0aW9uc1xuICAgICAgdmFyIGVsbXNMZW5ndGggPSBhbGxJbnRyb1N0ZXBzLmxlbmd0aDtcbiAgICAgIHZhciBkaXNhYmxlSW50ZXJhY3Rpb247XG4gICAgICBcbiAgICAgIC8vaWYgdGhlcmUncyBubyBlbGVtZW50IHRvIGludHJvXG4gICAgICBpZiAoZWxtc0xlbmd0aCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBfZm9yRWFjaChhbGxJbnRyb1N0ZXBzLCBmdW5jdGlvbiAoY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgXG4gICAgICAgIC8vIFBSICM4MFxuICAgICAgICAvLyBzdGFydCBpbnRybyBmb3IgZ3JvdXBzIG9mIGVsZW1lbnRzXG4gICAgICAgIGlmIChncm91cCAmJiAoY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbnRyby1ncm91cFwiKSAhPT0gZ3JvdXApKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2tpcCBoaWRkZW4gZWxlbWVudHNcbiAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGVwID0gcGFyc2VJbnQoY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXN0ZXAnKSwgMTApO1xuXG4gICAgICAgIGlmICh0eXBlb2YgKGN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kaXNhYmxlLWludGVyYWN0aW9uJykpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGRpc2FibGVJbnRlcmFjdGlvbiA9ICEhY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRpc2FibGUtaW50ZXJhY3Rpb24nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaXNhYmxlSW50ZXJhY3Rpb24gPSB0aGlzLl9vcHRpb25zLmRpc2FibGVJbnRlcmFjdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGVwID4gMCkge1xuICAgICAgICAgIGludHJvSXRlbXNbc3RlcCAtIDFdID0ge1xuICAgICAgICAgICAgZWxlbWVudDogY3VycmVudEVsZW1lbnQsXG4gICAgICAgICAgICBpbnRybzogY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWludHJvJyksXG4gICAgICAgICAgICBzdGVwOiBwYXJzZUludChjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RlcCcpLCAxMCksXG4gICAgICAgICAgICB0b29sdGlwQ2xhc3M6IGN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwY2xhc3MnKSxcbiAgICAgICAgICAgIGhpZ2hsaWdodENsYXNzOiBjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGlnaGxpZ2h0Y2xhc3MnKSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcG9zaXRpb24nKSB8fCB0aGlzLl9vcHRpb25zLnRvb2x0aXBQb3NpdGlvbixcbiAgICAgICAgICAgIHNjcm9sbFRvOiBjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsdG8nKSB8fCB0aGlzLl9vcHRpb25zLnNjcm9sbFRvLFxuICAgICAgICAgICAgZGlzYWJsZUludGVyYWN0aW9uOiBkaXNhYmxlSW50ZXJhY3Rpb25cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAvL25leHQgYWRkIGludHJvIGl0ZW1zIHdpdGhvdXQgZGF0YS1zdGVwXG4gICAgICAvL3RvZG86IHdlIG5lZWQgYSBjbGVhbnVwIGhlcmUsIHR3byBsb29wcyBhcmUgcmVkdW5kYW50XG4gICAgICB2YXIgbmV4dFN0ZXAgPSAwO1xuXG4gICAgICBfZm9yRWFjaChhbGxJbnRyb1N0ZXBzLCBmdW5jdGlvbiAoY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgXG4gICAgICAgIC8vIFBSICM4MFxuICAgICAgICAvLyBzdGFydCBpbnRybyBmb3IgZ3JvdXBzIG9mIGVsZW1lbnRzXG4gICAgICAgIGlmIChncm91cCAmJiAoY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbnRyby1ncm91cFwiKSAhPT0gZ3JvdXApKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXN0ZXAnKSA9PT0gbnVsbCkge1xuXG4gICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW50cm9JdGVtc1tuZXh0U3RlcF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV4dFN0ZXArKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IFxuXG4gICAgICAgICAgaWYgKHR5cGVvZiAoY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWRpc2FibGUtaW50ZXJhY3Rpb24nKSkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBkaXNhYmxlSW50ZXJhY3Rpb24gPSAhIWN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kaXNhYmxlLWludGVyYWN0aW9uJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpc2FibGVJbnRlcmFjdGlvbiA9IHRoaXMuX29wdGlvbnMuZGlzYWJsZUludGVyYWN0aW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGludHJvSXRlbXNbbmV4dFN0ZXBdID0ge1xuICAgICAgICAgICAgZWxlbWVudDogY3VycmVudEVsZW1lbnQsXG4gICAgICAgICAgICBpbnRybzogY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWludHJvJyksXG4gICAgICAgICAgICBzdGVwOiBuZXh0U3RlcCArIDEsXG4gICAgICAgICAgICB0b29sdGlwQ2xhc3M6IGN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwY2xhc3MnKSxcbiAgICAgICAgICAgIGhpZ2hsaWdodENsYXNzOiBjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGlnaGxpZ2h0Y2xhc3MnKSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcG9zaXRpb24nKSB8fCB0aGlzLl9vcHRpb25zLnRvb2x0aXBQb3NpdGlvbixcbiAgICAgICAgICAgIHNjcm9sbFRvOiBjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2Nyb2xsdG8nKSB8fCB0aGlzLl9vcHRpb25zLnNjcm9sbFRvLFxuICAgICAgICAgICAgZGlzYWJsZUludGVyYWN0aW9uOiBkaXNhYmxlSW50ZXJhY3Rpb25cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIC8vcmVtb3ZpbmcgdW5kZWZpbmVkL251bGwgZWxlbWVudHNcbiAgICB2YXIgdGVtcEludHJvSXRlbXMgPSBbXTtcbiAgICBmb3IgKHZhciB6ID0gMDsgeiA8IGludHJvSXRlbXMubGVuZ3RoOyB6KyspIHtcbiAgICAgIGlmIChpbnRyb0l0ZW1zW3pdKSB7XG4gICAgICAgIC8vIGNvcHkgbm9uLWZhbHN5IHZhbHVlcyB0byB0aGUgZW5kIG9mIHRoZSBhcnJheVxuICAgICAgICB0ZW1wSW50cm9JdGVtcy5wdXNoKGludHJvSXRlbXNbel0pOyAgXG4gICAgICB9IFxuICAgIH1cblxuICAgIGludHJvSXRlbXMgPSB0ZW1wSW50cm9JdGVtcztcblxuICAgIC8vT2ssIHNvcnQgYWxsIGl0ZW1zIHdpdGggZ2l2ZW4gc3RlcHNcbiAgICBpbnRyb0l0ZW1zLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLnN0ZXAgLSBiLnN0ZXA7XG4gICAgfSk7XG5cbiAgICAvL3NldCBpdCB0byB0aGUgaW50cm9KcyBvYmplY3RcbiAgICB0aGlzLl9pbnRyb0l0ZW1zID0gaW50cm9JdGVtcztcblxuICAgIC8vYWRkIG92ZXJsYXkgbGF5ZXIgdG8gdGhlIHBhZ2VcbiAgICBpZihfYWRkT3ZlcmxheUxheWVyLmNhbGwodGhpcywgdGFyZ2V0RWxtKSkge1xuICAgICAgLy90aGVuLCBzdGFydCB0aGUgc2hvd1xuICAgICAgX25leHRTdGVwLmNhbGwodGhpcyk7XG5cbiAgICAgIGlmICh0aGlzLl9vcHRpb25zLmtleWJvYXJkTmF2aWdhdGlvbikge1xuICAgICAgICBET01FdmVudC5vbih3aW5kb3csICdrZXlkb3duJywgX29uS2V5RG93biwgdGhpcywgdHJ1ZSk7XG4gICAgICB9XG4gICAgICAvL2ZvciB3aW5kb3cgcmVzaXplXG4gICAgICBET01FdmVudC5vbih3aW5kb3csICdyZXNpemUnLCBfb25SZXNpemUsIHRoaXMsIHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBfb25SZXNpemUgKCkge1xuICAgIHRoaXMucmVmcmVzaC5jYWxsKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICogb24ga2V5Q29kZTpcbiAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvS2V5Ym9hcmRFdmVudC9rZXlDb2RlXG4gICogVGhpcyBmZWF0dXJlIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgV2ViIHN0YW5kYXJkcy5cbiAgKiBUaG91Z2ggc29tZSBicm93c2VycyBtYXkgc3RpbGwgc3VwcG9ydCBpdCwgaXQgaXMgaW5cbiAgKiB0aGUgcHJvY2VzcyBvZiBiZWluZyBkcm9wcGVkLlxuICAqIEluc3RlYWQsIHlvdSBzaG91bGQgdXNlIEtleWJvYXJkRXZlbnQuY29kZSxcbiAgKiBpZiBpdCdzIGltcGxlbWVudGVkLlxuICAqXG4gICogalF1ZXJ5J3MgYXBwcm9hY2ggaXMgdG8gdGVzdCBmb3JcbiAgKiAgICgxKSBlLndoaWNoLCB0aGVuXG4gICogICAoMikgZS5jaGFyQ29kZSwgdGhlblxuICAqICAgKDMpIGUua2V5Q29kZVxuICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L2Jsb2IvYTZiMDcwNTI5NGQzMzZhZTJmNjNmNzI3NmRlMGRhMTE5NTQ5NTM2My9zcmMvZXZlbnQuanMjTDYzOFxuICAqXG4gICogQHBhcmFtIHR5cGUgdmFyXG4gICogQHJldHVybiB0eXBlXG4gICovXG4gIGZ1bmN0aW9uIF9vbktleURvd24gKGUpIHtcbiAgICB2YXIgY29kZSA9IChlLmNvZGUgPT09IG51bGwpID8gZS53aGljaCA6IGUuY29kZTtcblxuICAgIC8vIGlmIGNvZGUvZS53aGljaCBpcyBudWxsXG4gICAgaWYgKGNvZGUgPT09IG51bGwpIHtcbiAgICAgIGNvZGUgPSAoZS5jaGFyQ29kZSA9PT0gbnVsbCkgPyBlLmtleUNvZGUgOiBlLmNoYXJDb2RlO1xuICAgIH1cbiAgICBcbiAgICBpZiAoKGNvZGUgPT09ICdFc2NhcGUnIHx8IGNvZGUgPT09IDI3KSAmJiB0aGlzLl9vcHRpb25zLmV4aXRPbkVzYyA9PT0gdHJ1ZSkge1xuICAgICAgLy9lc2NhcGUga2V5IHByZXNzZWQsIGV4aXQgdGhlIGludHJvXG4gICAgICAvL2NoZWNrIGlmIGV4aXQgY2FsbGJhY2sgaXMgZGVmaW5lZFxuICAgICAgX2V4aXRJbnRyby5jYWxsKHRoaXMsIHRoaXMuX3RhcmdldEVsZW1lbnQpO1xuICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gJ0Fycm93TGVmdCcgfHwgY29kZSA9PT0gMzcpIHtcbiAgICAgIC8vbGVmdCBhcnJvd1xuICAgICAgX3ByZXZpb3VzU3RlcC5jYWxsKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gJ0Fycm93UmlnaHQnIHx8IGNvZGUgPT09IDM5KSB7XG4gICAgICAvL3JpZ2h0IGFycm93XG4gICAgICBfbmV4dFN0ZXAuY2FsbCh0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGNvZGUgPT09ICdFbnRlcicgfHwgY29kZSA9PT0gMTMpIHtcbiAgICAgIC8vc3JjRWxlbWVudCA9PT0gaWVcbiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XG4gICAgICBpZiAodGFyZ2V0ICYmIHRhcmdldC5jbGFzc05hbWUubWF0Y2goJ2ludHJvanMtcHJldmJ1dHRvbicpKSB7XG4gICAgICAgIC8vdXNlciBoaXQgZW50ZXIgd2hpbGUgZm9jdXNpbmcgb24gcHJldmlvdXMgYnV0dG9uXG4gICAgICAgIF9wcmV2aW91c1N0ZXAuY2FsbCh0aGlzKTtcbiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ICYmIHRhcmdldC5jbGFzc05hbWUubWF0Y2goJ2ludHJvanMtc2tpcGJ1dHRvbicpKSB7XG4gICAgICAgIC8vdXNlciBoaXQgZW50ZXIgd2hpbGUgZm9jdXNpbmcgb24gc2tpcCBidXR0b25cbiAgICAgICAgaWYgKHRoaXMuX2ludHJvSXRlbXMubGVuZ3RoIC0gMSA9PT0gdGhpcy5fY3VycmVudFN0ZXAgJiYgdHlwZW9mICh0aGlzLl9pbnRyb0NvbXBsZXRlQ2FsbGJhY2spID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnRyb0NvbXBsZXRlQ2FsbGJhY2suY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9leGl0SW50cm8uY2FsbCh0aGlzLCB0aGlzLl90YXJnZXRFbGVtZW50KTtcbiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ICYmIHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RlcG51bWJlcicpKSB7XG4gICAgICAgIC8vIHVzZXIgaGl0IGVudGVyIHdoaWxlIGZvY3VzaW5nIG9uIHN0ZXAgYnVsbGV0XG4gICAgICAgIHRhcmdldC5jbGljaygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9kZWZhdWx0IGJlaGF2aW9yIGZvciByZXNwb25kaW5nIHRvIGVudGVyXG4gICAgICAgIF9uZXh0U3RlcC5jYWxsKHRoaXMpO1xuICAgICAgfVxuXG4gICAgICAvL3ByZXZlbnQgZGVmYXVsdCBiZWhhdmlvdXIgb24gaGl0dGluZyBFbnRlciwgdG8gcHJldmVudCBzdGVwcyBiZWluZyBza2lwcGVkIGluIHNvbWUgYnJvd3NlcnNcbiAgICAgIGlmKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gLypcbiAgICogbWFrZXMgYSBjb3B5IG9mIHRoZSBvYmplY3RcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX2Nsb25lT2JqZWN0XG4gICovXG4gIGZ1bmN0aW9uIF9jbG9uZU9iamVjdChvYmplY3QpIHtcbiAgICAgIGlmIChvYmplY3QgPT09IG51bGwgfHwgdHlwZW9mIChvYmplY3QpICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgKG9iamVjdC5ub2RlVHlwZSkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9XG4gICAgICB2YXIgdGVtcCA9IHt9O1xuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAodHlwZW9mKHdpbmRvdy5qUXVlcnkpICE9PSAndW5kZWZpbmVkJyAmJiBvYmplY3Rba2V5XSBpbnN0YW5jZW9mIHdpbmRvdy5qUXVlcnkpIHtcbiAgICAgICAgICB0ZW1wW2tleV0gPSBvYmplY3Rba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wW2tleV0gPSBfY2xvbmVPYmplY3Qob2JqZWN0W2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGVtcDtcbiAgfVxuICAvKipcbiAgICogR28gdG8gc3BlY2lmaWMgc3RlcCBvZiBpbnRyb2R1Y3Rpb25cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX2dvVG9TdGVwXG4gICAqL1xuICBmdW5jdGlvbiBfZ29Ub1N0ZXAoc3RlcCkge1xuICAgIC8vYmVjYXVzZSBzdGVwcyBzdGFydHMgd2l0aCB6ZXJvXG4gICAgdGhpcy5fY3VycmVudFN0ZXAgPSBzdGVwIC0gMjtcbiAgICBpZiAodHlwZW9mICh0aGlzLl9pbnRyb0l0ZW1zKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIF9uZXh0U3RlcC5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHbyB0byB0aGUgc3BlY2lmaWMgc3RlcCBvZiBpbnRyb2R1Y3Rpb24gd2l0aCB0aGUgZXhwbGljaXQgW2RhdGEtc3RlcF0gbnVtYmVyXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9nb1RvU3RlcE51bWJlclxuICAgKi9cbiAgZnVuY3Rpb24gX2dvVG9TdGVwTnVtYmVyKHN0ZXApIHtcbiAgICB0aGlzLl9jdXJyZW50U3RlcE51bWJlciA9IHN0ZXA7XG4gICAgaWYgKHR5cGVvZiAodGhpcy5faW50cm9JdGVtcykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBfbmV4dFN0ZXAuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR28gdG8gbmV4dCBzdGVwIG9uIGludHJvXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9uZXh0U3RlcFxuICAgKi9cbiAgZnVuY3Rpb24gX25leHRTdGVwKCkge1xuICAgIHRoaXMuX2RpcmVjdGlvbiA9ICdmb3J3YXJkJztcblxuICAgIGlmICh0eXBlb2YgKHRoaXMuX2N1cnJlbnRTdGVwTnVtYmVyKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIF9mb3JFYWNoKHRoaXMuX2ludHJvSXRlbXMsIGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgIGlmKCBpdGVtLnN0ZXAgPT09IHRoaXMuX2N1cnJlbnRTdGVwTnVtYmVyICkge1xuICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdGVwID0gaSAtIDE7XG4gICAgICAgICAgdGhpcy5fY3VycmVudFN0ZXBOdW1iZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiAodGhpcy5fY3VycmVudFN0ZXApID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5fY3VycmVudFN0ZXAgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICArK3RoaXMuX2N1cnJlbnRTdGVwO1xuICAgIH1cblxuICAgIHZhciBuZXh0U3RlcCA9IHRoaXMuX2ludHJvSXRlbXNbdGhpcy5fY3VycmVudFN0ZXBdO1xuICAgIHZhciBjb250aW51ZVN0ZXAgPSB0cnVlO1xuXG4gICAgaWYgKHR5cGVvZiAodGhpcy5faW50cm9CZWZvcmVDaGFuZ2VDYWxsYmFjaykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb250aW51ZVN0ZXAgPSB0aGlzLl9pbnRyb0JlZm9yZUNoYW5nZUNhbGxiYWNrLmNhbGwodGhpcywgbmV4dFN0ZXAuZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLy8gaWYgYG9uYmVmb3JlY2hhbmdlYCByZXR1cm5lZCBgZmFsc2VgLCBzdG9wIGRpc3BsYXlpbmcgdGhlIGVsZW1lbnRcbiAgICBpZiAoY29udGludWVTdGVwID09PSBmYWxzZSkge1xuICAgICAgLS10aGlzLl9jdXJyZW50U3RlcDtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoKHRoaXMuX2ludHJvSXRlbXMubGVuZ3RoKSA8PSB0aGlzLl9jdXJyZW50U3RlcCkge1xuICAgICAgLy9lbmQgb2YgdGhlIGludHJvXG4gICAgICAvL2NoZWNrIGlmIGFueSBjYWxsYmFjayBpcyBkZWZpbmVkXG4gICAgICBpZiAodHlwZW9mICh0aGlzLl9pbnRyb0NvbXBsZXRlQ2FsbGJhY2spID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX2ludHJvQ29tcGxldGVDYWxsYmFjay5jYWxsKHRoaXMpO1xuICAgICAgfVxuICAgICAgX2V4aXRJbnRyby5jYWxsKHRoaXMsIHRoaXMuX3RhcmdldEVsZW1lbnQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIF9zaG93RWxlbWVudC5jYWxsKHRoaXMsIG5leHRTdGVwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHbyB0byBwcmV2aW91cyBzdGVwIG9uIGludHJvXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9wcmV2aW91c1N0ZXBcbiAgICovXG4gIGZ1bmN0aW9uIF9wcmV2aW91c1N0ZXAoKSB7XG4gICAgdGhpcy5fZGlyZWN0aW9uID0gJ2JhY2t3YXJkJztcblxuICAgIGlmICh0aGlzLl9jdXJyZW50U3RlcCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC0tdGhpcy5fY3VycmVudFN0ZXA7XG5cbiAgICB2YXIgbmV4dFN0ZXAgPSB0aGlzLl9pbnRyb0l0ZW1zW3RoaXMuX2N1cnJlbnRTdGVwXTtcbiAgICB2YXIgY29udGludWVTdGVwID0gdHJ1ZTtcblxuICAgIGlmICh0eXBlb2YgKHRoaXMuX2ludHJvQmVmb3JlQ2hhbmdlQ2FsbGJhY2spICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29udGludWVTdGVwID0gdGhpcy5faW50cm9CZWZvcmVDaGFuZ2VDYWxsYmFjay5jYWxsKHRoaXMsIG5leHRTdGVwLmVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8vIGlmIGBvbmJlZm9yZWNoYW5nZWAgcmV0dXJuZWQgYGZhbHNlYCwgc3RvcCBkaXNwbGF5aW5nIHRoZSBlbGVtZW50XG4gICAgaWYgKGNvbnRpbnVlU3RlcCA9PT0gZmFsc2UpIHtcbiAgICAgICsrdGhpcy5fY3VycmVudFN0ZXA7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX3Nob3dFbGVtZW50LmNhbGwodGhpcywgbmV4dFN0ZXApO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBwbGFjZW1lbnQgb2YgdGhlIGludHJvIG9iamVjdHMgb24gdGhlIHNjcmVlblxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIF9yZWZyZXNoKCkge1xuICAgIC8vIHJlLWFsaWduIGludHJvc1xuICAgIF9zZXRIZWxwZXJMYXllclBvc2l0aW9uLmNhbGwodGhpcywgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvanMtaGVscGVyTGF5ZXInKSk7XG4gICAgX3NldEhlbHBlckxheWVyUG9zaXRpb24uY2FsbCh0aGlzLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy10b29sdGlwUmVmZXJlbmNlTGF5ZXInKSk7XG4gICAgX3NldEhlbHBlckxheWVyUG9zaXRpb24uY2FsbCh0aGlzLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy1kaXNhYmxlSW50ZXJhY3Rpb24nKSk7XG5cbiAgICAvLyByZS1hbGlnbiB0b29sdGlwXG4gICAgaWYodGhpcy5fY3VycmVudFN0ZXAgIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9jdXJyZW50U3RlcCAhPT0gbnVsbCkge1xuICAgICAgdmFyIG9sZEhlbHBlck51bWJlckxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvanMtaGVscGVyTnVtYmVyTGF5ZXInKSxcbiAgICAgICAgb2xkQXJyb3dMYXllciAgICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy1hcnJvdycpLFxuICAgICAgICBvbGR0b29sdGlwQ29udGFpbmVyICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLXRvb2x0aXAnKTtcbiAgICAgIF9wbGFjZVRvb2x0aXAuY2FsbCh0aGlzLCB0aGlzLl9pbnRyb0l0ZW1zW3RoaXMuX2N1cnJlbnRTdGVwXS5lbGVtZW50LCBvbGR0b29sdGlwQ29udGFpbmVyLCBvbGRBcnJvd0xheWVyLCBvbGRIZWxwZXJOdW1iZXJMYXllcik7XG4gICAgfVxuXG4gICAgLy9yZS1hbGlnbiBoaW50c1xuICAgIF9yZUFsaWduSGludHMuY2FsbCh0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGl0IGZyb20gaW50cm9cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX2V4aXRJbnRyb1xuICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0RWxlbWVudFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZvcmNlIC0gU2V0dGluZyB0byBgdHJ1ZWAgd2lsbCBza2lwIHRoZSByZXN1bHQgb2YgYmVmb3JlRXhpdCBjYWxsYmFja1xuICAgKi9cbiAgZnVuY3Rpb24gX2V4aXRJbnRybyh0YXJnZXRFbGVtZW50LCBmb3JjZSkge1xuICAgIHZhciBjb250aW51ZUV4aXQgPSB0cnVlO1xuXG4gICAgLy8gY2FsbGluZyBvbmJlZm9yZWV4aXQgY2FsbGJhY2tcbiAgICAvL1xuICAgIC8vIElmIHRoaXMgY2FsbGJhY2sgcmV0dXJuIGBmYWxzZWAsIGl0IHdvdWxkIGhhbHQgdGhlIHByb2Nlc3NcbiAgICBpZiAodGhpcy5faW50cm9CZWZvcmVFeGl0Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udGludWVFeGl0ID0gdGhpcy5faW50cm9CZWZvcmVFeGl0Q2FsbGJhY2suY2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICAvLyBza2lwIHRoaXMgY2hlY2sgaWYgYGZvcmNlYCBwYXJhbWV0ZXIgaXMgYHRydWVgXG4gICAgLy8gb3RoZXJ3aXNlLCBpZiBgb25iZWZvcmVleGl0YCByZXR1cm5lZCBgZmFsc2VgLCBkb24ndCBleGl0IHRoZSBpbnRyb1xuICAgIGlmICghZm9yY2UgJiYgY29udGludWVFeGl0ID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgLy9yZW1vdmUgb3ZlcmxheSBsYXllcnMgZnJvbSB0aGUgcGFnZVxuICAgIHZhciBvdmVybGF5TGF5ZXJzID0gdGFyZ2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW50cm9qcy1vdmVybGF5Jyk7XG5cbiAgICBpZiAob3ZlcmxheUxheWVycyAmJiBvdmVybGF5TGF5ZXJzLmxlbmd0aCkge1xuICAgICAgX2ZvckVhY2gob3ZlcmxheUxheWVycywgZnVuY3Rpb24gKG92ZXJsYXlMYXllcikge1xuICAgICAgICBvdmVybGF5TGF5ZXIuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAodGhpcy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LmJpbmQob3ZlcmxheUxheWVyKSwgNTAwKTtcbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgLy9yZW1vdmUgYWxsIGhlbHBlciBsYXllcnNcbiAgICB2YXIgaGVscGVyTGF5ZXIgPSB0YXJnZXRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLWhlbHBlckxheWVyJyk7XG4gICAgaWYgKGhlbHBlckxheWVyKSB7XG4gICAgICBoZWxwZXJMYXllci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGhlbHBlckxheWVyKTtcbiAgICB9XG5cbiAgICB2YXIgcmVmZXJlbmNlTGF5ZXIgPSB0YXJnZXRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLXRvb2x0aXBSZWZlcmVuY2VMYXllcicpO1xuICAgIGlmIChyZWZlcmVuY2VMYXllcikge1xuICAgICAgcmVmZXJlbmNlTGF5ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyZWZlcmVuY2VMYXllcik7XG4gICAgfVxuXG4gICAgLy9yZW1vdmUgZGlzYWJsZUludGVyYWN0aW9uTGF5ZXJcbiAgICB2YXIgZGlzYWJsZUludGVyYWN0aW9uTGF5ZXIgPSB0YXJnZXRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLWRpc2FibGVJbnRlcmFjdGlvbicpO1xuICAgIGlmIChkaXNhYmxlSW50ZXJhY3Rpb25MYXllcikge1xuICAgICAgZGlzYWJsZUludGVyYWN0aW9uTGF5ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXNhYmxlSW50ZXJhY3Rpb25MYXllcik7XG4gICAgfVxuXG4gICAgLy9yZW1vdmUgaW50cm8gZmxvYXRpbmcgZWxlbWVudFxuICAgIHZhciBmbG9hdGluZ0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm9qc0Zsb2F0aW5nRWxlbWVudCcpO1xuICAgIGlmIChmbG9hdGluZ0VsZW1lbnQpIHtcbiAgICAgIGZsb2F0aW5nRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGZsb2F0aW5nRWxlbWVudCk7XG4gICAgfVxuXG4gICAgX3JlbW92ZVNob3dFbGVtZW50KCk7XG5cbiAgICAvL3JlbW92ZSBgaW50cm9qcy1maXhQYXJlbnRgIGNsYXNzIGZyb20gdGhlIGVsZW1lbnRzXG4gICAgdmFyIGZpeFBhcmVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW50cm9qcy1maXhQYXJlbnQnKTtcbiAgICBfZm9yRWFjaChmaXhQYXJlbnRzLCBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICBfcmVtb3ZlQ2xhc3MocGFyZW50LCAvaW50cm9qcy1maXhQYXJlbnQvZyk7XG4gICAgfSk7XG5cbiAgICAvL2NsZWFuIGxpc3RlbmVyc1xuICAgIERPTUV2ZW50Lm9mZih3aW5kb3csICdrZXlkb3duJywgX29uS2V5RG93biwgdGhpcywgdHJ1ZSk7XG4gICAgRE9NRXZlbnQub2ZmKHdpbmRvdywgJ3Jlc2l6ZScsIF9vblJlc2l6ZSwgdGhpcywgdHJ1ZSk7XG5cbiAgICAvL2NoZWNrIGlmIGFueSBjYWxsYmFjayBpcyBkZWZpbmVkXG4gICAgaWYgKHRoaXMuX2ludHJvRXhpdENhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX2ludHJvRXhpdENhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgLy9zZXQgdGhlIHN0ZXAgdG8gemVyb1xuICAgIHRoaXMuX2N1cnJlbnRTdGVwID0gdW5kZWZpbmVkO1xuXG4gICAgdmFyIGJvZHlFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuICAgIGlmIChib2R5RWwpIHtcbiAgICAgIGJvZHlFbC5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZS1vdmVyZmxvdy14XCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgdG9vbHRpcCBib3ggaW4gdGhlIHBhZ2VcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX3BsYWNlVG9vbHRpcFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXRFbGVtZW50XG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRvb2x0aXBMYXllclxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBhcnJvd0xheWVyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGhlbHBlck51bWJlckxheWVyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaGludE1vZGVcbiAgICovXG4gIGZ1bmN0aW9uIF9wbGFjZVRvb2x0aXAodGFyZ2V0RWxlbWVudCwgdG9vbHRpcExheWVyLCBhcnJvd0xheWVyLCBoZWxwZXJOdW1iZXJMYXllciwgaGludE1vZGUpIHtcbiAgICB2YXIgdG9vbHRpcENzc0NsYXNzID0gJycsXG4gICAgICAgIGN1cnJlbnRTdGVwT2JqLFxuICAgICAgICB0b29sdGlwT2Zmc2V0LFxuICAgICAgICB0YXJnZXRPZmZzZXQsXG4gICAgICAgIHdpbmRvd1NpemUsXG4gICAgICAgIGN1cnJlbnRUb29sdGlwUG9zaXRpb247XG5cbiAgICBoaW50TW9kZSA9IGhpbnRNb2RlIHx8IGZhbHNlO1xuXG4gICAgLy9yZXNldCB0aGUgb2xkIHN0eWxlXG4gICAgdG9vbHRpcExheWVyLnN0eWxlLnRvcCAgICAgICAgPSBudWxsO1xuICAgIHRvb2x0aXBMYXllci5zdHlsZS5yaWdodCAgICAgID0gbnVsbDtcbiAgICB0b29sdGlwTGF5ZXIuc3R5bGUuYm90dG9tICAgICA9IG51bGw7XG4gICAgdG9vbHRpcExheWVyLnN0eWxlLmxlZnQgICAgICAgPSBudWxsO1xuICAgIHRvb2x0aXBMYXllci5zdHlsZS5tYXJnaW5MZWZ0ID0gbnVsbDtcbiAgICB0b29sdGlwTGF5ZXIuc3R5bGUubWFyZ2luVG9wICA9IG51bGw7XG5cbiAgICBhcnJvd0xheWVyLnN0eWxlLmRpc3BsYXkgPSAnaW5oZXJpdCc7XG5cbiAgICBpZiAodHlwZW9mKGhlbHBlck51bWJlckxheWVyKSAhPT0gJ3VuZGVmaW5lZCcgJiYgaGVscGVyTnVtYmVyTGF5ZXIgIT09IG51bGwpIHtcbiAgICAgIGhlbHBlck51bWJlckxheWVyLnN0eWxlLnRvcCAgPSBudWxsO1xuICAgICAgaGVscGVyTnVtYmVyTGF5ZXIuc3R5bGUubGVmdCA9IG51bGw7XG4gICAgfVxuXG4gICAgLy9wcmV2ZW50IGVycm9yIHdoZW4gYHRoaXMuX2N1cnJlbnRTdGVwYCBpcyB1bmRlZmluZWRcbiAgICBpZiAoIXRoaXMuX2ludHJvSXRlbXNbdGhpcy5fY3VycmVudFN0ZXBdKSByZXR1cm47XG5cbiAgICAvL2lmIHdlIGhhdmUgYSBjdXN0b20gY3NzIGNsYXNzIGZvciBlYWNoIHN0ZXBcbiAgICBjdXJyZW50U3RlcE9iaiA9IHRoaXMuX2ludHJvSXRlbXNbdGhpcy5fY3VycmVudFN0ZXBdO1xuICAgIGlmICh0eXBlb2YgKGN1cnJlbnRTdGVwT2JqLnRvb2x0aXBDbGFzcykgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0b29sdGlwQ3NzQ2xhc3MgPSBjdXJyZW50U3RlcE9iai50b29sdGlwQ2xhc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvb2x0aXBDc3NDbGFzcyA9IHRoaXMuX29wdGlvbnMudG9vbHRpcENsYXNzO1xuICAgIH1cblxuICAgIHRvb2x0aXBMYXllci5jbGFzc05hbWUgPSAoJ2ludHJvanMtdG9vbHRpcCAnICsgdG9vbHRpcENzc0NsYXNzKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gICAgdG9vbHRpcExheWVyLnNldEF0dHJpYnV0ZSgncm9sZScsICdkaWFsb2cnKTtcblxuICAgIGN1cnJlbnRUb29sdGlwUG9zaXRpb24gPSB0aGlzLl9pbnRyb0l0ZW1zW3RoaXMuX2N1cnJlbnRTdGVwXS5wb3NpdGlvbjtcblxuICAgIC8vIEZsb2F0aW5nIGlzIGFsd2F5cyB2YWxpZCwgbm8gcG9pbnQgaW4gY2FsY3VsYXRpbmdcbiAgICBpZiAoY3VycmVudFRvb2x0aXBQb3NpdGlvbiAhPT0gXCJmbG9hdGluZ1wiKSB7IFxuICAgICAgY3VycmVudFRvb2x0aXBQb3NpdGlvbiA9IF9kZXRlcm1pbmVBdXRvUG9zaXRpb24uY2FsbCh0aGlzLCB0YXJnZXRFbGVtZW50LCB0b29sdGlwTGF5ZXIsIGN1cnJlbnRUb29sdGlwUG9zaXRpb24pO1xuICAgIH1cblxuICAgIC8qIFxuICAgIGNoYW5nZSBwb3NpdGlvbidzIGJlaGF2aW9yIG9uIG1lZGlhIGlmIG5lZWRcbiAgICBtb2JpbGUgZmlyc3Qgb3JpZW50ZWRcbiAgICAqL1xuXG4gICAgdmFyIGFic0NsaWVudFdpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgIHZhciBtZWRpYSA9IHRoaXMuX29wdGlvbnMubWVkaWFcbiAgICAuZmlsdGVyKGZ1bmN0aW9uIChpKSB7cmV0dXJuIGkuYWN0aXZlICYmIGFic0NsaWVudFdpZHRoIDw9IGkucG9pbnR9KVxuICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBiLnBvaW50IC0gYS5wb2ludCB9KTtcbiAgICBcbiAgICBpZiAobWVkaWEubGVuZ3RoID4gMCkge1xuICAgICAgbWVkaWEgPSBtZWRpYVttZWRpYS5sZW5ndGggLSAxXVxuICAgICAgY3VycmVudFRvb2x0aXBQb3NpdGlvbiA9IG1lZGlhLnBvc2l0aW9uc1tjdXJyZW50VG9vbHRpcFBvc2l0aW9uXTtcbiAgICB9XG5cbiAgICB2YXIgdG9vbHRpcExheWVyU3R5bGVMZWZ0O1xuICAgIHRhcmdldE9mZnNldCAgPSBfZ2V0T2Zmc2V0KHRhcmdldEVsZW1lbnQpO1xuICAgIHRvb2x0aXBPZmZzZXQgPSBfZ2V0T2Zmc2V0KHRvb2x0aXBMYXllcik7XG4gICAgd2luZG93U2l6ZSAgICA9IF9nZXRXaW5TaXplKCk7XG5cbiAgICBfYWRkQ2xhc3ModG9vbHRpcExheWVyLCAnaW50cm9qcy0nICsgY3VycmVudFRvb2x0aXBQb3NpdGlvbik7XG5cbiAgICBzd2l0Y2ggKGN1cnJlbnRUb29sdGlwUG9zaXRpb24pIHtcbiAgICAgIGNhc2UgJ3RvcC1yaWdodC1hbGlnbmVkJzpcbiAgICAgICAgYXJyb3dMYXllci5jbGFzc05hbWUgICAgICA9ICdpbnRyb2pzLWFycm93IGJvdHRvbS1yaWdodCc7XG5cbiAgICAgICAgdmFyIHRvb2x0aXBMYXllclN0eWxlUmlnaHQgPSAwO1xuICAgICAgICBfY2hlY2tMZWZ0KHRhcmdldE9mZnNldCwgdG9vbHRpcExheWVyU3R5bGVSaWdodCwgdG9vbHRpcE9mZnNldCwgdG9vbHRpcExheWVyKTtcbiAgICAgICAgdG9vbHRpcExheWVyLnN0eWxlLmJvdHRvbSAgICA9ICh0YXJnZXRPZmZzZXQuaGVpZ2h0ICsgIDIwKSArICdweCc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd0b3AtbWlkZGxlLWFsaWduZWQnOlxuICAgICAgICBhcnJvd0xheWVyLmNsYXNzTmFtZSAgICAgID0gJ2ludHJvanMtYXJyb3cgYm90dG9tLW1pZGRsZSc7XG5cbiAgICAgICAgdmFyIHRvb2x0aXBMYXllclN0eWxlTGVmdFJpZ2h0ID0gdGFyZ2V0T2Zmc2V0LndpZHRoIC8gMiAtIHRvb2x0aXBPZmZzZXQud2lkdGggLyAyO1xuXG4gICAgICAgIC8vIGEgZml4IGZvciBtaWRkbGUgYWxpZ25lZCBoaW50c1xuICAgICAgICBpZiAoaGludE1vZGUpIHtcbiAgICAgICAgICB0b29sdGlwTGF5ZXJTdHlsZUxlZnRSaWdodCArPSA1O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9jaGVja0xlZnQodGFyZ2V0T2Zmc2V0LCB0b29sdGlwTGF5ZXJTdHlsZUxlZnRSaWdodCwgdG9vbHRpcE9mZnNldCwgdG9vbHRpcExheWVyKSkge1xuICAgICAgICAgIHRvb2x0aXBMYXllci5zdHlsZS5yaWdodCA9IG51bGw7XG4gICAgICAgICAgX2NoZWNrUmlnaHQodGFyZ2V0T2Zmc2V0LCB0b29sdGlwTGF5ZXJTdHlsZUxlZnRSaWdodCwgdG9vbHRpcE9mZnNldCwgd2luZG93U2l6ZSwgdG9vbHRpcExheWVyKTtcbiAgICAgICAgfVxuICAgICAgICB0b29sdGlwTGF5ZXIuc3R5bGUuYm90dG9tID0gKHRhcmdldE9mZnNldC5oZWlnaHQgKyAyMCkgKyAncHgnO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndG9wLWxlZnQtYWxpZ25lZCc6XG4gICAgICAvLyB0b3AtbGVmdC1hbGlnbmVkIGlzIHRoZSBzYW1lIGFzIHRoZSBkZWZhdWx0IHRvcFxuICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgYXJyb3dMYXllci5jbGFzc05hbWUgPSAnaW50cm9qcy1hcnJvdyBib3R0b20nO1xuXG4gICAgICAgIHRvb2x0aXBMYXllclN0eWxlTGVmdCA9IChoaW50TW9kZSkgPyAwIDogMTU7XG5cbiAgICAgICAgX2NoZWNrUmlnaHQodGFyZ2V0T2Zmc2V0LCB0b29sdGlwTGF5ZXJTdHlsZUxlZnQsIHRvb2x0aXBPZmZzZXQsIHdpbmRvd1NpemUsIHRvb2x0aXBMYXllcik7XG4gICAgICAgIHRvb2x0aXBMYXllci5zdHlsZS5ib3R0b20gPSAodGFyZ2V0T2Zmc2V0LmhlaWdodCArICAyMCkgKyAncHgnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgdG9vbHRpcExheWVyLnN0eWxlLmxlZnQgPSAodGFyZ2V0T2Zmc2V0LndpZHRoICsgMjApICsgJ3B4JztcbiAgICAgICAgaWYgKHRhcmdldE9mZnNldC50b3AgKyB0b29sdGlwT2Zmc2V0LmhlaWdodCA+IHdpbmRvd1NpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgLy8gSW4gdGhpcyBjYXNlLCByaWdodCB3b3VsZCBoYXZlIGZhbGxlbiBiZWxvdyB0aGUgYm90dG9tIG9mIHRoZSBzY3JlZW4uXG4gICAgICAgICAgLy8gTW9kaWZ5IHNvIHRoYXQgdGhlIGJvdHRvbSBvZiB0aGUgdG9vbHRpcCBjb25uZWN0cyB3aXRoIHRoZSB0YXJnZXRcbiAgICAgICAgICBhcnJvd0xheWVyLmNsYXNzTmFtZSA9IFwiaW50cm9qcy1hcnJvdyBsZWZ0LWJvdHRvbVwiO1xuICAgICAgICAgIHRvb2x0aXBMYXllci5zdHlsZS50b3AgPSBcIi1cIiArICh0b29sdGlwT2Zmc2V0LmhlaWdodCAtIHRhcmdldE9mZnNldC5oZWlnaHQgLSAyMCkgKyBcInB4XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXJyb3dMYXllci5jbGFzc05hbWUgPSAnaW50cm9qcy1hcnJvdyBsZWZ0JztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICBpZiAoIWhpbnRNb2RlICYmIHRoaXMuX29wdGlvbnMuc2hvd1N0ZXBOdW1iZXJzID09PSB0cnVlKSB7XG4gICAgICAgICAgdG9vbHRpcExheWVyLnN0eWxlLnRvcCA9ICcxNXB4JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRPZmZzZXQudG9wICsgdG9vbHRpcE9mZnNldC5oZWlnaHQgPiB3aW5kb3dTaXplLmhlaWdodCkge1xuICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSwgbGVmdCB3b3VsZCBoYXZlIGZhbGxlbiBiZWxvdyB0aGUgYm90dG9tIG9mIHRoZSBzY3JlZW4uXG4gICAgICAgICAgLy8gTW9kaWZ5IHNvIHRoYXQgdGhlIGJvdHRvbSBvZiB0aGUgdG9vbHRpcCBjb25uZWN0cyB3aXRoIHRoZSB0YXJnZXRcbiAgICAgICAgICB0b29sdGlwTGF5ZXIuc3R5bGUudG9wID0gXCItXCIgKyAodG9vbHRpcE9mZnNldC5oZWlnaHQgLSB0YXJnZXRPZmZzZXQuaGVpZ2h0IC0gMjApICsgXCJweFwiO1xuICAgICAgICAgIGFycm93TGF5ZXIuY2xhc3NOYW1lID0gJ2ludHJvanMtYXJyb3cgcmlnaHQtYm90dG9tJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcnJvd0xheWVyLmNsYXNzTmFtZSA9ICdpbnRyb2pzLWFycm93IHJpZ2h0JztcbiAgICAgICAgfVxuICAgICAgICB0b29sdGlwTGF5ZXIuc3R5bGUucmlnaHQgPSAodGFyZ2V0T2Zmc2V0LndpZHRoICsgMjApICsgJ3B4JztcblxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Zsb2F0aW5nJzpcbiAgICAgICAgYXJyb3dMYXllci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIC8vd2UgaGF2ZSB0byBhZGp1c3QgdGhlIHRvcCBhbmQgbGVmdCBvZiBsYXllciBtYW51YWxseSBmb3IgaW50cm8gaXRlbXMgd2l0aG91dCBlbGVtZW50XG4gICAgICAgIHRvb2x0aXBMYXllci5zdHlsZS5sZWZ0ICAgPSAnNTAlJztcbiAgICAgICAgdG9vbHRpcExheWVyLnN0eWxlLnRvcCAgICA9ICc1MCUnO1xuICAgICAgICB0b29sdGlwTGF5ZXIuc3R5bGUubWFyZ2luTGVmdCA9ICctJyArICh0b29sdGlwT2Zmc2V0LndpZHRoIC8gMikgICsgJ3B4JztcbiAgICAgICAgdG9vbHRpcExheWVyLnN0eWxlLm1hcmdpblRvcCAgPSAnLScgKyAodG9vbHRpcE9mZnNldC5oZWlnaHQgLyAyKSArICdweCc7XG5cbiAgICAgICAgaWYgKHR5cGVvZihoZWxwZXJOdW1iZXJMYXllcikgIT09ICd1bmRlZmluZWQnICYmIGhlbHBlck51bWJlckxheWVyICE9PSBudWxsKSB7XG4gICAgICAgICAgaGVscGVyTnVtYmVyTGF5ZXIuc3R5bGUubGVmdCA9ICctJyArICgodG9vbHRpcE9mZnNldC53aWR0aCAvIDIpICsgMTgpICsgJ3B4JztcbiAgICAgICAgICBoZWxwZXJOdW1iZXJMYXllci5zdHlsZS50b3AgID0gJy0nICsgKCh0b29sdGlwT2Zmc2V0LmhlaWdodCAvIDIpICsgMTgpICsgJ3B4JztcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYm90dG9tLXJpZ2h0LWFsaWduZWQnOlxuICAgICAgICBhcnJvd0xheWVyLmNsYXNzTmFtZSAgICAgID0gJ2ludHJvanMtYXJyb3cgdG9wLXJpZ2h0JztcblxuICAgICAgICB0b29sdGlwTGF5ZXJTdHlsZVJpZ2h0ID0gMDtcbiAgICAgICAgX2NoZWNrTGVmdCh0YXJnZXRPZmZzZXQsIHRvb2x0aXBMYXllclN0eWxlUmlnaHQsIHRvb2x0aXBPZmZzZXQsIHRvb2x0aXBMYXllcik7XG4gICAgICAgIHRvb2x0aXBMYXllci5zdHlsZS50b3AgICAgPSAodGFyZ2V0T2Zmc2V0LmhlaWdodCArICAyMCkgKyAncHgnO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnYm90dG9tLW1pZGRsZS1hbGlnbmVkJzpcbiAgICAgICAgYXJyb3dMYXllci5jbGFzc05hbWUgICAgICA9ICdpbnRyb2pzLWFycm93IHRvcC1taWRkbGUnO1xuXG4gICAgICAgIHRvb2x0aXBMYXllclN0eWxlTGVmdFJpZ2h0ID0gdGFyZ2V0T2Zmc2V0LndpZHRoIC8gMiAtIHRvb2x0aXBPZmZzZXQud2lkdGggLyAyO1xuXG4gICAgICAgIC8vIGEgZml4IGZvciBtaWRkbGUgYWxpZ25lZCBoaW50c1xuICAgICAgICBpZiAoaGludE1vZGUpIHtcbiAgICAgICAgICB0b29sdGlwTGF5ZXJTdHlsZUxlZnRSaWdodCArPSA1O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9jaGVja0xlZnQodGFyZ2V0T2Zmc2V0LCB0b29sdGlwTGF5ZXJTdHlsZUxlZnRSaWdodCwgdG9vbHRpcE9mZnNldCwgdG9vbHRpcExheWVyKSkge1xuICAgICAgICAgIHRvb2x0aXBMYXllci5zdHlsZS5yaWdodCA9IG51bGw7XG4gICAgICAgICAgX2NoZWNrUmlnaHQodGFyZ2V0T2Zmc2V0LCB0b29sdGlwTGF5ZXJTdHlsZUxlZnRSaWdodCwgdG9vbHRpcE9mZnNldCwgd2luZG93U2l6ZSwgdG9vbHRpcExheWVyKTtcbiAgICAgICAgfVxuICAgICAgICB0b29sdGlwTGF5ZXIuc3R5bGUudG9wID0gKHRhcmdldE9mZnNldC5oZWlnaHQgKyAyMCkgKyAncHgnO1xuICAgICAgICBicmVhaztcblxuICAgICAgLy8gY2FzZSAnYm90dG9tLWxlZnQtYWxpZ25lZCc6XG4gICAgICAvLyBCb3R0b20tbGVmdC1hbGlnbmVkIGlzIHRoZSBzYW1lIGFzIHRoZSBkZWZhdWx0IGJvdHRvbVxuICAgICAgLy8gY2FzZSAnYm90dG9tJzpcbiAgICAgIC8vIEJvdHRvbSBnb2luZyB0byBmb2xsb3cgdGhlIGRlZmF1bHQgYmVoYXZpb3JcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFycm93TGF5ZXIuY2xhc3NOYW1lID0gJ2ludHJvanMtYXJyb3cgdG9wJztcblxuICAgICAgICB0b29sdGlwTGF5ZXJTdHlsZUxlZnQgPSAwO1xuICAgICAgICBfY2hlY2tSaWdodCh0YXJnZXRPZmZzZXQsIHRvb2x0aXBMYXllclN0eWxlTGVmdCwgdG9vbHRpcE9mZnNldCwgd2luZG93U2l6ZSwgdG9vbHRpcExheWVyKTtcbiAgICAgICAgdG9vbHRpcExheWVyLnN0eWxlLnRvcCAgICA9ICh0YXJnZXRPZmZzZXQuaGVpZ2h0ICsgIDIwKSArICdweCc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0b29sdGlwIGxlZnQgc28gaXQgZG9lc24ndCBnbyBvZmYgdGhlIHJpZ2h0IHNpZGUgb2YgdGhlIHdpbmRvd1xuICAgKlxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSwgaWYgdG9vbHRpcExheWVyU3R5bGVMZWZ0IGlzIG9rLiAgZmFsc2UsIG90aGVyd2lzZS5cbiAgICovXG4gIGZ1bmN0aW9uIF9jaGVja1JpZ2h0KHRhcmdldE9mZnNldCwgdG9vbHRpcExheWVyU3R5bGVMZWZ0LCB0b29sdGlwT2Zmc2V0LCB3aW5kb3dTaXplLCB0b29sdGlwTGF5ZXIpIHtcbiAgICBpZiAodGFyZ2V0T2Zmc2V0LmxlZnQgKyB0b29sdGlwTGF5ZXJTdHlsZUxlZnQgKyB0b29sdGlwT2Zmc2V0LndpZHRoID4gd2luZG93U2l6ZS53aWR0aCkge1xuICAgICAgLy8gb2ZmIHRoZSByaWdodCBzaWRlIG9mIHRoZSB3aW5kb3dcbiAgICAgIHRvb2x0aXBMYXllci5zdHlsZS5sZWZ0ID0gKHdpbmRvd1NpemUud2lkdGggLSB0b29sdGlwT2Zmc2V0LndpZHRoIC0gdGFyZ2V0T2Zmc2V0LmxlZnQpICsgJ3B4JztcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdG9vbHRpcExheWVyLnN0eWxlLmxlZnQgPSB0b29sdGlwTGF5ZXJTdHlsZUxlZnQgKyAncHgnO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0b29sdGlwIHJpZ2h0IHNvIGl0IGRvZXNuJ3QgZ28gb2ZmIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIHdpbmRvd1xuICAgKlxuICAgKiBAcmV0dXJuIGJvb2xlYW4gdHJ1ZSwgaWYgdG9vbHRpcExheWVyU3R5bGVSaWdodCBpcyBvay4gIGZhbHNlLCBvdGhlcndpc2UuXG4gICAqL1xuICBmdW5jdGlvbiBfY2hlY2tMZWZ0KHRhcmdldE9mZnNldCwgdG9vbHRpcExheWVyU3R5bGVSaWdodCwgdG9vbHRpcE9mZnNldCwgdG9vbHRpcExheWVyKSB7XG4gICAgaWYgKHRhcmdldE9mZnNldC5sZWZ0ICsgdGFyZ2V0T2Zmc2V0LndpZHRoIC0gdG9vbHRpcExheWVyU3R5bGVSaWdodCAtIHRvb2x0aXBPZmZzZXQud2lkdGggPCAwKSB7XG4gICAgICAvLyBvZmYgdGhlIGxlZnQgc2lkZSBvZiB0aGUgd2luZG93XG4gICAgICB0b29sdGlwTGF5ZXIuc3R5bGUubGVmdCA9ICgtdGFyZ2V0T2Zmc2V0LmxlZnQpICsgJ3B4JztcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdG9vbHRpcExheWVyLnN0eWxlLnJpZ2h0ID0gdG9vbHRpcExheWVyU3R5bGVSaWdodCArICdweCc7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgcG9zaXRpb24gb2YgdGhlIHRvb2x0aXAgYmFzZWQgb24gdGhlIHBvc2l0aW9uIHByZWNlZGVuY2UgYW5kIGF2YWlsYWJpbGl0eVxuICAgKiBvZiBzY3JlZW4gc3BhY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICB0YXJnZXRFbGVtZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICB0b29sdGlwTGF5ZXJcbiAgICogQHBhcmFtIHtTdHJpbmd9ICAgIGRlc2lyZWRUb29sdGlwUG9zaXRpb25cbiAgICogQHJldHVybiB7U3RyaW5nfSAgIGNhbGN1bGF0ZWRQb3NpdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gX2RldGVybWluZUF1dG9Qb3NpdGlvbih0YXJnZXRFbGVtZW50LCB0b29sdGlwTGF5ZXIsIGRlc2lyZWRUb29sdGlwUG9zaXRpb24pIHtcblxuICAgIC8vIFRha2UgYSBjbG9uZSBvZiBwb3NpdGlvbiBwcmVjZWRlbmNlLiBUaGVzZSB3aWxsIGJlIHRoZSBhdmFpbGFibGVcbiAgICB2YXIgcG9zc2libGVQb3NpdGlvbnMgPSB0aGlzLl9vcHRpb25zLnBvc2l0aW9uUHJlY2VkZW5jZS5zbGljZSgpO1xuXG4gICAgdmFyIHdpbmRvd1NpemUgPSBfZ2V0V2luU2l6ZSgpO1xuICAgIHZhciB0b29sdGlwSGVpZ2h0ID0gX2dldE9mZnNldCh0b29sdGlwTGF5ZXIpLmhlaWdodCArIDEwO1xuICAgIHZhciB0b29sdGlwV2lkdGggPSBfZ2V0T2Zmc2V0KHRvb2x0aXBMYXllcikud2lkdGggKyAyMDtcbiAgICB2YXIgdGFyZ2V0RWxlbWVudFJlY3QgPSB0YXJnZXRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgLy8gSWYgd2UgY2hlY2sgYWxsIHRoZSBwb3NzaWJsZSBhcmVhcywgYW5kIHRoZXJlIGFyZSBubyB2YWxpZCBwbGFjZXMgZm9yIHRoZSB0b29sdGlwLCB0aGUgZWxlbWVudFxuICAgIC8vIG11c3QgdGFrZSB1cCBtb3N0IG9mIHRoZSBzY3JlZW4gcmVhbCBlc3RhdGUuIFNob3cgdGhlIHRvb2x0aXAgZmxvYXRpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgc2NyZWVuLlxuICAgIHZhciBjYWxjdWxhdGVkUG9zaXRpb24gPSBcImZsb2F0aW5nXCI7XG5cbiAgICAvKlxuICAgICogYXV0byBkZXRlcm1pbmUgcG9zaXRpb24gXG4gICAgKi9cblxuICAgIC8vIENoZWNrIGZvciBzcGFjZSBiZWxvd1xuICAgIGlmICh0YXJnZXRFbGVtZW50UmVjdC5ib3R0b20gKyB0b29sdGlwSGVpZ2h0ID4gd2luZG93U2l6ZS5oZWlnaHQpIHtcbiAgICAgIF9yZW1vdmVFbnRyeShwb3NzaWJsZVBvc2l0aW9ucywgXCJib3R0b21cIik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIHNwYWNlIGFib3ZlXG4gICAgaWYgKHRhcmdldEVsZW1lbnRSZWN0LnRvcCAtIHRvb2x0aXBIZWlnaHQgPCAwKSB7XG4gICAgICBfcmVtb3ZlRW50cnkocG9zc2libGVQb3NpdGlvbnMsIFwidG9wXCIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBzcGFjZSB0byB0aGUgcmlnaHRcbiAgICBpZiAodGFyZ2V0RWxlbWVudFJlY3QucmlnaHQgKyB0b29sdGlwV2lkdGggPiB3aW5kb3dTaXplLndpZHRoKSB7XG4gICAgICBfcmVtb3ZlRW50cnkocG9zc2libGVQb3NpdGlvbnMsIFwicmlnaHRcIik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIHNwYWNlIHRvIHRoZSBsZWZ0XG4gICAgaWYgKHRhcmdldEVsZW1lbnRSZWN0LmxlZnQgLSB0b29sdGlwV2lkdGggPCAwKSB7XG4gICAgICBfcmVtb3ZlRW50cnkocG9zc2libGVQb3NpdGlvbnMsIFwibGVmdFwiKTtcbiAgICB9XG5cbiAgICAvLyBAdmFyIHtTdHJpbmd9ICBleDogJ3JpZ2h0LWFsaWduZWQnXG4gICAgdmFyIGRlc2lyZWRBbGlnbm1lbnQgPSAoZnVuY3Rpb24gKHBvcykge1xuICAgICAgdmFyIGh5cGhlbkluZGV4ID0gcG9zLmluZGV4T2YoJy0nKTtcbiAgICAgIGlmIChoeXBoZW5JbmRleCAhPT0gLTEpIHtcbiAgICAgICAgLy8gaGFzIGFsaWdubWVudFxuICAgICAgICByZXR1cm4gcG9zLnN1YnN0cihoeXBoZW5JbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSkoZGVzaXJlZFRvb2x0aXBQb3NpdGlvbiB8fCAnJyk7XG5cbiAgICAvLyBzdHJpcCBhbGlnbm1lbnQgZnJvbSBwb3NpdGlvblxuICAgIGlmIChkZXNpcmVkVG9vbHRpcFBvc2l0aW9uKSB7XG4gICAgICAvLyBleDogXCJib3R0b20tcmlnaHQtYWxpZ25lZFwiXG4gICAgICAvLyBzaG91bGQgcmV0dXJuICdib3R0b20nXG4gICAgICBkZXNpcmVkVG9vbHRpcFBvc2l0aW9uID0gZGVzaXJlZFRvb2x0aXBQb3NpdGlvbi5zcGxpdCgnLScpWzBdO1xuICAgIH1cblxuICAgIGlmIChwb3NzaWJsZVBvc2l0aW9ucy5sZW5ndGgpIHtcbiAgICAgIGlmIChkZXNpcmVkVG9vbHRpcFBvc2l0aW9uICE9PSBcImF1dG9cIiAmJlxuICAgICAgICAgIHBvc3NpYmxlUG9zaXRpb25zLmluZGV4T2YoZGVzaXJlZFRvb2x0aXBQb3NpdGlvbikgPiAtMSkge1xuICAgICAgICAvLyBJZiB0aGUgcmVxdWVzdGVkIHBvc2l0aW9uIGlzIGluIHRoZSBsaXN0LCBjaG9vc2UgdGhhdFxuICAgICAgICBjYWxjdWxhdGVkUG9zaXRpb24gPSBkZXNpcmVkVG9vbHRpcFBvc2l0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUGljayB0aGUgZmlyc3QgdmFsaWQgcG9zaXRpb24sIGluIG9yZGVyXG4gICAgICAgIGNhbGN1bGF0ZWRQb3NpdGlvbiA9IHBvc3NpYmxlUG9zaXRpb25zWzBdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG9ubHkgdG9wIGFuZCBib3R0b20gcG9zaXRpb25zIGhhdmUgb3B0aW9uYWwgYWxpZ25tZW50c1xuICAgIGlmIChbJ3RvcCcsICdib3R0b20nXS5pbmRleE9mKGNhbGN1bGF0ZWRQb3NpdGlvbikgIT09IC0xKSB7XG4gICAgICBjYWxjdWxhdGVkUG9zaXRpb24gKz0gX2RldGVybWluZUF1dG9BbGlnbm1lbnQodGFyZ2V0RWxlbWVudFJlY3QubGVmdCwgdG9vbHRpcFdpZHRoLCB3aW5kb3dTaXplLCBkZXNpcmVkQWxpZ25tZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FsY3VsYXRlZFBvc2l0aW9uO1xuICB9XG5cbiAgLyoqXG4gICogYXV0by1kZXRlcm1pbmUgYWxpZ25tZW50XG4gICogQHBhcmFtIHtJbnRlZ2VyfSAgb2Zmc2V0TGVmdFxuICAqIEBwYXJhbSB7SW50ZWdlcn0gIHRvb2x0aXBXaWR0aFxuICAqIEBwYXJhbSB7T2JqZWN0fSAgIHdpbmRvd1NpemVcbiAgKiBAcGFyYW0ge1N0cmluZ30gICBkZXNpcmVkQWxpZ25tZW50XG4gICogQHJldHVybiB7U3RyaW5nfSAgY2FsY3VsYXRlZEFsaWdubWVudFxuICAqL1xuICBmdW5jdGlvbiBfZGV0ZXJtaW5lQXV0b0FsaWdubWVudCAob2Zmc2V0TGVmdCwgdG9vbHRpcFdpZHRoLCB3aW5kb3dTaXplLCBkZXNpcmVkQWxpZ25tZW50KSB7XG4gICAgdmFyIGhhbGZUb29sdGlwV2lkdGggPSB0b29sdGlwV2lkdGggLyAyLFxuICAgICAgd2luV2lkdGggPSBNYXRoLm1pbih3aW5kb3dTaXplLndpZHRoLCB3aW5kb3cuc2NyZWVuLndpZHRoKSxcbiAgICAgIHBvc3NpYmxlQWxpZ25tZW50cyA9IFsnLWxlZnQtYWxpZ25lZCcsICctbWlkZGxlLWFsaWduZWQnLCAnLXJpZ2h0LWFsaWduZWQnXSxcbiAgICAgIGNhbGN1bGF0ZWRBbGlnbm1lbnQgPSAnJztcbiAgICBcbiAgICAvLyB2YWxpZCBsZWZ0IG11c3QgYmUgYXQgbGVhc3QgYSB0b29sdGlwV2lkdGhcbiAgICAvLyBhd2F5IGZyb20gcmlnaHQgc2lkZVxuICAgIGlmICh3aW5XaWR0aCAtIG9mZnNldExlZnQgPCB0b29sdGlwV2lkdGgpIHtcbiAgICAgIF9yZW1vdmVFbnRyeShwb3NzaWJsZUFsaWdubWVudHMsICctbGVmdC1hbGlnbmVkJyk7XG4gICAgfVxuXG4gICAgLy8gdmFsaWQgbWlkZGxlIG11c3QgYmUgYXQgbGVhc3QgaGFsZiBcbiAgICAvLyB3aWR0aCBhd2F5IGZyb20gYm90aCBzaWRlc1xuICAgIGlmIChvZmZzZXRMZWZ0IDwgaGFsZlRvb2x0aXBXaWR0aCB8fCBcbiAgICAgIHdpbldpZHRoIC0gb2Zmc2V0TGVmdCA8IGhhbGZUb29sdGlwV2lkdGgpIHtcbiAgICAgIF9yZW1vdmVFbnRyeShwb3NzaWJsZUFsaWdubWVudHMsICctbWlkZGxlLWFsaWduZWQnKTtcbiAgICB9XG5cbiAgICAvLyB2YWxpZCByaWdodCBtdXN0IGJlIGF0IGxlYXN0IGEgdG9vbHRpcFdpZHRoXG4gICAgLy8gd2lkdGggYXdheSBmcm9tIGxlZnQgc2lkZVxuICAgIC8vIC01MCBpcyBmaXggZm9yIDMyMHB4IHdpZHRoIG1vYmlsZVxuICAgIGlmIChvZmZzZXRMZWZ0IDwgdG9vbHRpcFdpZHRoIC0gNTApIHtcbiAgICAgIF9yZW1vdmVFbnRyeShwb3NzaWJsZUFsaWdubWVudHMsICctcmlnaHQtYWxpZ25lZCcpO1xuICAgIH1cblxuICAgIGlmIChwb3NzaWJsZUFsaWdubWVudHMubGVuZ3RoKSB7XG4gICAgICBpZiAocG9zc2libGVBbGlnbm1lbnRzLmluZGV4T2YoZGVzaXJlZEFsaWdubWVudCkgIT09IC0xKSB7XG4gICAgICAgIC8vIHRoZSBkZXNpcmVkIGFsaWdubWVudCBpcyB2YWxpZFxuICAgICAgICBjYWxjdWxhdGVkQWxpZ25tZW50ID0gZGVzaXJlZEFsaWdubWVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHBpY2sgdGhlIGZpcnN0IHZhbGlkIHBvc2l0aW9uLCBpbiBvcmRlclxuICAgICAgICBjYWxjdWxhdGVkQWxpZ25tZW50ID0gcG9zc2libGVBbGlnbm1lbnRzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiBzY3JlZW4gd2lkdGggaXMgdG9vIHNtYWxsIFxuICAgICAgLy8gZm9yIEFOWSBhbGlnbm1lbnQsIG1pZGRsZSBpcyBcbiAgICAgIC8vIHByb2JhYmx5IHRoZSBiZXN0IGZvciB2aXNpYmlsaXR5XG4gICAgICBjYWxjdWxhdGVkQWxpZ25tZW50ID0gJy1taWRkbGUtYWxpZ25lZCc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbGN1bGF0ZWRBbGlnbm1lbnQ7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGVudHJ5IGZyb20gYSBzdHJpbmcgYXJyYXkgaWYgaXQncyB0aGVyZSwgZG9lcyBub3RoaW5nIGlmIGl0IGlzbid0IHRoZXJlLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJpbmdBcnJheVxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nVG9SZW1vdmVcbiAgICovXG4gIGZ1bmN0aW9uIF9yZW1vdmVFbnRyeShzdHJpbmdBcnJheSwgc3RyaW5nVG9SZW1vdmUpIHtcbiAgICBpZiAoc3RyaW5nQXJyYXkuaW5kZXhPZihzdHJpbmdUb1JlbW92ZSkgPiAtMSkge1xuICAgICAgc3RyaW5nQXJyYXkuc3BsaWNlKHN0cmluZ0FycmF5LmluZGV4T2Yoc3RyaW5nVG9SZW1vdmUpLCAxKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgaGVscGVyIGxheWVyIG9uIHRoZSBzY3JlZW5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX3NldEhlbHBlckxheWVyUG9zaXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGhlbHBlckxheWVyXG4gICAqL1xuICBmdW5jdGlvbiBfc2V0SGVscGVyTGF5ZXJQb3NpdGlvbihoZWxwZXJMYXllcikge1xuICAgIGlmIChoZWxwZXJMYXllcikge1xuICAgICAgLy9wcmV2ZW50IGVycm9yIHdoZW4gYHRoaXMuX2N1cnJlbnRTdGVwYCBpbiB1bmRlZmluZWRcbiAgICAgIGlmICghdGhpcy5faW50cm9JdGVtc1t0aGlzLl9jdXJyZW50U3RlcF0pIHJldHVybjtcblxuICAgICAgdmFyIGN1cnJlbnRFbGVtZW50ICA9IHRoaXMuX2ludHJvSXRlbXNbdGhpcy5fY3VycmVudFN0ZXBdLFxuICAgICAgICAgIGVsZW1lbnRQb3NpdGlvbiA9IF9nZXRPZmZzZXQoY3VycmVudEVsZW1lbnQuZWxlbWVudCksXG4gICAgICAgICAgd2lkdGhIZWlnaHRQYWRkaW5nID0gdGhpcy5fb3B0aW9ucy5oZWxwZXJFbGVtZW50UGFkZGluZztcblxuICAgICAgLy8gSWYgdGhlIHRhcmdldCBlbGVtZW50IGlzIGZpeGVkLCB0aGUgdG9vbHRpcCBzaG91bGQgYmUgZml4ZWQgYXMgd2VsbC5cbiAgICAgIC8vIE90aGVyd2lzZSwgcmVtb3ZlIGEgZml4ZWQgY2xhc3MgdGhhdCBtYXkgYmUgbGVmdCBvdmVyIGZyb20gdGhlIHByZXZpb3VzXG4gICAgICAvLyBzdGVwLlxuICAgICAgaWYgKF9pc0ZpeGVkKGN1cnJlbnRFbGVtZW50LmVsZW1lbnQpKSB7XG4gICAgICAgIF9hZGRDbGFzcyhoZWxwZXJMYXllciwgJ2ludHJvanMtZml4ZWRUb29sdGlwJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfcmVtb3ZlQ2xhc3MoaGVscGVyTGF5ZXIsICdpbnRyb2pzLWZpeGVkVG9vbHRpcCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudEVsZW1lbnQucG9zaXRpb24gPT09ICdmbG9hdGluZycpIHtcbiAgICAgICAgd2lkdGhIZWlnaHRQYWRkaW5nID0gMDtcbiAgICAgIH1cblxuICAgICAgLy9zZXQgbmV3IHBvc2l0aW9uIHRvIGhlbHBlciBsYXllclxuICAgICAgaGVscGVyTGF5ZXIuc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDogJyArIChlbGVtZW50UG9zaXRpb24ud2lkdGggICsgd2lkdGhIZWlnaHRQYWRkaW5nKSAgKyAncHg7ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoZWlnaHQ6JyArIChlbGVtZW50UG9zaXRpb24uaGVpZ2h0ICsgd2lkdGhIZWlnaHRQYWRkaW5nKSAgKyAncHg7ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3A6JyAgICArIChlbGVtZW50UG9zaXRpb24udG9wICAgIC0gd2lkdGhIZWlnaHRQYWRkaW5nIC8gMikgICArICdweDsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGVmdDogJyAgKyAoZWxlbWVudFBvc2l0aW9uLmxlZnQgICAtIHdpZHRoSGVpZ2h0UGFkZGluZyAvIDIpICAgKyAncHg7JztcblxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgZGlzYWJsZWludGVyYWN0aW9uIGxheWVyIGFuZCBhZGp1c3QgdGhlIHNpemUgYW5kIHBvc2l0aW9uIG9mIHRoZSBsYXllclxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfZGlzYWJsZUludGVyYWN0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBfZGlzYWJsZUludGVyYWN0aW9uKCkge1xuICAgIHZhciBkaXNhYmxlSW50ZXJhY3Rpb25MYXllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLWRpc2FibGVJbnRlcmFjdGlvbicpO1xuXG4gICAgaWYgKGRpc2FibGVJbnRlcmFjdGlvbkxheWVyID09PSBudWxsKSB7XG4gICAgICBkaXNhYmxlSW50ZXJhY3Rpb25MYXllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZGlzYWJsZUludGVyYWN0aW9uTGF5ZXIuY2xhc3NOYW1lID0gJ2ludHJvanMtZGlzYWJsZUludGVyYWN0aW9uJztcbiAgICAgIHRoaXMuX3RhcmdldEVsZW1lbnQuYXBwZW5kQ2hpbGQoZGlzYWJsZUludGVyYWN0aW9uTGF5ZXIpO1xuICAgIH1cblxuICAgIF9zZXRIZWxwZXJMYXllclBvc2l0aW9uLmNhbGwodGhpcywgZGlzYWJsZUludGVyYWN0aW9uTGF5ZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHRpbmcgYW5jaG9ycyB0byBiZWhhdmUgbGlrZSBidXR0b25zXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9zZXRBbmNob3JBc0J1dHRvblxuICAgKi9cbiAgZnVuY3Rpb24gX3NldEFuY2hvckFzQnV0dG9uKGFuY2hvcil7XG4gICAgYW5jaG9yLnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICBhbmNob3IudGFiSW5kZXggPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgYW4gZWxlbWVudCBvbiB0aGUgcGFnZVxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfc2hvd0VsZW1lbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldEVsZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIF9zaG93RWxlbWVudCh0YXJnZXRFbGVtZW50KSB7XG4gICAgaWYgKHR5cGVvZiAodGhpcy5faW50cm9DaGFuZ2VDYWxsYmFjaykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLl9pbnRyb0NoYW5nZUNhbGxiYWNrLmNhbGwodGhpcywgdGFyZ2V0RWxlbWVudC5lbGVtZW50KTtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIG9sZEhlbHBlckxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvanMtaGVscGVyTGF5ZXInKSxcbiAgICAgICAgb2xkUmVmZXJlbmNlTGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy10b29sdGlwUmVmZXJlbmNlTGF5ZXInKSxcbiAgICAgICAgaGlnaGxpZ2h0Q2xhc3MgPSAnaW50cm9qcy1oZWxwZXJMYXllcicsXG4gICAgICAgIG5leHRUb29sdGlwQnV0dG9uLFxuICAgICAgICBwcmV2VG9vbHRpcEJ1dHRvbixcbiAgICAgICAgc2tpcFRvb2x0aXBCdXR0b24sXG4gICAgICAgIHNjcm9sbFBhcmVudDtcblxuICAgIC8vY2hlY2sgZm9yIGEgY3VycmVudCBzdGVwIGhpZ2hsaWdodCBjbGFzc1xuICAgIGlmICh0eXBlb2YgKHRhcmdldEVsZW1lbnQuaGlnaGxpZ2h0Q2xhc3MpID09PSAnc3RyaW5nJykge1xuICAgICAgaGlnaGxpZ2h0Q2xhc3MgKz0gKCcgJyArIHRhcmdldEVsZW1lbnQuaGlnaGxpZ2h0Q2xhc3MpO1xuICAgIH1cbiAgICAvL2NoZWNrIGZvciBvcHRpb25zIGhpZ2hsaWdodCBjbGFzc1xuICAgIGlmICh0eXBlb2YgKHRoaXMuX29wdGlvbnMuaGlnaGxpZ2h0Q2xhc3MpID09PSAnc3RyaW5nJykge1xuICAgICAgaGlnaGxpZ2h0Q2xhc3MgKz0gKCcgJyArIHRoaXMuX29wdGlvbnMuaGlnaGxpZ2h0Q2xhc3MpO1xuICAgIH1cblxuICAgIGlmIChvbGRIZWxwZXJMYXllciAhPT0gbnVsbCkge1xuICAgICAgdmFyIG9sZEhlbHBlck51bWJlckxheWVyID0gb2xkUmVmZXJlbmNlTGF5ZXIucXVlcnlTZWxlY3RvcignLmludHJvanMtaGVscGVyTnVtYmVyTGF5ZXInKSxcbiAgICAgICAgICBvbGR0b29sdGlwTGF5ZXIgICAgICA9IG9sZFJlZmVyZW5jZUxheWVyLnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLXRvb2x0aXB0ZXh0JyksXG4gICAgICAgICAgb2xkQXJyb3dMYXllciAgICAgICAgPSBvbGRSZWZlcmVuY2VMYXllci5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy1hcnJvdycpLFxuICAgICAgICAgIG9sZHRvb2x0aXBDb250YWluZXIgID0gb2xkUmVmZXJlbmNlTGF5ZXIucXVlcnlTZWxlY3RvcignLmludHJvanMtdG9vbHRpcCcpO1xuICAgICAgICAgIFxuICAgICAgc2tpcFRvb2x0aXBCdXR0b24gICAgPSBvbGRSZWZlcmVuY2VMYXllci5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy1za2lwYnV0dG9uJyk7XG4gICAgICBwcmV2VG9vbHRpcEJ1dHRvbiAgICA9IG9sZFJlZmVyZW5jZUxheWVyLnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLXByZXZidXR0b24nKTtcbiAgICAgIG5leHRUb29sdGlwQnV0dG9uICAgID0gb2xkUmVmZXJlbmNlTGF5ZXIucXVlcnlTZWxlY3RvcignLmludHJvanMtbmV4dGJ1dHRvbicpO1xuXG4gICAgICAvL3VwZGF0ZSBvciByZXNldCB0aGUgaGVscGVyIGhpZ2hsaWdodCBjbGFzc1xuICAgICAgb2xkSGVscGVyTGF5ZXIuY2xhc3NOYW1lID0gaGlnaGxpZ2h0Q2xhc3M7XG4gICAgICAvL2hpZGUgdGhlIHRvb2x0aXBcbiAgICAgIG9sZHRvb2x0aXBDb250YWluZXIuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICBvbGR0b29sdGlwQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgICAgc2tpcFRvb2x0aXBCdXR0b24uaW5uZXJIVE1MID0gdGhpcy5fb3B0aW9ucy5za2lwTGFiZWw7XG4gICAgICBwcmV2VG9vbHRpcEJ1dHRvbi5pbm5lckhUTUwgPSB0aGlzLl9vcHRpb25zLnByZXZMYWJlbDtcbiAgICAgIG5leHRUb29sdGlwQnV0dG9uLmlubmVySFRNTCA9IHRoaXMuX29wdGlvbnMubmV4dExhYmVsO1xuXG4gICAgICBpZiAob2xkSGVscGVyTnVtYmVyTGF5ZXIgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIGxhc3RJbnRyb0l0ZW0gPSB0aGlzLl9pbnRyb0l0ZW1zWyh0YXJnZXRFbGVtZW50LnN0ZXAgLSAyID49IDAgPyB0YXJnZXRFbGVtZW50LnN0ZXAgLSAyIDogMCldO1xuXG4gICAgICAgIGlmIChsYXN0SW50cm9JdGVtICE9PSBudWxsICYmICh0aGlzLl9kaXJlY3Rpb24gPT09ICdmb3J3YXJkJyAmJiBsYXN0SW50cm9JdGVtLnBvc2l0aW9uID09PSAnZmxvYXRpbmcnKSB8fCAodGhpcy5fZGlyZWN0aW9uID09PSAnYmFja3dhcmQnICYmIHRhcmdldEVsZW1lbnQucG9zaXRpb24gPT09ICdmbG9hdGluZycpKSB7XG4gICAgICAgICAgb2xkSGVscGVyTnVtYmVyTGF5ZXIuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gc2Nyb2xsIHRvIGVsZW1lbnRcbiAgICAgIHNjcm9sbFBhcmVudCA9IF9nZXRTY3JvbGxQYXJlbnQoIHRhcmdldEVsZW1lbnQuZWxlbWVudCApO1xuXG4gICAgICBpZiAoc2Nyb2xsUGFyZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIC8vIHRhcmdldCBpcyB3aXRoaW4gYSBzY3JvbGxhYmxlIGVsZW1lbnRcbiAgICAgICAgX3Njcm9sbFBhcmVudFRvRWxlbWVudChzY3JvbGxQYXJlbnQsIHRhcmdldEVsZW1lbnQuZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNldCBuZXcgcG9zaXRpb24gdG8gaGVscGVyIGxheWVyXG4gICAgICBfc2V0SGVscGVyTGF5ZXJQb3NpdGlvbi5jYWxsKHNlbGYsIG9sZEhlbHBlckxheWVyKTtcbiAgICAgIF9zZXRIZWxwZXJMYXllclBvc2l0aW9uLmNhbGwoc2VsZiwgb2xkUmVmZXJlbmNlTGF5ZXIpO1xuXG4gICAgICAvL3JlbW92ZSBgaW50cm9qcy1maXhQYXJlbnRgIGNsYXNzIGZyb20gdGhlIGVsZW1lbnRzXG4gICAgICB2YXIgZml4UGFyZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnRyb2pzLWZpeFBhcmVudCcpO1xuICAgICAgX2ZvckVhY2goZml4UGFyZW50cywgZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICBfcmVtb3ZlQ2xhc3MocGFyZW50LCAvaW50cm9qcy1maXhQYXJlbnQvZyk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy9yZW1vdmUgb2xkIGNsYXNzZXMgaWYgdGhlIGVsZW1lbnQgc3RpbGwgZXhpc3RcbiAgICAgIF9yZW1vdmVTaG93RWxlbWVudCgpO1xuXG4gICAgICAvL3dlIHNob3VsZCB3YWl0IHVudGlsIHRoZSBDU1MzIHRyYW5zaXRpb24gaXMgY29tcGV0ZWQgKGl0J3MgMC4zIHNlYykgdG8gcHJldmVudCBpbmNvcnJlY3QgYGhlaWdodGAgYW5kIGB3aWR0aGAgY2FsY3VsYXRpb25cbiAgICAgIGlmIChzZWxmLl9sYXN0U2hvd0VsZW1lbnRUaW1lcikge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHNlbGYuX2xhc3RTaG93RWxlbWVudFRpbWVyKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fbGFzdFNob3dFbGVtZW50VGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgLy9zZXQgY3VycmVudCBzdGVwIHRvIHRoZSBsYWJlbFxuICAgICAgICBpZiAob2xkSGVscGVyTnVtYmVyTGF5ZXIgIT09IG51bGwpIHtcbiAgICAgICAgICBvbGRIZWxwZXJOdW1iZXJMYXllci5pbm5lckhUTUwgPSB0YXJnZXRFbGVtZW50LnN0ZXA7XG4gICAgICAgIH1cbiAgICAgICAgLy9zZXQgY3VycmVudCB0b29sdGlwIHRleHRcbiAgICAgICAgb2xkdG9vbHRpcExheWVyLmlubmVySFRNTCA9IHRhcmdldEVsZW1lbnQuaW50cm87XG4gICAgICAgIC8vc2V0IHRoZSB0b29sdGlwIHBvc2l0aW9uXG4gICAgICAgIG9sZHRvb2x0aXBDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgX3BsYWNlVG9vbHRpcC5jYWxsKHNlbGYsIHRhcmdldEVsZW1lbnQuZWxlbWVudCwgb2xkdG9vbHRpcENvbnRhaW5lciwgb2xkQXJyb3dMYXllciwgb2xkSGVscGVyTnVtYmVyTGF5ZXIpO1xuXG4gICAgICAgIC8vY2hhbmdlIGFjdGl2ZSBidWxsZXRcbiAgICAgICAgaWYgKHNlbGYuX29wdGlvbnMuc2hvd0J1bGxldHMpIHtcbiAgICAgICAgICAgIG9sZFJlZmVyZW5jZUxheWVyLnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLWJ1bGxldHMgbGkgPiBhLmFjdGl2ZScpLmNsYXNzTmFtZSA9ICcnO1xuICAgICAgICAgICAgb2xkUmVmZXJlbmNlTGF5ZXIucXVlcnlTZWxlY3RvcignLmludHJvanMtYnVsbGV0cyBsaSA+IGFbZGF0YS1zdGVwbnVtYmVyPVwiJyArIHRhcmdldEVsZW1lbnQuc3RlcCArICdcIl0nKS5jbGFzc05hbWUgPSAnYWN0aXZlJztcbiAgICAgICAgfVxuICAgICAgICBvbGRSZWZlcmVuY2VMYXllci5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy1wcm9ncmVzcyAuaW50cm9qcy1wcm9ncmVzc2JhcicpLnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6JyArIF9nZXRQcm9ncmVzcy5jYWxsKHNlbGYpICsgJyU7JztcbiAgICAgICAgb2xkUmVmZXJlbmNlTGF5ZXIucXVlcnlTZWxlY3RvcignLmludHJvanMtcHJvZ3Jlc3MgLmludHJvanMtcHJvZ3Jlc3NiYXInKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVub3cnLCBfZ2V0UHJvZ3Jlc3MuY2FsbChzZWxmKSk7XG5cbiAgICAgICAgLy9zaG93IHRoZSB0b29sdGlwXG4gICAgICAgIG9sZHRvb2x0aXBDb250YWluZXIuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgIGlmIChvbGRIZWxwZXJOdW1iZXJMYXllcikgb2xkSGVscGVyTnVtYmVyTGF5ZXIuc3R5bGUub3BhY2l0eSA9IDE7XG5cbiAgICAgICAgLy9yZXNldCBidXR0b24gZm9jdXNcbiAgICAgICAgaWYgKHR5cGVvZiBza2lwVG9vbHRpcEJ1dHRvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBza2lwVG9vbHRpcEJ1dHRvbiAhPT0gbnVsbCAmJiAvaW50cm9qcy1kb25lYnV0dG9uL2dpLnRlc3Qoc2tpcFRvb2x0aXBCdXR0b24uY2xhc3NOYW1lKSkge1xuICAgICAgICAgIC8vIHNraXAgYnV0dG9uIGlzIG5vdyBcImRvbmVcIiBidXR0b25cbiAgICAgICAgICBza2lwVG9vbHRpcEJ1dHRvbi5mb2N1cygpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBuZXh0VG9vbHRpcEJ1dHRvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuZXh0VG9vbHRpcEJ1dHRvbiAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vc3RpbGwgaW4gdGhlIHRvdXIsIGZvY3VzIG9uIG5leHRcbiAgICAgICAgICBuZXh0VG9vbHRpcEJ1dHRvbi5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hhbmdlIHRoZSBzY3JvbGwgb2YgdGhlIHdpbmRvdywgaWYgbmVlZGVkXG4gICAgICAgIF9zY3JvbGxUby5jYWxsKHNlbGYsIHRhcmdldEVsZW1lbnQuc2Nyb2xsVG8sIHRhcmdldEVsZW1lbnQsIG9sZHRvb2x0aXBMYXllcik7XG4gICAgICB9LCAzNTApO1xuXG4gICAgICAvLyBlbmQgb2Ygb2xkIGVsZW1lbnQgaWYtZWxzZSBjb25kaXRpb25cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGhlbHBlckxheWVyICAgICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgcmVmZXJlbmNlTGF5ZXIgICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICBhcnJvd0xheWVyICAgICAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgIHRvb2x0aXBMYXllciAgICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgdG9vbHRpcFRleHRMYXllciAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICBidWxsZXRzTGF5ZXIgICAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgIHByb2dyZXNzTGF5ZXIgICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgYnV0dG9uc0xheWVyICAgICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgaGVscGVyTGF5ZXIuY2xhc3NOYW1lID0gaGlnaGxpZ2h0Q2xhc3M7XG4gICAgICByZWZlcmVuY2VMYXllci5jbGFzc05hbWUgPSAnaW50cm9qcy10b29sdGlwUmVmZXJlbmNlTGF5ZXInO1xuXG4gICAgICAvLyBzY3JvbGwgdG8gZWxlbWVudFxuICAgICAgc2Nyb2xsUGFyZW50ID0gX2dldFNjcm9sbFBhcmVudCggdGFyZ2V0RWxlbWVudC5lbGVtZW50ICk7XG5cbiAgICAgIGlmIChzY3JvbGxQYXJlbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgLy8gdGFyZ2V0IGlzIHdpdGhpbiBhIHNjcm9sbGFibGUgZWxlbWVudFxuICAgICAgICBfc2Nyb2xsUGFyZW50VG9FbGVtZW50KHNjcm9sbFBhcmVudCwgdGFyZ2V0RWxlbWVudC5lbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgLy9zZXQgbmV3IHBvc2l0aW9uIHRvIGhlbHBlciBsYXllclxuICAgICAgX3NldEhlbHBlckxheWVyUG9zaXRpb24uY2FsbChzZWxmLCBoZWxwZXJMYXllcik7XG4gICAgICBfc2V0SGVscGVyTGF5ZXJQb3NpdGlvbi5jYWxsKHNlbGYsIHJlZmVyZW5jZUxheWVyKTtcblxuICAgICAgLy9hZGQgaGVscGVyIGxheWVyIHRvIHRhcmdldCBlbGVtZW50XG4gICAgICB0aGlzLl90YXJnZXRFbGVtZW50LmFwcGVuZENoaWxkKGhlbHBlckxheWVyKTtcbiAgICAgIHRoaXMuX3RhcmdldEVsZW1lbnQuYXBwZW5kQ2hpbGQocmVmZXJlbmNlTGF5ZXIpO1xuXG4gICAgICBhcnJvd0xheWVyLmNsYXNzTmFtZSA9ICdpbnRyb2pzLWFycm93JztcblxuICAgICAgdG9vbHRpcFRleHRMYXllci5jbGFzc05hbWUgPSAnaW50cm9qcy10b29sdGlwdGV4dCc7XG4gICAgICB0b29sdGlwVGV4dExheWVyLmlubmVySFRNTCA9IHRhcmdldEVsZW1lbnQuaW50cm87XG5cbiAgICAgIGJ1bGxldHNMYXllci5jbGFzc05hbWUgPSAnaW50cm9qcy1idWxsZXRzJztcblxuICAgICAgaWYgKHRoaXMuX29wdGlvbnMuc2hvd0J1bGxldHMgPT09IGZhbHNlKSB7XG4gICAgICAgIGJ1bGxldHNMYXllci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuXG4gICAgICB2YXIgdWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgdWxDb250YWluZXIuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3RhYmxpc3QnKTtcblxuICAgICAgdmFyIGFuY2hvckNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNlbGYuZ29Ub1N0ZXAodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RlcG51bWJlcicpKTtcbiAgICAgIH07XG5cbiAgICAgIF9mb3JFYWNoKHRoaXMuX2ludHJvSXRlbXMsIGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgIHZhciBpbm5lckxpICAgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgdmFyIGFuY2hvckxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIFxuICAgICAgICBpbm5lckxpLnNldEF0dHJpYnV0ZSgncm9sZScsICdwcmVzZW50YXRpb24nKTtcbiAgICAgICAgYW5jaG9yTGluay5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAndGFiJyk7XG5cbiAgICAgICAgYW5jaG9yTGluay5vbmNsaWNrID0gYW5jaG9yQ2xpY2s7XG5cbiAgICAgICAgaWYgKGkgPT09ICh0YXJnZXRFbGVtZW50LnN0ZXAtMSkpIHtcbiAgICAgICAgICBhbmNob3JMaW5rLmNsYXNzTmFtZSA9ICdhY3RpdmUnO1xuICAgICAgICB9IFxuXG4gICAgICAgIF9zZXRBbmNob3JBc0J1dHRvbihhbmNob3JMaW5rKTtcbiAgICAgICAgYW5jaG9yTGluay5pbm5lckhUTUwgPSBcIiZuYnNwO1wiO1xuICAgICAgICBhbmNob3JMaW5rLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGVwbnVtYmVyJywgaXRlbS5zdGVwKTtcblxuICAgICAgICBpbm5lckxpLmFwcGVuZENoaWxkKGFuY2hvckxpbmspO1xuICAgICAgICB1bENvbnRhaW5lci5hcHBlbmRDaGlsZChpbm5lckxpKTtcbiAgICAgIH0pO1xuXG4gICAgICBidWxsZXRzTGF5ZXIuYXBwZW5kQ2hpbGQodWxDb250YWluZXIpO1xuXG4gICAgICBwcm9ncmVzc0xheWVyLmNsYXNzTmFtZSA9ICdpbnRyb2pzLXByb2dyZXNzJztcblxuICAgICAgaWYgKHRoaXMuX29wdGlvbnMuc2hvd1Byb2dyZXNzID09PSBmYWxzZSkge1xuICAgICAgICBwcm9ncmVzc0xheWVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgICB2YXIgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb2dyZXNzQmFyLmNsYXNzTmFtZSA9ICdpbnRyb2pzLXByb2dyZXNzYmFyJztcbiAgICAgIHByb2dyZXNzQmFyLnNldEF0dHJpYnV0ZSgncm9sZScsICdwcm9ncmVzcycpO1xuICAgICAgcHJvZ3Jlc3NCYXIuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWluJywgMCk7XG4gICAgICBwcm9ncmVzc0Jhci5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVtYXgnLCAxMDApO1xuICAgICAgcHJvZ3Jlc3NCYXIuc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JywgX2dldFByb2dyZXNzLmNhbGwodGhpcykpO1xuICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDonICsgX2dldFByb2dyZXNzLmNhbGwodGhpcykgKyAnJTsnO1xuXG4gICAgICBwcm9ncmVzc0xheWVyLmFwcGVuZENoaWxkKHByb2dyZXNzQmFyKTtcblxuICAgICAgYnV0dG9uc0xheWVyLmNsYXNzTmFtZSA9ICdpbnRyb2pzLXRvb2x0aXBidXR0b25zJztcbiAgICAgIGlmICh0aGlzLl9vcHRpb25zLnNob3dCdXR0b25zID09PSBmYWxzZSkge1xuICAgICAgICBidXR0b25zTGF5ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cblxuICAgICAgdG9vbHRpcExheWVyLmNsYXNzTmFtZSA9ICdpbnRyb2pzLXRvb2x0aXAnO1xuICAgICAgdG9vbHRpcExheWVyLmFwcGVuZENoaWxkKHRvb2x0aXBUZXh0TGF5ZXIpO1xuICAgICAgdG9vbHRpcExheWVyLmFwcGVuZENoaWxkKGJ1bGxldHNMYXllcik7XG4gICAgICB0b29sdGlwTGF5ZXIuYXBwZW5kQ2hpbGQocHJvZ3Jlc3NMYXllcik7XG5cbiAgICAgIC8vYWRkIGhlbHBlciBsYXllciBudW1iZXJcbiAgICAgIHZhciBoZWxwZXJOdW1iZXJMYXllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGlmICh0aGlzLl9vcHRpb25zLnNob3dTdGVwTnVtYmVycyA9PT0gdHJ1ZSkge1xuICAgICAgICBoZWxwZXJOdW1iZXJMYXllci5jbGFzc05hbWUgPSAnaW50cm9qcy1oZWxwZXJOdW1iZXJMYXllcic7XG4gICAgICAgIGhlbHBlck51bWJlckxheWVyLmlubmVySFRNTCA9IHRhcmdldEVsZW1lbnQuc3RlcDtcbiAgICAgICAgcmVmZXJlbmNlTGF5ZXIuYXBwZW5kQ2hpbGQoaGVscGVyTnVtYmVyTGF5ZXIpO1xuICAgICAgfVxuXG4gICAgICB0b29sdGlwTGF5ZXIuYXBwZW5kQ2hpbGQoYXJyb3dMYXllcik7XG4gICAgICByZWZlcmVuY2VMYXllci5hcHBlbmRDaGlsZCh0b29sdGlwTGF5ZXIpO1xuXG4gICAgICAvL25leHQgYnV0dG9uXG4gICAgICBuZXh0VG9vbHRpcEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgICAgbmV4dFRvb2x0aXBCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2VsZi5faW50cm9JdGVtcy5sZW5ndGggLSAxICE9PSBzZWxmLl9jdXJyZW50U3RlcCkge1xuICAgICAgICAgIF9uZXh0U3RlcC5jYWxsKHNlbGYpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfc2V0QW5jaG9yQXNCdXR0b24obmV4dFRvb2x0aXBCdXR0b24pO1xuICAgICAgbmV4dFRvb2x0aXBCdXR0b24uaW5uZXJIVE1MID0gdGhpcy5fb3B0aW9ucy5uZXh0TGFiZWw7XG5cbiAgICAgIC8vcHJldmlvdXMgYnV0dG9uXG4gICAgICBwcmV2VG9vbHRpcEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgICAgcHJldlRvb2x0aXBCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2VsZi5fY3VycmVudFN0ZXAgIT09IDApIHtcbiAgICAgICAgICBfcHJldmlvdXNTdGVwLmNhbGwoc2VsZik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIF9zZXRBbmNob3JBc0J1dHRvbihwcmV2VG9vbHRpcEJ1dHRvbik7XG4gICAgICBwcmV2VG9vbHRpcEJ1dHRvbi5pbm5lckhUTUwgPSB0aGlzLl9vcHRpb25zLnByZXZMYWJlbDtcblxuICAgICAgLy9za2lwIGJ1dHRvblxuICAgICAgc2tpcFRvb2x0aXBCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICBza2lwVG9vbHRpcEJ1dHRvbi5jbGFzc05hbWUgPSB0aGlzLl9vcHRpb25zLmJ1dHRvbkNsYXNzICsgJyBpbnRyb2pzLXNraXBidXR0b24gJztcbiAgICAgIF9zZXRBbmNob3JBc0J1dHRvbihza2lwVG9vbHRpcEJ1dHRvbik7XG4gICAgICBza2lwVG9vbHRpcEJ1dHRvbi5pbm5lckhUTUwgPSB0aGlzLl9vcHRpb25zLnNraXBMYWJlbDtcblxuICAgICAgc2tpcFRvb2x0aXBCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2VsZi5faW50cm9JdGVtcy5sZW5ndGggLSAxID09PSBzZWxmLl9jdXJyZW50U3RlcCAmJiB0eXBlb2YgKHNlbGYuX2ludHJvQ29tcGxldGVDYWxsYmFjaykgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBzZWxmLl9pbnRyb0NvbXBsZXRlQ2FsbGJhY2suY2FsbChzZWxmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLl9pbnRyb0l0ZW1zLmxlbmd0aCAtIDEgIT09IHNlbGYuX2N1cnJlbnRTdGVwICYmIHR5cGVvZiAoc2VsZi5faW50cm9FeGl0Q2FsbGJhY2spID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgc2VsZi5faW50cm9FeGl0Q2FsbGJhY2suY2FsbChzZWxmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Yoc2VsZi5faW50cm9Ta2lwQ2FsbGJhY2spID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgc2VsZi5faW50cm9Ta2lwQ2FsbGJhY2suY2FsbChzZWxmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9leGl0SW50cm8uY2FsbChzZWxmLCBzZWxmLl90YXJnZXRFbGVtZW50KTtcbiAgICAgIH07XG5cbiAgICAgIGJ1dHRvbnNMYXllci5hcHBlbmRDaGlsZChza2lwVG9vbHRpcEJ1dHRvbik7XG5cbiAgICAgIC8vaW4gb3JkZXIgdG8gcHJldmVudCBkaXNwbGF5aW5nIG5leHQvcHJldmlvdXMgYnV0dG9uIGFsd2F5c1xuICAgICAgaWYgKHRoaXMuX2ludHJvSXRlbXMubGVuZ3RoID4gMSkge1xuICAgICAgICBidXR0b25zTGF5ZXIuYXBwZW5kQ2hpbGQocHJldlRvb2x0aXBCdXR0b24pO1xuICAgICAgICBidXR0b25zTGF5ZXIuYXBwZW5kQ2hpbGQobmV4dFRvb2x0aXBCdXR0b24pO1xuICAgICAgfVxuXG4gICAgICB0b29sdGlwTGF5ZXIuYXBwZW5kQ2hpbGQoYnV0dG9uc0xheWVyKTtcblxuICAgICAgLy9zZXQgcHJvcGVyIHBvc2l0aW9uXG4gICAgICBfcGxhY2VUb29sdGlwLmNhbGwoc2VsZiwgdGFyZ2V0RWxlbWVudC5lbGVtZW50LCB0b29sdGlwTGF5ZXIsIGFycm93TGF5ZXIsIGhlbHBlck51bWJlckxheWVyKTtcblxuICAgICAgLy8gY2hhbmdlIHRoZSBzY3JvbGwgb2YgdGhlIHdpbmRvdywgaWYgbmVlZGVkXG4gICAgICBfc2Nyb2xsVG8uY2FsbCh0aGlzLCB0YXJnZXRFbGVtZW50LnNjcm9sbFRvLCB0YXJnZXRFbGVtZW50LCB0b29sdGlwTGF5ZXIpO1xuXG4gICAgICAvL2VuZCBvZiBuZXcgZWxlbWVudCBpZi1lbHNlIGNvbmRpdGlvblxuICAgIH1cblxuICAgIC8vIHJlbW92aW5nIHByZXZpb3VzIGRpc2FibGUgaW50ZXJhY3Rpb24gbGF5ZXJcbiAgICB2YXIgZGlzYWJsZUludGVyYWN0aW9uTGF5ZXIgPSBzZWxmLl90YXJnZXRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnRyb2pzLWRpc2FibGVJbnRlcmFjdGlvbicpO1xuICAgIGlmIChkaXNhYmxlSW50ZXJhY3Rpb25MYXllcikge1xuICAgICAgZGlzYWJsZUludGVyYWN0aW9uTGF5ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXNhYmxlSW50ZXJhY3Rpb25MYXllcik7XG4gICAgfVxuXG4gICAgLy9kaXNhYmxlIGludGVyYWN0aW9uXG4gICAgaWYgKHRhcmdldEVsZW1lbnQuZGlzYWJsZUludGVyYWN0aW9uKSB7XG4gICAgICBfZGlzYWJsZUludGVyYWN0aW9uLmNhbGwoc2VsZik7XG4gICAgfVxuXG4gICAgLy8gd2hlbiBpdCdzIHRoZSBmaXJzdCBzdGVwIG9mIHRvdXJcbiAgICBpZiAodGhpcy5fY3VycmVudFN0ZXAgPT09IDAgJiYgdGhpcy5faW50cm9JdGVtcy5sZW5ndGggPiAxKSB7XG4gICAgICBpZiAodHlwZW9mIHNraXBUb29sdGlwQnV0dG9uICE9PSBcInVuZGVmaW5lZFwiICYmIHNraXBUb29sdGlwQnV0dG9uICE9PSBudWxsKSB7XG4gICAgICAgIHNraXBUb29sdGlwQnV0dG9uLmNsYXNzTmFtZSA9IHRoaXMuX29wdGlvbnMuYnV0dG9uQ2xhc3MgKyAnIGludHJvanMtc2tpcGJ1dHRvbic7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG5leHRUb29sdGlwQnV0dG9uICE9PSBcInVuZGVmaW5lZFwiICYmIG5leHRUb29sdGlwQnV0dG9uICE9PSBudWxsKSB7XG4gICAgICAgIG5leHRUb29sdGlwQnV0dG9uLmNsYXNzTmFtZSA9IHRoaXMuX29wdGlvbnMuYnV0dG9uQ2xhc3MgKyAnIGludHJvanMtbmV4dGJ1dHRvbic7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9vcHRpb25zLmhpZGVQcmV2ID09PSB0cnVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJldlRvb2x0aXBCdXR0b24gIT09IFwidW5kZWZpbmVkXCIgJiYgcHJldlRvb2x0aXBCdXR0b24gIT09IG51bGwpIHtcbiAgICAgICAgICBwcmV2VG9vbHRpcEJ1dHRvbi5jbGFzc05hbWUgPSB0aGlzLl9vcHRpb25zLmJ1dHRvbkNsYXNzICsgJyBpbnRyb2pzLXByZXZidXR0b24gaW50cm9qcy1oaWRkZW4nO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbmV4dFRvb2x0aXBCdXR0b24gIT09IFwidW5kZWZpbmVkXCIgJiYgbmV4dFRvb2x0aXBCdXR0b24gIT09IG51bGwpIHtcbiAgICAgICAgICBfYWRkQ2xhc3MobmV4dFRvb2x0aXBCdXR0b24sICdpbnRyb2pzLWZ1bGxidXR0b24nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcmV2VG9vbHRpcEJ1dHRvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcmV2VG9vbHRpcEJ1dHRvbiAhPT0gbnVsbCkge1xuICAgICAgICAgIHByZXZUb29sdGlwQnV0dG9uLmNsYXNzTmFtZSA9IHRoaXMuX29wdGlvbnMuYnV0dG9uQ2xhc3MgKyAnIGludHJvanMtcHJldmJ1dHRvbiBpbnRyb2pzLWRpc2FibGVkJztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNraXBUb29sdGlwQnV0dG9uICE9PSBcInVuZGVmaW5lZFwiICYmIHNraXBUb29sdGlwQnV0dG9uICE9PSBudWxsKSB7XG4gICAgICAgIHNraXBUb29sdGlwQnV0dG9uLmlubmVySFRNTCA9IHRoaXMuX29wdGlvbnMuc2tpcExhYmVsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5faW50cm9JdGVtcy5sZW5ndGggLSAxID09PSB0aGlzLl9jdXJyZW50U3RlcCB8fCB0aGlzLl9pbnRyb0l0ZW1zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gbGFzdCBzdGVwIG9mIHRvdXJcbiAgICAgIGlmICh0eXBlb2Ygc2tpcFRvb2x0aXBCdXR0b24gIT09IFwidW5kZWZpbmVkXCIgJiYgc2tpcFRvb2x0aXBCdXR0b24gIT09IG51bGwpIHtcbiAgICAgICAgc2tpcFRvb2x0aXBCdXR0b24uaW5uZXJIVE1MID0gdGhpcy5fb3B0aW9ucy5kb25lTGFiZWw7XG4gICAgICAgIC8vIGFkZGluZyBkb25lYnV0dG9uIGNsYXNzIGluIGFkZGl0aW9uIHRvIHNraXBidXR0b25cbiAgICAgICAgX2FkZENsYXNzKHNraXBUb29sdGlwQnV0dG9uLCAnaW50cm9qcy1kb25lYnV0dG9uJyk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHByZXZUb29sdGlwQnV0dG9uICE9PSBcInVuZGVmaW5lZFwiICYmIHByZXZUb29sdGlwQnV0dG9uICE9PSBudWxsKSB7XG4gICAgICAgIHByZXZUb29sdGlwQnV0dG9uLmNsYXNzTmFtZSA9IHRoaXMuX29wdGlvbnMuYnV0dG9uQ2xhc3MgKyAnIGludHJvanMtcHJldmJ1dHRvbic7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9vcHRpb25zLmhpZGVOZXh0ID09PSB0cnVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmV4dFRvb2x0aXBCdXR0b24gIT09IFwidW5kZWZpbmVkXCIgJiYgbmV4dFRvb2x0aXBCdXR0b24gIT09IG51bGwpIHtcbiAgICAgICAgICBuZXh0VG9vbHRpcEJ1dHRvbi5jbGFzc05hbWUgPSB0aGlzLl9vcHRpb25zLmJ1dHRvbkNsYXNzICsgJyBpbnRyb2pzLW5leHRidXR0b24gaW50cm9qcy1oaWRkZW4nO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcHJldlRvb2x0aXBCdXR0b24gIT09IFwidW5kZWZpbmVkXCIgJiYgcHJldlRvb2x0aXBCdXR0b24gIT09IG51bGwpIHtcbiAgICAgICAgICBfYWRkQ2xhc3MocHJldlRvb2x0aXBCdXR0b24sICdpbnRyb2pzLWZ1bGxidXR0b24nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuZXh0VG9vbHRpcEJ1dHRvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuZXh0VG9vbHRpcEJ1dHRvbiAhPT0gbnVsbCkge1xuICAgICAgICAgIG5leHRUb29sdGlwQnV0dG9uLmNsYXNzTmFtZSA9IHRoaXMuX29wdGlvbnMuYnV0dG9uQ2xhc3MgKyAnIGludHJvanMtbmV4dGJ1dHRvbiBpbnRyb2pzLWRpc2FibGVkJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzdGVwcyBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmRcbiAgICAgIGlmICh0eXBlb2Ygc2tpcFRvb2x0aXBCdXR0b24gIT09IFwidW5kZWZpbmVkXCIgJiYgc2tpcFRvb2x0aXBCdXR0b24gIT09IG51bGwpIHtcbiAgICAgICAgc2tpcFRvb2x0aXBCdXR0b24uY2xhc3NOYW1lID0gdGhpcy5fb3B0aW9ucy5idXR0b25DbGFzcyArICcgaW50cm9qcy1za2lwYnV0dG9uJztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcHJldlRvb2x0aXBCdXR0b24gIT09IFwidW5kZWZpbmVkXCIgJiYgcHJldlRvb2x0aXBCdXR0b24gIT09IG51bGwpIHtcbiAgICAgICAgcHJldlRvb2x0aXBCdXR0b24uY2xhc3NOYW1lID0gdGhpcy5fb3B0aW9ucy5idXR0b25DbGFzcyArICcgaW50cm9qcy1wcmV2YnV0dG9uJztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbmV4dFRvb2x0aXBCdXR0b24gIT09IFwidW5kZWZpbmVkXCIgJiYgbmV4dFRvb2x0aXBCdXR0b24gIT09IG51bGwpIHtcbiAgICAgICAgbmV4dFRvb2x0aXBCdXR0b24uY2xhc3NOYW1lID0gdGhpcy5fb3B0aW9ucy5idXR0b25DbGFzcyArICcgaW50cm9qcy1uZXh0YnV0dG9uJztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc2tpcFRvb2x0aXBCdXR0b24gIT09IFwidW5kZWZpbmVkXCIgJiYgc2tpcFRvb2x0aXBCdXR0b24gIT09IG51bGwpIHtcbiAgICAgICAgc2tpcFRvb2x0aXBCdXR0b24uaW5uZXJIVE1MID0gdGhpcy5fb3B0aW9ucy5za2lwTGFiZWw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJldlRvb2x0aXBCdXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgIG5leHRUb29sdGlwQnV0dG9uLnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICBza2lwVG9vbHRpcEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG5cbiAgICAvL1NldCBmb2N1cyBvbiBcIm5leHRcIiBidXR0b24sIHNvIHRoYXQgaGl0dGluZyBFbnRlciBhbHdheXMgbW92ZXMgeW91IG9udG8gdGhlIG5leHQgc3RlcFxuICAgIGlmICh0eXBlb2YgbmV4dFRvb2x0aXBCdXR0b24gIT09IFwidW5kZWZpbmVkXCIgJiYgbmV4dFRvb2x0aXBCdXR0b24gIT09IG51bGwpIHtcbiAgICAgIG5leHRUb29sdGlwQnV0dG9uLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgX3NldFNob3dFbGVtZW50KHRhcmdldEVsZW1lbnQpO1xuXG4gICAgaWYgKHR5cGVvZiAodGhpcy5faW50cm9BZnRlckNoYW5nZUNhbGxiYWNrKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuX2ludHJvQWZ0ZXJDaGFuZ2VDYWxsYmFjay5jYWxsKHRoaXMsIHRhcmdldEVsZW1lbnQuZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRvIGNoYW5nZSB0aGUgc2Nyb2xsIG9mIGB3aW5kb3dgIGFmdGVyIGhpZ2hsaWdodGluZyBhbiBlbGVtZW50XG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9zY3JvbGxUb1xuICAgKiBAcGFyYW0ge1N0cmluZ30gc2Nyb2xsVG9cbiAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldEVsZW1lbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IHRvb2x0aXBMYXllclxuICAgKi9cbiAgZnVuY3Rpb24gX3Njcm9sbFRvKHNjcm9sbFRvLCB0YXJnZXRFbGVtZW50LCB0b29sdGlwTGF5ZXIpIHtcbiAgICBpZiAoc2Nyb2xsVG8gPT09ICdvZmYnKSByZXR1cm47ICBcbiAgICB2YXIgcmVjdDtcblxuICAgIGlmICghdGhpcy5fb3B0aW9ucy5zY3JvbGxUb0VsZW1lbnQpIHJldHVybjtcblxuICAgIGlmIChzY3JvbGxUbyA9PT0gJ3Rvb2x0aXAnKSB7XG4gICAgICByZWN0ID0gdG9vbHRpcExheWVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWN0ID0gdGFyZ2V0RWxlbWVudC5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cblxuICAgIGlmICghX2VsZW1lbnRJblZpZXdwb3J0KHRhcmdldEVsZW1lbnQuZWxlbWVudCkpIHtcbiAgICAgIHZhciB0b3AgPSByZWN0LmJvdHRvbSAtIChyZWN0LmJvdHRvbSAtIHJlY3QudG9wKTtcblxuICAgICAgdmFyIHdpbkhlaWdodCA9IF9nZXRXaW5TaXplKCkuaGVpZ2h0O1xuICAgICAgdmFyIGFic1kgPSByZWN0LnRvcCArIHBhZ2VZT2Zmc2V0O1xuICAgICAgdmFyIHdpbkhhbGZIZWlnaHQgPSB3aW5IZWlnaHQgLyAyO1xuICAgICAgdmFyIGVsZW1IYWxmSGVpZ2h0ID0gcmVjdC5oZWlnaHQgLyAyO1xuICAgICAgdmFyIGFic1lTY3JvbGwgPSBhYnNZIC0gd2luSGFsZkhlaWdodCArIGVsZW1IYWxmSGVpZ2h0O1xuICAgICAgdmFyIHNjcm9sbFRvT3B0aW9ucyA9IHt0b3A6IGFic1lTY3JvbGwsIGxlZnQ6IDAsIGJlaGF2aW9yOiBcInNtb290aFwifVxuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBpZiBzY3JvbGxUbyB3aXRoIG9wdGlvbnMgaXMgd29ya2luZ1xuICAgICAgICBpZiAodG9wIDwgMCB8fCB0YXJnZXRFbGVtZW50LmVsZW1lbnQuY2xpZW50SGVpZ2h0ID4gd2luSGVpZ2h0KSB7XG4gICAgICAgICAgc2Nyb2xsVG9PcHRpb25zLnRvcCAtPSB0aGlzLl9vcHRpb25zLnNjcm9sbFBhZGRpbmc7XG4gICAgICAgICAgd2luZG93LnNjcm9sbFRvKHNjcm9sbFRvT3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2Nyb2xsVG9PcHRpb25zLnRvcCArPSB0aGlzLl9vcHRpb25zLnNjcm9sbFBhZGRpbmc7XG4gICAgICAgICAgd2luZG93LnNjcm9sbFRvKHNjcm9sbFRvT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH1jYXRjaChlKSB7XG4gICAgICAgIGlmICh0b3AgPCAwIHx8IHRhcmdldEVsZW1lbnQuZWxlbWVudC5jbGllbnRIZWlnaHQgPiB3aW5IZWlnaHQpIHtcbiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgc2Nyb2xsVG9PcHRpb25zLnRvcCAtIDMwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgc2Nyb2xsVG9PcHRpb25zLnRvcCArIDMwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUbyByZW1vdmUgYWxsIHNob3cgZWxlbWVudChzKVxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfcmVtb3ZlU2hvd0VsZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIF9yZW1vdmVTaG93RWxlbWVudCgpIHtcbiAgICB2YXIgZWxtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnRyb2pzLXNob3dFbGVtZW50Jyk7XG5cbiAgICBfZm9yRWFjaChlbG1zLCBmdW5jdGlvbiAoZWxtKSB7XG4gICAgICBfcmVtb3ZlQ2xhc3MoZWxtLCAvaW50cm9qcy1bYS16QS1aXSsvZyk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVG8gc2V0IHRoZSBzaG93IGVsZW1lbnRcbiAgICogVGhpcyBmdW5jdGlvbiBzZXQgYSByZWxhdGl2ZSAoaW4gbW9zdCBjYXNlcykgcG9zaXRpb24gYW5kIGNoYW5nZXMgdGhlIHotaW5kZXhcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX3NldFNob3dFbGVtZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRFbGVtZW50XG4gICAqL1xuICBmdW5jdGlvbiBfc2V0U2hvd0VsZW1lbnQodGFyZ2V0RWxlbWVudCkge1xuICAgIHZhciBwYXJlbnRFbG07XG4gICAgLy8gd2UgbmVlZCB0byBhZGQgdGhpcyBzaG93IGVsZW1lbnQgY2xhc3MgdG8gdGhlIHBhcmVudCBvZiBTVkcgZWxlbWVudHNcbiAgICAvLyBiZWNhdXNlIHRoZSBTVkcgZWxlbWVudHMgY2FuJ3QgaGF2ZSBpbmRlcGVuZGVudCB6LWluZGV4XG4gICAgaWYgKHRhcmdldEVsZW1lbnQuZWxlbWVudCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpIHtcbiAgICAgIHBhcmVudEVsbSA9IHRhcmdldEVsZW1lbnQuZWxlbWVudC5wYXJlbnROb2RlO1xuXG4gICAgICB3aGlsZSAodGFyZ2V0RWxlbWVudC5lbGVtZW50LnBhcmVudE5vZGUgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKCFwYXJlbnRFbG0udGFnTmFtZSB8fCBwYXJlbnRFbG0udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYm9keScpIGJyZWFrO1xuXG4gICAgICAgIGlmIChwYXJlbnRFbG0udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc3ZnJykge1xuICAgICAgICAgIF9hZGRDbGFzcyhwYXJlbnRFbG0sICdpbnRyb2pzLXNob3dFbGVtZW50IGludHJvanMtcmVsYXRpdmVQb3NpdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyZW50RWxtID0gcGFyZW50RWxtLnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2FkZENsYXNzKHRhcmdldEVsZW1lbnQuZWxlbWVudCwgJ2ludHJvanMtc2hvd0VsZW1lbnQnKTtcblxuICAgIHZhciBjdXJyZW50RWxlbWVudFBvc2l0aW9uID0gX2dldFByb3BWYWx1ZSh0YXJnZXRFbGVtZW50LmVsZW1lbnQsICdwb3NpdGlvbicpO1xuICAgIGlmIChjdXJyZW50RWxlbWVudFBvc2l0aW9uICE9PSAnYWJzb2x1dGUnICYmXG4gICAgICAgIGN1cnJlbnRFbGVtZW50UG9zaXRpb24gIT09ICdyZWxhdGl2ZScgJiZcbiAgICAgICAgY3VycmVudEVsZW1lbnRQb3NpdGlvbiAhPT0gJ2ZpeGVkJykge1xuICAgICAgLy9jaGFuZ2UgdG8gbmV3IGludHJvIGl0ZW1cbiAgICAgIF9hZGRDbGFzcyh0YXJnZXRFbGVtZW50LmVsZW1lbnQsICdpbnRyb2pzLXJlbGF0aXZlUG9zaXRpb24nKTtcbiAgICB9XG5cbiAgICBwYXJlbnRFbG0gPSB0YXJnZXRFbGVtZW50LmVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICB3aGlsZSAocGFyZW50RWxtICE9PSBudWxsKSB7XG4gICAgICBpZiAoIXBhcmVudEVsbS50YWdOYW1lIHx8IHBhcmVudEVsbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdib2R5JykgYnJlYWs7XG5cbiAgICAgIC8vZml4IFRoZSBTdGFja2luZyBDb250ZXh0IHByb2JsZW0uXG4gICAgICAvL01vcmUgZGV0YWlsOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9HdWlkZS9DU1MvVW5kZXJzdGFuZGluZ196X2luZGV4L1RoZV9zdGFja2luZ19jb250ZXh0XG4gICAgICB2YXIgekluZGV4ID0gX2dldFByb3BWYWx1ZShwYXJlbnRFbG0sICd6LWluZGV4Jyk7XG4gICAgICB2YXIgb3BhY2l0eSA9IHBhcnNlRmxvYXQoX2dldFByb3BWYWx1ZShwYXJlbnRFbG0sICdvcGFjaXR5JykpO1xuICAgICAgdmFyIHRyYW5zZm9ybSA9IF9nZXRQcm9wVmFsdWUocGFyZW50RWxtLCAndHJhbnNmb3JtJykgfHwgX2dldFByb3BWYWx1ZShwYXJlbnRFbG0sICctd2Via2l0LXRyYW5zZm9ybScpIHx8IF9nZXRQcm9wVmFsdWUocGFyZW50RWxtLCAnLW1vei10cmFuc2Zvcm0nKSB8fCBfZ2V0UHJvcFZhbHVlKHBhcmVudEVsbSwgJy1tcy10cmFuc2Zvcm0nKSB8fCBfZ2V0UHJvcFZhbHVlKHBhcmVudEVsbSwgJy1vLXRyYW5zZm9ybScpO1xuICAgICAgaWYgKC9bMC05XSsvLnRlc3QoekluZGV4KSB8fCBvcGFjaXR5IDwgMSB8fCAodHJhbnNmb3JtICE9PSAnbm9uZScgJiYgdHJhbnNmb3JtICE9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIF9hZGRDbGFzcyhwYXJlbnRFbG0sICdpbnRyb2pzLWZpeFBhcmVudCcpO1xuICAgICAgfVxuXG4gICAgICBwYXJlbnRFbG0gPSBwYXJlbnRFbG0ucGFyZW50Tm9kZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBJdGVyYXRlcyBhcnJheXNcbiAgKlxuICAqIEBwYXJhbSB7QXJyYXl9IGFyclxuICAqIEBwYXJhbSB7RnVuY3Rpb259IGZvckVhY2hGbmNcbiAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wbGV0ZUZuY1xuICAqIEByZXR1cm4ge051bGx9XG4gICovXG4gIGZ1bmN0aW9uIF9mb3JFYWNoKGFyciwgZm9yRWFjaEZuYywgY29tcGxldGVGbmMpIHtcbiAgICAvLyBpbiBjYXNlIGFyciBpcyBhbiBlbXB0eSBxdWVyeSBzZWxlY3RvciBub2RlIGxpc3RcbiAgICBpZiAoYXJyKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGZvckVhY2hGbmMoYXJyW2ldLCBpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mKGNvbXBsZXRlRm5jKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29tcGxldGVGbmMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgKiBNYXJrIGFueSBvYmplY3Qgd2l0aCBhbiBpbmNyZW1lbnRpbmcgbnVtYmVyXG4gICogdXNlZCBmb3Iga2VlcGluZyB0cmFjayBvZiBvYmplY3RzXG4gICpcbiAgKiBAcGFyYW0gT2JqZWN0IG9iaiAgIEFueSBvYmplY3Qgb3IgRE9NIEVsZW1lbnRcbiAgKiBAcGFyYW0gU3RyaW5nIGtleVxuICAqIEByZXR1cm4gT2JqZWN0XG4gICovXG4gIHZhciBfc3RhbXAgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBrZXlzID0ge307XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHN0YW1wIChvYmosIGtleSkge1xuICAgICAgXG4gICAgICAvLyBnZXQgZ3JvdXAga2V5XG4gICAgICBrZXkgPSBrZXkgfHwgJ2ludHJvanMtc3RhbXAnO1xuXG4gICAgICAvLyBlYWNoIGdyb3VwIGluY3JlbWVudHMgZnJvbSAwXG4gICAgICBrZXlzW2tleV0gPSBrZXlzW2tleV0gfHwgMDtcblxuICAgICAgLy8gc3RhbXAgb25seSBvbmNlIHBlciBvYmplY3RcbiAgICAgIGlmIChvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIGluY3JlbWVudCBrZXkgZm9yIGVhY2ggbmV3IG9iamVjdFxuICAgICAgICBvYmpba2V5XSA9IGtleXNba2V5XSsrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfTtcbiAgfSkoKTtcblxuICAvKipcbiAgKiBET01FdmVudCBIYW5kbGVzIGFsbCBET00gZXZlbnRzXG4gICpcbiAgKiBtZXRob2RzOlxuICAqXG4gICogb24gLSBhZGQgZXZlbnQgaGFuZGxlclxuICAqIG9mZiAtIHJlbW92ZSBldmVudFxuICAqL1xuICB2YXIgRE9NRXZlbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERPTUV2ZW50ICgpIHtcbiAgICAgIHZhciBldmVudHNfa2V5ID0gJ2ludHJvanNfZXZlbnQnO1xuICAgICAgXG4gICAgICAvKipcbiAgICAgICogR2V0cyBhIHVuaXF1ZSBJRCBmb3IgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICAgICpcbiAgICAgICogQHBhcmFtIE9iamVjdCBvYmpcbiAgICAgICogQHBhcmFtIFN0cmluZyB0eXBlICAgICAgICBldmVudCB0eXBlXG4gICAgICAqIEBwYXJhbSBGdW5jdGlvbiBsaXN0ZW5lclxuICAgICAgKiBAcGFyYW0gT2JqZWN0IGNvbnRleHRcbiAgICAgICogQHJldHVybiBTdHJpbmdcbiAgICAgICovXG4gICAgICB0aGlzLl9pZCA9IGZ1bmN0aW9uIChvYmosIHR5cGUsIGxpc3RlbmVyLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB0eXBlICsgX3N0YW1wKGxpc3RlbmVyKSArIChjb250ZXh0ID8gJ18nICsgX3N0YW1wKGNvbnRleHQpIDogJycpO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAqIEFkZHMgZXZlbnQgbGlzdGVuZXJcbiAgICAgICpcbiAgICAgICogQHBhcmFtIE9iamVjdCBvYmpcbiAgICAgICogQHBhcmFtIFN0cmluZyB0eXBlICAgICAgICBldmVudCB0eXBlXG4gICAgICAqIEBwYXJhbSBGdW5jdGlvbiBsaXN0ZW5lclxuICAgICAgKiBAcGFyYW0gT2JqZWN0IGNvbnRleHRcbiAgICAgICogQHBhcmFtIEJvb2xlYW4gdXNlQ2FwdHVyZVxuICAgICAgKiBAcmV0dXJuIG51bGxcbiAgICAgICovXG4gICAgICB0aGlzLm9uID0gZnVuY3Rpb24gKG9iaiwgdHlwZSwgbGlzdGVuZXIsIGNvbnRleHQsIHVzZUNhcHR1cmUpIHtcbiAgICAgICAgdmFyIGlkID0gdGhpcy5faWQuYXBwbHkodGhpcywgYXJndW1lbnRzKSxcbiAgICAgICAgICAgIGhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuY2FsbChjb250ZXh0IHx8IG9iaiwgZSB8fCB3aW5kb3cuZXZlbnQpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBpZiAoJ2FkZEV2ZW50TGlzdGVuZXInIGluIG9iaikge1xuICAgICAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIHVzZUNhcHR1cmUpO1xuICAgICAgICB9IGVsc2UgaWYgKCdhdHRhY2hFdmVudCcgaW4gb2JqKSB7XG4gICAgICAgICAgb2JqLmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBoYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9ialtldmVudHNfa2V5XSA9IG9ialtldmVudHNfa2V5XSB8fCB7fTtcbiAgICAgICAgb2JqW2V2ZW50c19rZXldW2lkXSA9IGhhbmRsZXI7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICogUmVtb3ZlcyBldmVudCBsaXN0ZW5lclxuICAgICAgKlxuICAgICAgKiBAcGFyYW0gT2JqZWN0IG9ialxuICAgICAgKiBAcGFyYW0gU3RyaW5nIHR5cGUgICAgICAgIGV2ZW50IHR5cGVcbiAgICAgICogQHBhcmFtIEZ1bmN0aW9uIGxpc3RlbmVyXG4gICAgICAqIEBwYXJhbSBPYmplY3QgY29udGV4dFxuICAgICAgKiBAcGFyYW0gQm9vbGVhbiB1c2VDYXB0dXJlXG4gICAgICAqIEByZXR1cm4gbnVsbFxuICAgICAgKi9cbiAgICAgIHRoaXMub2ZmID0gZnVuY3Rpb24gKG9iaiwgdHlwZSwgbGlzdGVuZXIsIGNvbnRleHQsIHVzZUNhcHR1cmUpIHtcbiAgICAgICAgdmFyIGlkID0gdGhpcy5faWQuYXBwbHkodGhpcywgYXJndW1lbnRzKSxcbiAgICAgICAgICAgIGhhbmRsZXIgPSBvYmpbZXZlbnRzX2tleV0gJiYgb2JqW2V2ZW50c19rZXldW2lkXTtcblxuICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ3JlbW92ZUV2ZW50TGlzdGVuZXInIGluIG9iaikge1xuICAgICAgICAgIG9iai5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIHVzZUNhcHR1cmUpO1xuICAgICAgICB9IGVsc2UgaWYgKCdkZXRhY2hFdmVudCcgaW4gb2JqKSB7XG4gICAgICAgICAgb2JqLmRldGFjaEV2ZW50KCdvbicgKyB0eXBlLCBoYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9ialtldmVudHNfa2V5XVtpZF0gPSBudWxsO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IERPTUV2ZW50KCk7XG4gIH0pKCk7XG5cbiAgLyoqXG4gICAqIEFwcGVuZCBhIGNsYXNzIHRvIGFuIGVsZW1lbnRcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX2FkZENsYXNzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjbGFzc05hbWVcbiAgICogQHJldHVybnMgbnVsbFxuICAgKi9cbiAgZnVuY3Rpb24gX2FkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgU1ZHRWxlbWVudCkge1xuICAgICAgLy8gc3ZnXG4gICAgICB2YXIgcHJlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJyc7XG5cbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHByZSArICcgJyArIGNsYXNzTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIGNoZWNrIGZvciBtb2Rlcm4gY2xhc3NMaXN0IHByb3BlcnR5XG4gICAgICAgIHZhciBjbGFzc2VzID0gY2xhc3NOYW1lLnNwbGl0KCcgJyk7XG4gICAgICAgIF9mb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uIChjbHMpIHtcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoIGNscyApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoIWVsZW1lbnQuY2xhc3NOYW1lLm1hdGNoKCBjbGFzc05hbWUgKSkge1xuICAgICAgICAvLyBjaGVjayBpZiBlbGVtZW50IGRvZXNuJ3QgYWxyZWFkeSBoYXZlIGNsYXNzTmFtZVxuICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnICcgKyBjbGFzc05hbWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGNsYXNzIGZyb20gYW4gZWxlbWVudFxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfcmVtb3ZlQ2xhc3NcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtSZWdFeHB8U3RyaW5nfSBjbGFzc05hbWVSZWdleCBjYW4gYmUgcmVnZXggb3Igc3RyaW5nXG4gICAqIEByZXR1cm5zIG51bGxcbiAgICovXG4gIGZ1bmN0aW9uIF9yZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWVSZWdleCkge1xuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgU1ZHRWxlbWVudCkge1xuICAgICAgdmFyIHByZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnO1xuXG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBwcmUucmVwbGFjZShjbGFzc05hbWVSZWdleCwgJycpLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShjbGFzc05hbWVSZWdleCwgJycpLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFuIGVsZW1lbnQgQ1NTIHByb3BlcnR5IG9uIHRoZSBwYWdlXG4gICAqIFRoYW5rcyB0byBKYXZhU2NyaXB0IEtpdDogaHR0cDovL3d3dy5qYXZhc2NyaXB0a2l0LmNvbS9kaHRtbHR1dG9ycy9kaHRtbGNhc2NhZGU0LnNodG1sXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9nZXRQcm9wVmFsdWVcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BOYW1lXG4gICAqIEByZXR1cm5zIEVsZW1lbnQncyBwcm9wZXJ0eSB2YWx1ZVxuICAgKi9cbiAgZnVuY3Rpb24gX2dldFByb3BWYWx1ZSAoZWxlbWVudCwgcHJvcE5hbWUpIHtcbiAgICB2YXIgcHJvcFZhbHVlID0gJyc7XG4gICAgaWYgKGVsZW1lbnQuY3VycmVudFN0eWxlKSB7IC8vSUVcbiAgICAgIHByb3BWYWx1ZSA9IGVsZW1lbnQuY3VycmVudFN0eWxlW3Byb3BOYW1lXTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3ICYmIGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpIHsgLy9PdGhlcnNcbiAgICAgIHByb3BWYWx1ZSA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShwcm9wTmFtZSk7XG4gICAgfVxuXG4gICAgLy9QcmV2ZW50IGV4Y2VwdGlvbiBpbiBJRVxuICAgIGlmIChwcm9wVmFsdWUgJiYgcHJvcFZhbHVlLnRvTG93ZXJDYXNlKSB7XG4gICAgICByZXR1cm4gcHJvcFZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwcm9wVmFsdWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB0byBzZWUgaWYgdGFyZ2V0IGVsZW1lbnQgKG9yIHBhcmVudHMpIHBvc2l0aW9uIGlzIGZpeGVkIG9yIG5vdFxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfaXNGaXhlZFxuICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxuICAgKiBAcmV0dXJucyBCb29sZWFuXG4gICAqL1xuICBmdW5jdGlvbiBfaXNGaXhlZCAoZWxlbWVudCkge1xuICAgIHZhciBwID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXG4gICAgaWYgKCFwIHx8IHAubm9kZU5hbWUgPT09ICdIVE1MJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChfZ2V0UHJvcFZhbHVlKGVsZW1lbnQsICdwb3NpdGlvbicpID09PSAnZml4ZWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2lzRml4ZWQocCk7XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgYSBjcm9zcy1icm93c2VyIHdheSB0byBnZXQgdGhlIHNjcmVlbiBkaW1lbnNpb25zXG4gICAqIHZpYTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81ODY0NDY3L2ludGVybmV0LWV4cGxvcmVyLWlubmVyaGVpZ2h0XG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9nZXRXaW5TaXplXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IHdpZHRoIGFuZCBoZWlnaHQgYXR0cmlidXRlc1xuICAgKi9cbiAgZnVuY3Rpb24gX2dldFdpblNpemUoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBEID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgcmV0dXJuIHsgd2lkdGg6IEQuY2xpZW50V2lkdGgsIGhlaWdodDogRC5jbGllbnRIZWlnaHQgfTtcbiAgICB9Y2F0Y2goZSkge1xuICAgICAgcmV0dXJuIHsgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLCBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayB0byBzZWUgaWYgdGhlIGVsZW1lbnQgaXMgaW4gdGhlIHZpZXdwb3J0IG9yIG5vdFxuICAgKiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEyMzk5OS9ob3ctdG8tdGVsbC1pZi1hLWRvbS1lbGVtZW50LWlzLXZpc2libGUtaW4tdGhlLWN1cnJlbnQtdmlld3BvcnRcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX2VsZW1lbnRJblZpZXdwb3J0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbFxuICAgKi9cbiAgZnVuY3Rpb24gX2VsZW1lbnRJblZpZXdwb3J0KGVsKSB7XG4gICAgdmFyIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHJldHVybiAoXG4gICAgICByZWN0LnRvcCA+PSAwICYmXG4gICAgICByZWN0LmxlZnQgPj0gMCAmJlxuICAgICAgKHJlY3QuYm90dG9tKzgwKSA8PSB3aW5kb3cuaW5uZXJIZWlnaHQgJiYgLy8gYWRkIDgwIHRvIGdldCB0aGUgdGV4dCByaWdodFxuICAgICAgcmVjdC5yaWdodCA8PSB3aW5kb3cuaW5uZXJXaWR0aFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIG92ZXJsYXkgbGF5ZXIgdG8gdGhlIHBhZ2VcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX2FkZE92ZXJsYXlMYXllclxuICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0RWxtXG4gICAqL1xuICBmdW5jdGlvbiBfYWRkT3ZlcmxheUxheWVyKHRhcmdldEVsbSkge1xuICAgIHZhciBvdmVybGF5TGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgc3R5bGVUZXh0ID0gJycsXG4gICAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgLy9zZXQgY3NzIGNsYXNzIG5hbWVcbiAgICBvdmVybGF5TGF5ZXIuY2xhc3NOYW1lID0gJ2ludHJvanMtb3ZlcmxheSc7XG5cbiAgICAvL2NoZWNrIGlmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBib2R5LCB3ZSBzaG91bGQgY2FsY3VsYXRlIHRoZSBzaXplIG9mIG92ZXJsYXkgbGF5ZXIgaW4gYSBiZXR0ZXIgd2F5XG4gICAgaWYgKCF0YXJnZXRFbG0udGFnTmFtZSB8fCB0YXJnZXRFbG0udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnYm9keScpIHtcbiAgICAgIHN0eWxlVGV4dCArPSAndG9wOiAwO2JvdHRvbTogMDsgbGVmdDogMDtyaWdodDogMDtwb3NpdGlvbjogZml4ZWQ7JztcbiAgICAgIG92ZXJsYXlMYXllci5zdHlsZS5jc3NUZXh0ID0gc3R5bGVUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvL3NldCBvdmVybGF5IGxheWVyIHBvc2l0aW9uXG4gICAgICB2YXIgZWxlbWVudFBvc2l0aW9uID0gX2dldE9mZnNldCh0YXJnZXRFbG0pO1xuICAgICAgaWYgKGVsZW1lbnRQb3NpdGlvbikge1xuICAgICAgICBzdHlsZVRleHQgKz0gJ3dpZHRoOiAnICsgZWxlbWVudFBvc2l0aW9uLndpZHRoICsgJ3B4OyBoZWlnaHQ6JyArIGVsZW1lbnRQb3NpdGlvbi5oZWlnaHQgKyAncHg7IHRvcDonICsgZWxlbWVudFBvc2l0aW9uLnRvcCArICdweDtsZWZ0OiAnICsgZWxlbWVudFBvc2l0aW9uLmxlZnQgKyAncHg7JztcbiAgICAgICAgb3ZlcmxheUxheWVyLnN0eWxlLmNzc1RleHQgPSBzdHlsZVRleHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGFyZ2V0RWxtLmFwcGVuZENoaWxkKG92ZXJsYXlMYXllcik7XG5cbiAgICBvdmVybGF5TGF5ZXIub25jbGljayA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHNlbGYuX29wdGlvbnMuZXhpdE9uT3ZlcmxheUNsaWNrID09PSB0cnVlKSB7XG4gICAgICAgIF9leGl0SW50cm8uY2FsbChzZWxmLCB0YXJnZXRFbG0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHN0eWxlVGV4dCArPSAnb3BhY2l0eTogJyArIHNlbGYuX29wdGlvbnMub3ZlcmxheU9wYWNpdHkudG9TdHJpbmcoKSArICc7JztcbiAgICAgIG92ZXJsYXlMYXllci5zdHlsZS5jc3NUZXh0ID0gc3R5bGVUZXh0O1xuICAgIH0sIDEwKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgb3BlbiBoaW50ICh0b29sdGlwIGhpbnQpXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9yZW1vdmVIaW50VG9vbHRpcFxuICAgKi9cbiAgZnVuY3Rpb24gX3JlbW92ZUhpbnRUb29sdGlwKCkge1xuICAgIHZhciB0b29sdGlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvanMtaGludFJlZmVyZW5jZScpO1xuXG4gICAgaWYgKHRvb2x0aXApIHtcbiAgICAgIHZhciBzdGVwID0gdG9vbHRpcC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RlcCcpO1xuICAgICAgdG9vbHRpcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRvb2x0aXApO1xuICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHBhcnNpbmcgaGludCBpdGVtc1xuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldEVsbVxuICAgKiBAbWV0aG9kIF9zdGFydEhpbnRcbiAgICovXG4gIGZ1bmN0aW9uIF9wb3B1bGF0ZUhpbnRzKHRhcmdldEVsbSkge1xuXG4gICAgdGhpcy5faW50cm9JdGVtcyA9IFtdO1xuXG4gICAgaWYgKHRoaXMuX29wdGlvbnMuaGludHMpIHtcbiAgICAgIF9mb3JFYWNoKHRoaXMuX29wdGlvbnMuaGludHMsIGZ1bmN0aW9uIChoaW50KSB7XG4gICAgICAgIHZhciBjdXJyZW50SXRlbSA9IF9jbG9uZU9iamVjdChoaW50KTtcblxuICAgICAgICBpZiAodHlwZW9mKGN1cnJlbnRJdGVtLmVsZW1lbnQpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIC8vZ3JhYiB0aGUgZWxlbWVudCB3aXRoIGdpdmVuIHNlbGVjdG9yIGZyb20gdGhlIHBhZ2VcbiAgICAgICAgICBjdXJyZW50SXRlbS5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjdXJyZW50SXRlbS5lbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRJdGVtLmhpbnRQb3NpdGlvbiA9IGN1cnJlbnRJdGVtLmhpbnRQb3NpdGlvbiB8fCB0aGlzLl9vcHRpb25zLmhpbnRQb3NpdGlvbjtcbiAgICAgICAgY3VycmVudEl0ZW0uaGludEFuaW1hdGlvbiA9IGN1cnJlbnRJdGVtLmhpbnRBbmltYXRpb24gfHwgdGhpcy5fb3B0aW9ucy5oaW50QW5pbWF0aW9uO1xuXG4gICAgICAgIGlmIChjdXJyZW50SXRlbS5lbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5faW50cm9JdGVtcy5wdXNoKGN1cnJlbnRJdGVtKTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGhpbnRzID0gdGFyZ2V0RWxtLnF1ZXJ5U2VsZWN0b3JBbGwoJypbZGF0YS1oaW50XScpO1xuXG4gICAgICBpZiAoIWhpbnRzIHx8ICFoaW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvL2ZpcnN0IGFkZCBpbnRybyBpdGVtcyB3aXRoIGRhdGEtc3RlcFxuICAgICAgX2ZvckVhY2goaGludHMsIGZ1bmN0aW9uIChjdXJyZW50RWxlbWVudCkge1xuICAgICAgICAvLyBoaW50IGFuaW1hdGlvblxuICAgICAgICB2YXIgaGludEFuaW1hdGlvbiA9IGN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1oaW50YW5pbWF0aW9uJyk7XG5cbiAgICAgICAgaWYgKGhpbnRBbmltYXRpb24pIHtcbiAgICAgICAgICBoaW50QW5pbWF0aW9uID0gKGhpbnRBbmltYXRpb24gPT09ICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGludEFuaW1hdGlvbiA9IHRoaXMuX29wdGlvbnMuaGludEFuaW1hdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ludHJvSXRlbXMucHVzaCh7XG4gICAgICAgICAgZWxlbWVudDogY3VycmVudEVsZW1lbnQsXG4gICAgICAgICAgaGludDogY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWhpbnQnKSxcbiAgICAgICAgICBoaW50UG9zaXRpb246IGN1cnJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1oaW50cG9zaXRpb24nKSB8fCB0aGlzLl9vcHRpb25zLmhpbnRQb3NpdGlvbixcbiAgICAgICAgICBoaW50QW5pbWF0aW9uOiBoaW50QW5pbWF0aW9uLFxuICAgICAgICAgIHRvb2x0aXBDbGFzczogY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRvb2x0aXBjbGFzcycpLFxuICAgICAgICAgIHBvc2l0aW9uOiBjdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcG9zaXRpb24nKSB8fCB0aGlzLl9vcHRpb25zLnRvb2x0aXBQb3NpdGlvblxuICAgICAgICB9KTtcbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgX2FkZEhpbnRzLmNhbGwodGhpcyk7XG5cbiAgICAvKiBcbiAgICB0b2RvOlxuICAgIHRoZXNlIGV2ZW50cyBzaG91bGQgYmUgcmVtb3ZlZCBhdCBzb21lIHBvaW50IFxuICAgICovXG4gICAgRE9NRXZlbnQub24oZG9jdW1lbnQsICdjbGljaycsIF9yZW1vdmVIaW50VG9vbHRpcCwgdGhpcywgZmFsc2UpO1xuICAgIERPTUV2ZW50Lm9uKHdpbmRvdywgJ3Jlc2l6ZScsIF9yZUFsaWduSGludHMsIHRoaXMsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlLWFsaWducyBhbGwgaGludCBlbGVtZW50c1xuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfcmVBbGlnbkhpbnRzXG4gICAqL1xuICBmdW5jdGlvbiBfcmVBbGlnbkhpbnRzKCkge1xuICAgIF9mb3JFYWNoKHRoaXMuX2ludHJvSXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBpZiAodHlwZW9mKGl0ZW0udGFyZ2V0RWxlbWVudCkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgX2FsaWduSGludFBvc2l0aW9uLmNhbGwodGhpcywgaXRlbS5oaW50UG9zaXRpb24sIGl0ZW0uZWxlbWVudCwgaXRlbS50YXJnZXRFbGVtZW50KTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICogR2V0IGEgcXVlcnlzZWxlY3RvciB3aXRoaW4gdGhlIGhpbnQgd3JhcHBlclxuICAqXG4gICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXG4gICogQHJldHVybiB7Tm9kZUxpc3R8QXJyYXl9XG4gICovXG4gIGZ1bmN0aW9uIF9oaW50UXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcikge1xuICAgIHZhciBoaW50c1dyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy1oaW50cycpO1xuICAgIHJldHVybiAoaGludHNXcmFwcGVyKSA/IGhpbnRzV3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSA6IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZGUgYSBoaW50XG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9oaWRlSGludFxuICAgKi9cbiAgZnVuY3Rpb24gX2hpZGVIaW50KHN0ZXBJZCkge1xuICAgIHZhciBoaW50ID0gX2hpbnRRdWVyeVNlbGVjdG9yQWxsKCcuaW50cm9qcy1oaW50W2RhdGEtc3RlcD1cIicgKyBzdGVwSWQgKyAnXCJdJylbMF07XG4gICAgXG4gICAgX3JlbW92ZUhpbnRUb29sdGlwLmNhbGwodGhpcyk7XG5cbiAgICBpZiAoaGludCkge1xuICAgICAgX2FkZENsYXNzKGhpbnQsICdpbnRyb2pzLWhpZGVoaW50Jyk7XG4gICAgfVxuXG4gICAgLy8gY2FsbCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gKGlmIGFueSlcbiAgICBpZiAodHlwZW9mICh0aGlzLl9oaW50Q2xvc2VDYWxsYmFjaykgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLl9oaW50Q2xvc2VDYWxsYmFjay5jYWxsKHRoaXMsIHN0ZXBJZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhpZGUgYWxsIGhpbnRzXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9oaWRlSGludHNcbiAgICovXG4gIGZ1bmN0aW9uIF9oaWRlSGludHMoKSB7XG4gICAgdmFyIGhpbnRzID0gX2hpbnRRdWVyeVNlbGVjdG9yQWxsKCcuaW50cm9qcy1oaW50Jyk7XG5cbiAgICBfZm9yRWFjaChoaW50cywgZnVuY3Rpb24gKGhpbnQpIHtcbiAgICAgIF9oaWRlSGludC5jYWxsKHRoaXMsIGhpbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXN0ZXAnKSk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGFsbCBoaW50c1xuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfc2hvd0hpbnRzXG4gICAqL1xuICBmdW5jdGlvbiBfc2hvd0hpbnRzKCkge1xuICAgIHZhciBoaW50cyA9IF9oaW50UXVlcnlTZWxlY3RvckFsbCgnLmludHJvanMtaGludCcpO1xuXG4gICAgaWYgKGhpbnRzICYmIGhpbnRzLmxlbmd0aCkge1xuICAgICAgX2ZvckVhY2goaGludHMsIGZ1bmN0aW9uIChoaW50KSB7XG4gICAgICAgIF9zaG93SGludC5jYWxsKHRoaXMsIGhpbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXN0ZXAnKSk7XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfcG9wdWxhdGVIaW50cy5jYWxsKHRoaXMsIHRoaXMuX3RhcmdldEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGEgaGludFxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfc2hvd0hpbnRcbiAgICovXG4gIGZ1bmN0aW9uIF9zaG93SGludChzdGVwSWQpIHtcbiAgICB2YXIgaGludCA9IF9oaW50UXVlcnlTZWxlY3RvckFsbCgnLmludHJvanMtaGludFtkYXRhLXN0ZXA9XCInICsgc3RlcElkICsgJ1wiXScpWzBdO1xuXG4gICAgaWYgKGhpbnQpIHtcbiAgICAgIF9yZW1vdmVDbGFzcyhoaW50LCAvaW50cm9qcy1oaWRlaGludC9nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgaGludCBlbGVtZW50cyBvbiB0aGUgcGFnZVxuICAgKiBVc2VmdWwgd2hlbiB5b3Ugd2FudCB0byBkZXN0cm95IHRoZSBlbGVtZW50cyBhbmQgYWRkIHRoZW0gYWdhaW4gKGUuZy4gYSBtb2RhbCBvciBwb3B1cClcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX3JlbW92ZUhpbnRzXG4gICAqL1xuICBmdW5jdGlvbiBfcmVtb3ZlSGludHMoKSB7XG4gICAgdmFyIGhpbnRzID0gX2hpbnRRdWVyeVNlbGVjdG9yQWxsKCcuaW50cm9qcy1oaW50Jyk7XG5cbiAgICBfZm9yRWFjaChoaW50cywgZnVuY3Rpb24gKGhpbnQpIHtcbiAgICAgIF9yZW1vdmVIaW50LmNhbGwodGhpcywgaGludC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RlcCcpKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBvbmUgc2luZ2xlIGhpbnQgZWxlbWVudCBmcm9tIHRoZSBwYWdlXG4gICAqIFVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIGRlc3Ryb3kgdGhlIGVsZW1lbnQgYW5kIGFkZCB0aGVtIGFnYWluIChlLmcuIGEgbW9kYWwgb3IgcG9wdXApXG4gICAqIFVzZSByZW1vdmVIaW50cyBpZiB5b3Ugd2FudCB0byByZW1vdmUgYWxsIGVsZW1lbnRzLlxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfcmVtb3ZlSGludFxuICAgKi9cbiAgZnVuY3Rpb24gX3JlbW92ZUhpbnQoc3RlcElkKSB7XG4gICAgdmFyIGhpbnQgPSBfaGludFF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnRyb2pzLWhpbnRbZGF0YS1zdGVwPVwiJyArIHN0ZXBJZCArICdcIl0nKVswXTtcblxuICAgIGlmIChoaW50KSB7XG4gICAgICBoaW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaGludCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbGwgYXZhaWxhYmxlIGhpbnRzIHRvIHRoZSBwYWdlXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9hZGRIaW50c1xuICAgKi9cbiAgZnVuY3Rpb24gX2FkZEhpbnRzKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBoaW50c1dyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy1oaW50cycpO1xuXG4gICAgaWYgKGhpbnRzV3JhcHBlciA9PT0gbnVsbCkge1xuICAgICAgaGludHNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBoaW50c1dyYXBwZXIuY2xhc3NOYW1lID0gJ2ludHJvanMtaGludHMnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyBhbiBldmVudCBoYW5kbGVyIHVuaXF1ZSB0byB0aGUgaGludCBpdGVyYXRpb25cbiAgICAqIFxuICAgICogQHBhcmFtIHtJbnRlZ2VyfSBpXG4gICAgKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAgICAqL1xuICAgIHZhciBnZXRIaW50Q2xpY2sgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGV2dCA9IGUgPyBlIDogd2luZG93LmV2ZW50O1xuICAgICAgICBcbiAgICAgICAgaWYgKGV2dC5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZ0LmNhbmNlbEJ1YmJsZSAhPT0gbnVsbCkge1xuICAgICAgICAgIGV2dC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgX3Nob3dIaW50RGlhbG9nLmNhbGwoc2VsZiwgaSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBfZm9yRWFjaCh0aGlzLl9pbnRyb0l0ZW1zLCBmdW5jdGlvbihpdGVtLCBpKSB7XG4gICAgICAvLyBhdm9pZCBhcHBlbmQgYSBoaW50IHR3aWNlXG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludHJvanMtaGludFtkYXRhLXN0ZXA9XCInICsgaSArICdcIl0nKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBoaW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgX3NldEFuY2hvckFzQnV0dG9uKGhpbnQpO1xuXG4gICAgICBoaW50Lm9uY2xpY2sgPSBnZXRIaW50Q2xpY2soaSk7XG5cbiAgICAgIGhpbnQuY2xhc3NOYW1lID0gJ2ludHJvanMtaGludCc7XG5cbiAgICAgIGlmICghaXRlbS5oaW50QW5pbWF0aW9uKSB7XG4gICAgICAgIF9hZGRDbGFzcyhoaW50LCAnaW50cm9qcy1oaW50LW5vLWFuaW0nKTtcbiAgICAgIH1cblxuICAgICAgLy8gaGludCdzIHBvc2l0aW9uIHNob3VsZCBiZSBmaXhlZCBpZiB0aGUgdGFyZ2V0IGVsZW1lbnQncyBwb3NpdGlvbiBpcyBmaXhlZFxuICAgICAgaWYgKF9pc0ZpeGVkKGl0ZW0uZWxlbWVudCkpIHtcbiAgICAgICAgX2FkZENsYXNzKGhpbnQsICdpbnRyb2pzLWZpeGVkaGludCcpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGludERvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaGludERvdC5jbGFzc05hbWUgPSAnaW50cm9qcy1oaW50LWRvdCc7XG4gICAgICB2YXIgaGludFB1bHNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBoaW50UHVsc2UuY2xhc3NOYW1lID0gJ2ludHJvanMtaGludC1wdWxzZSc7XG5cbiAgICAgIGhpbnQuYXBwZW5kQ2hpbGQoaGludERvdCk7XG4gICAgICBoaW50LmFwcGVuZENoaWxkKGhpbnRQdWxzZSk7XG4gICAgICBoaW50LnNldEF0dHJpYnV0ZSgnZGF0YS1zdGVwJywgaSk7XG5cbiAgICAgIC8vIHdlIHN3YXAgdGhlIGhpbnQgZWxlbWVudCB3aXRoIHRhcmdldCBlbGVtZW50XG4gICAgICAvLyBiZWNhdXNlIF9zZXRIZWxwZXJMYXllclBvc2l0aW9uIHVzZXMgYGVsZW1lbnRgIHByb3BlcnR5XG4gICAgICBpdGVtLnRhcmdldEVsZW1lbnQgPSBpdGVtLmVsZW1lbnQ7XG4gICAgICBpdGVtLmVsZW1lbnQgPSBoaW50O1xuXG4gICAgICAvLyBhbGlnbiB0aGUgaGludCBwb3NpdGlvblxuICAgICAgX2FsaWduSGludFBvc2l0aW9uLmNhbGwodGhpcywgaXRlbS5oaW50UG9zaXRpb24sIGhpbnQsIGl0ZW0udGFyZ2V0RWxlbWVudCk7XG5cbiAgICAgIGhpbnRzV3JhcHBlci5hcHBlbmRDaGlsZChoaW50KTtcbiAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgLy8gYWRkaW5nIHRoZSBoaW50cyB3cmFwcGVyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChoaW50c1dyYXBwZXIpO1xuXG4gICAgLy8gY2FsbCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gKGlmIGFueSlcbiAgICBpZiAodHlwZW9mICh0aGlzLl9oaW50c0FkZGVkQ2FsbGJhY2spICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5faGludHNBZGRlZENhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFsaWducyBoaW50IHBvc2l0aW9uXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9hbGlnbkhpbnRQb3NpdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gcG9zaXRpb25cbiAgICogQHBhcmFtIHtPYmplY3R9IGhpbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIF9hbGlnbkhpbnRQb3NpdGlvbihwb3NpdGlvbiwgaGludCwgZWxlbWVudCkge1xuICAgIC8vIGdldC9jYWxjdWxhdGUgb2Zmc2V0IG9mIHRhcmdldCBlbGVtZW50XG4gICAgdmFyIG9mZnNldCA9IF9nZXRPZmZzZXQuY2FsbCh0aGlzLCBlbGVtZW50KTtcbiAgICB2YXIgaWNvbldpZHRoID0gMjA7XG4gICAgdmFyIGljb25IZWlnaHQgPSAyMDtcblxuICAgIC8vIGFsaWduIHRoZSBoaW50IGVsZW1lbnRcbiAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgICBkZWZhdWx0OlxuICAgICAgY2FzZSAndG9wLWxlZnQnOlxuICAgICAgICBoaW50LnN0eWxlLmxlZnQgPSBvZmZzZXQubGVmdCArICdweCc7XG4gICAgICAgIGhpbnQuc3R5bGUudG9wID0gb2Zmc2V0LnRvcCArICdweCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wLXJpZ2h0JzpcbiAgICAgICAgaGludC5zdHlsZS5sZWZ0ID0gKG9mZnNldC5sZWZ0ICsgb2Zmc2V0LndpZHRoIC0gaWNvbldpZHRoKSArICdweCc7XG4gICAgICAgIGhpbnQuc3R5bGUudG9wID0gb2Zmc2V0LnRvcCArICdweCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYm90dG9tLWxlZnQnOlxuICAgICAgICBoaW50LnN0eWxlLmxlZnQgPSBvZmZzZXQubGVmdCArICdweCc7XG4gICAgICAgIGhpbnQuc3R5bGUudG9wID0gKG9mZnNldC50b3AgKyBvZmZzZXQuaGVpZ2h0IC0gaWNvbkhlaWdodCkgKyAncHgnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2JvdHRvbS1yaWdodCc6XG4gICAgICAgIGhpbnQuc3R5bGUubGVmdCA9IChvZmZzZXQubGVmdCArIG9mZnNldC53aWR0aCAtIGljb25XaWR0aCkgKyAncHgnO1xuICAgICAgICBoaW50LnN0eWxlLnRvcCA9IChvZmZzZXQudG9wICsgb2Zmc2V0LmhlaWdodCAtIGljb25IZWlnaHQpICsgJ3B4JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtaWRkbGUtbGVmdCc6XG4gICAgICAgIGhpbnQuc3R5bGUubGVmdCA9IG9mZnNldC5sZWZ0ICsgJ3B4JztcbiAgICAgICAgaGludC5zdHlsZS50b3AgPSAob2Zmc2V0LnRvcCArIChvZmZzZXQuaGVpZ2h0IC0gaWNvbkhlaWdodCkgLyAyKSArICdweCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWlkZGxlLXJpZ2h0JzpcbiAgICAgICAgaGludC5zdHlsZS5sZWZ0ID0gKG9mZnNldC5sZWZ0ICsgb2Zmc2V0LndpZHRoIC0gaWNvbldpZHRoKSArICdweCc7XG4gICAgICAgIGhpbnQuc3R5bGUudG9wID0gKG9mZnNldC50b3AgKyAob2Zmc2V0LmhlaWdodCAtIGljb25IZWlnaHQpIC8gMikgKyAncHgnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ21pZGRsZS1taWRkbGUnOlxuICAgICAgICBoaW50LnN0eWxlLmxlZnQgPSAob2Zmc2V0LmxlZnQgKyAob2Zmc2V0LndpZHRoIC0gaWNvbldpZHRoKSAvIDIpICsgJ3B4JztcbiAgICAgICAgaGludC5zdHlsZS50b3AgPSAob2Zmc2V0LnRvcCArIChvZmZzZXQuaGVpZ2h0IC0gaWNvbkhlaWdodCkgLyAyKSArICdweCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYm90dG9tLW1pZGRsZSc6XG4gICAgICAgIGhpbnQuc3R5bGUubGVmdCA9IChvZmZzZXQubGVmdCArIChvZmZzZXQud2lkdGggLSBpY29uV2lkdGgpIC8gMikgKyAncHgnO1xuICAgICAgICBoaW50LnN0eWxlLnRvcCA9IChvZmZzZXQudG9wICsgb2Zmc2V0LmhlaWdodCAtIGljb25IZWlnaHQpICsgJ3B4JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3AtbWlkZGxlJzpcbiAgICAgICAgaGludC5zdHlsZS5sZWZ0ID0gKG9mZnNldC5sZWZ0ICsgKG9mZnNldC53aWR0aCAtIGljb25XaWR0aCkgLyAyKSArICdweCc7XG4gICAgICAgIGhpbnQuc3R5bGUudG9wID0gb2Zmc2V0LnRvcCArICdweCc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmlnZ2VycyB3aGVuIHVzZXIgY2xpY2tzIG9uIHRoZSBoaW50IGVsZW1lbnRcbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBtZXRob2QgX3Nob3dIaW50RGlhbG9nXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzdGVwSWRcbiAgICovXG4gIGZ1bmN0aW9uIF9zaG93SGludERpYWxvZyhzdGVwSWQpIHtcbiAgICB2YXIgaGludEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW50cm9qcy1oaW50W2RhdGEtc3RlcD1cIicgKyBzdGVwSWQgKyAnXCJdJyk7XG4gICAgdmFyIGl0ZW0gPSB0aGlzLl9pbnRyb0l0ZW1zW3N0ZXBJZF07XG5cbiAgICAvLyBjYWxsIHRoZSBjYWxsYmFjayBmdW5jdGlvbiAoaWYgYW55KVxuICAgIGlmICh0eXBlb2YgKHRoaXMuX2hpbnRDbGlja0NhbGxiYWNrKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuX2hpbnRDbGlja0NhbGxiYWNrLmNhbGwodGhpcywgaGludEVsZW1lbnQsIGl0ZW0sIHN0ZXBJZCk7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGFsbCBvcGVuIHRvb2x0aXBzXG4gICAgdmFyIHJlbW92ZWRTdGVwID0gX3JlbW92ZUhpbnRUb29sdGlwLmNhbGwodGhpcyk7XG5cbiAgICAvLyB0byB0b2dnbGUgdGhlIHRvb2x0aXBcbiAgICBpZiAocGFyc2VJbnQocmVtb3ZlZFN0ZXAsIDEwKSA9PT0gc3RlcElkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRvb2x0aXBMYXllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHZhciB0b29sdGlwVGV4dExheWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGFycm93TGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgcmVmZXJlbmNlTGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIHRvb2x0aXBMYXllci5jbGFzc05hbWUgPSAnaW50cm9qcy10b29sdGlwJztcblxuICAgIHRvb2x0aXBMYXllci5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vSUU5ICYgT3RoZXIgQnJvd3NlcnNcbiAgICAgIGlmIChlLnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgICAgLy9JRTggYW5kIExvd2VyXG4gICAgICBlbHNlIHtcbiAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0b29sdGlwVGV4dExheWVyLmNsYXNzTmFtZSA9ICdpbnRyb2pzLXRvb2x0aXB0ZXh0JztcblxuICAgIHZhciB0b29sdGlwV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICB0b29sdGlwV3JhcHBlci5pbm5lckhUTUwgPSBpdGVtLmhpbnQ7XG5cbiAgICB2YXIgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgY2xvc2VCdXR0b24uY2xhc3NOYW1lID0gdGhpcy5fb3B0aW9ucy5idXR0b25DbGFzcztcbiAgICBjbG9zZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgY2xvc2VCdXR0b24uaW5uZXJIVE1MID0gdGhpcy5fb3B0aW9ucy5oaW50QnV0dG9uTGFiZWw7XG4gICAgY2xvc2VCdXR0b24ub25jbGljayA9IF9oaWRlSGludC5iaW5kKHRoaXMsIHN0ZXBJZCk7XG5cbiAgICB0b29sdGlwVGV4dExheWVyLmFwcGVuZENoaWxkKHRvb2x0aXBXcmFwcGVyKTtcbiAgICB0b29sdGlwVGV4dExheWVyLmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTtcblxuICAgIGFycm93TGF5ZXIuY2xhc3NOYW1lID0gJ2ludHJvanMtYXJyb3cnO1xuICAgIHRvb2x0aXBMYXllci5hcHBlbmRDaGlsZChhcnJvd0xheWVyKTtcblxuICAgIHRvb2x0aXBMYXllci5hcHBlbmRDaGlsZCh0b29sdGlwVGV4dExheWVyKTtcblxuICAgIC8vIHNldCBjdXJyZW50IHN0ZXAgZm9yIF9wbGFjZVRvb2x0aXAgZnVuY3Rpb25cbiAgICB0aGlzLl9jdXJyZW50U3RlcCA9IGhpbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zdGVwJyk7XG5cbiAgICAvLyBhbGlnbiByZWZlcmVuY2UgbGF5ZXIgcG9zaXRpb25cbiAgICByZWZlcmVuY2VMYXllci5jbGFzc05hbWUgPSAnaW50cm9qcy10b29sdGlwUmVmZXJlbmNlTGF5ZXIgaW50cm9qcy1oaW50UmVmZXJlbmNlJztcbiAgICByZWZlcmVuY2VMYXllci5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RlcCcsIGhpbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zdGVwJykpO1xuICAgIF9zZXRIZWxwZXJMYXllclBvc2l0aW9uLmNhbGwodGhpcywgcmVmZXJlbmNlTGF5ZXIpO1xuXG4gICAgcmVmZXJlbmNlTGF5ZXIuYXBwZW5kQ2hpbGQodG9vbHRpcExheWVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlZmVyZW5jZUxheWVyKTtcblxuICAgIC8vc2V0IHByb3BlciBwb3NpdGlvblxuICAgIF9wbGFjZVRvb2x0aXAuY2FsbCh0aGlzLCBoaW50RWxlbWVudCwgdG9vbHRpcExheWVyLCBhcnJvd0xheWVyLCBudWxsLCB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYW4gZWxlbWVudCBwb3NpdGlvbiBvbiB0aGUgcGFnZVxuICAgKiBUaGFua3MgdG8gYG1lb3V3YDogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDQyNDc0LzM3NTk2NlxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQG1ldGhvZCBfZ2V0T2Zmc2V0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50XG4gICAqIEByZXR1cm5zIEVsZW1lbnQncyBwb3NpdGlvbiBpbmZvXG4gICAqL1xuICBmdW5jdGlvbiBfZ2V0T2Zmc2V0KGVsZW1lbnQpIHtcbiAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgdmFyIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHZhciBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jRWwuc2Nyb2xsVG9wIHx8IGJvZHkuc2Nyb2xsVG9wO1xuICAgIHZhciBzY3JvbGxMZWZ0ID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY0VsLnNjcm9sbExlZnQgfHwgYm9keS5zY3JvbGxMZWZ0O1xuICAgIHZhciB4ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiB4LnRvcCArIHNjcm9sbFRvcCxcbiAgICAgIHdpZHRoOiB4LndpZHRoLFxuICAgICAgaGVpZ2h0OiB4LmhlaWdodCxcbiAgICAgIGxlZnQ6IHgubGVmdCArIHNjcm9sbExlZnRcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICogRmluZCB0aGUgbmVhcmVzdCBzY3JvbGxhYmxlIHBhcmVudFxuICAqIGNvcGllZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM1OTM5ODg2L2ZpbmQtZmlyc3Qtc2Nyb2xsYWJsZS1wYXJlbnRcbiAgKlxuICAqIEBwYXJhbSBFbGVtZW50IGVsZW1lbnRcbiAgKiBAcmV0dXJuIEVsZW1lbnRcbiAgKi9cbiAgZnVuY3Rpb24gX2dldFNjcm9sbFBhcmVudChlbGVtZW50KSB7XG4gICAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgdmFyIGV4Y2x1ZGVTdGF0aWNQYXJlbnQgPSAoc3R5bGUucG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIik7XG4gICAgdmFyIG92ZXJmbG93UmVnZXggPSAvKGF1dG98c2Nyb2xsKS87XG5cbiAgICBpZiAoc3R5bGUucG9zaXRpb24gPT09IFwiZml4ZWRcIikgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gICAgXG4gICAgZm9yICh2YXIgcGFyZW50ID0gZWxlbWVudDsgKHBhcmVudCA9IHBhcmVudC5wYXJlbnRFbGVtZW50KTspIHtcbiAgICAgIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50KTtcbiAgICAgIGlmIChleGNsdWRlU3RhdGljUGFyZW50ICYmIHN0eWxlLnBvc2l0aW9uID09PSBcInN0YXRpY1wiKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKG92ZXJmbG93UmVnZXgudGVzdChzdHlsZS5vdmVyZmxvdyArIHN0eWxlLm92ZXJmbG93WSArIHN0eWxlLm92ZXJmbG93WCkpIHJldHVybiBwYXJlbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gIH1cblxuICAvKipcbiAgKiBzY3JvbGwgYSBzY3JvbGxhYmxlIGVsZW1lbnQgdG8gYSBjaGlsZCBlbGVtZW50XG4gICpcbiAgKiBAcGFyYW0gRWxlbWVudCBwYXJlbnRcbiAgKiBAcGFyYW0gRWxlbWVudCBlbGVtZW50XG4gICogQHJldHVybiBOdWxsXG4gICovXG4gIGZ1bmN0aW9uIF9zY3JvbGxQYXJlbnRUb0VsZW1lbnQgKHBhcmVudCwgZWxlbWVudCkge1xuICAgIHBhcmVudC5zY3JvbGxUb3AgPSBlbGVtZW50Lm9mZnNldFRvcCAtIHBhcmVudC5vZmZzZXRUb3A7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCBwcm9ncmVzcyBwZXJjZW50YWdlXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9nZXRQcm9ncmVzc1xuICAgKiBAcmV0dXJucyBjdXJyZW50IHByb2dyZXNzIHBlcmNlbnRhZ2VcbiAgICovXG4gIGZ1bmN0aW9uIF9nZXRQcm9ncmVzcygpIHtcbiAgICAvLyBTdGVwcyBhcmUgMCBpbmRleGVkXG4gICAgdmFyIGN1cnJlbnRTdGVwID0gcGFyc2VJbnQoKHRoaXMuX2N1cnJlbnRTdGVwICsgMSksIDEwKTtcbiAgICByZXR1cm4gKChjdXJyZW50U3RlcCAvIHRoaXMuX2ludHJvSXRlbXMubGVuZ3RoKSAqIDEwMCk7XG4gIH1cblxuICAvKipcbiAgICogT3ZlcndyaXRlcyBvYmoxJ3MgdmFsdWVzIHdpdGggb2JqMidzIGFuZCBhZGRzIG9iajIncyBpZiBub24gZXhpc3RlbnQgaW4gb2JqMVxuICAgKiB2aWE6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTcxMjUxL2hvdy1jYW4taS1tZXJnZS1wcm9wZXJ0aWVzLW9mLXR3by1qYXZhc2NyaXB0LW9iamVjdHMtZHluYW1pY2FsbHlcbiAgICpcbiAgICogQHBhcmFtIG9iajFcbiAgICogQHBhcmFtIG9iajJcbiAgICogQHJldHVybnMgb2JqMyBhIG5ldyBvYmplY3QgYmFzZWQgb24gb2JqMSBhbmQgb2JqMlxuICAgKi9cbiAgZnVuY3Rpb24gX21lcmdlT3B0aW9ucyhvYmoxLG9iajIpIHtcbiAgICB2YXIgb2JqMyA9IHt9LFxuICAgICAgYXR0cm5hbWU7XG4gICAgZm9yIChhdHRybmFtZSBpbiBvYmoxKSB7IG9iajNbYXR0cm5hbWVdID0gb2JqMVthdHRybmFtZV07IH1cbiAgICBmb3IgKGF0dHJuYW1lIGluIG9iajIpIHsgb2JqM1thdHRybmFtZV0gPSBvYmoyW2F0dHJuYW1lXTsgfVxuICAgIHJldHVybiBvYmozO1xuICB9XG5cbiAgdmFyIGludHJvSnMgPSBmdW5jdGlvbiAodGFyZ2V0RWxtKSB7XG4gICAgdmFyIGluc3RhbmNlO1xuXG4gICAgaWYgKHR5cGVvZiAodGFyZ2V0RWxtKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIC8vT2ssIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZVxuICAgICAgaW5zdGFuY2UgPSBuZXcgSW50cm9Kcyh0YXJnZXRFbG0pO1xuXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgKHRhcmdldEVsbSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvL3NlbGVjdCB0aGUgdGFyZ2V0IGVsZW1lbnQgd2l0aCBxdWVyeSBzZWxlY3RvclxuICAgICAgdmFyIHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldEVsbSk7XG5cbiAgICAgIGlmICh0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgIGluc3RhbmNlID0gbmV3IEludHJvSnModGFyZ2V0RWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIGVsZW1lbnQgd2l0aCBnaXZlbiBzZWxlY3Rvci4nKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UgPSBuZXcgSW50cm9Kcyhkb2N1bWVudC5ib2R5KTtcbiAgICB9XG4gICAgLy8gYWRkIGluc3RhbmNlIHRvIGxpc3Qgb2YgX2luc3RhbmNlc1xuICAgIC8vIHBhc3NpbmcgZ3JvdXAgdG8gX3N0YW1wIHRvIGluY3JlbWVudFxuICAgIC8vIGZyb20gMCBvbndhcmQgc29tZXdoYXQgcmVsaWFibHlcbiAgICBpbnRyb0pzLmluc3RhbmNlc1sgX3N0YW1wKGluc3RhbmNlLCAnaW50cm9qcy1pbnN0YW5jZScpIF0gPSBpbnN0YW5jZTtcblxuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcblxuICAvKipcbiAgICogQ3VycmVudCBJbnRyb0pzIHZlcnNpb25cbiAgICpcbiAgICogQHByb3BlcnR5IHZlcnNpb25cbiAgICogQHR5cGUgU3RyaW5nXG4gICAqL1xuICBpbnRyb0pzLnZlcnNpb24gPSBWRVJTSU9OO1xuXG4gIC8qKlxuICAqIGtleS12YWwgb2JqZWN0IGhlbHBlciBmb3IgaW50cm9KcyBpbnN0YW5jZXNcbiAgKlxuICAqIEBwcm9wZXJ0eSBpbnN0YW5jZXNcbiAgKiBAdHlwZSBPYmplY3RcbiAgKi9cbiAgaW50cm9Kcy5pbnN0YW5jZXMgPSB7fTtcblxuICAvL1Byb3RvdHlwZVxuICBpbnRyb0pzLmZuID0gSW50cm9Kcy5wcm90b3R5cGUgPSB7XG4gICAgY2xvbmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgSW50cm9Kcyh0aGlzKTtcbiAgICB9LFxuICAgIHNldE9wdGlvbjogZnVuY3Rpb24ob3B0aW9uLCB2YWx1ZSkge1xuICAgICAgdGhpcy5fb3B0aW9uc1tvcHRpb25dID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHNldE9wdGlvbnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuX29wdGlvbnMgPSBfbWVyZ2VPcHRpb25zKHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBzdGFydDogZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICBfaW50cm9Gb3JFbGVtZW50LmNhbGwodGhpcywgdGhpcy5fdGFyZ2V0RWxlbWVudCwgZ3JvdXApO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBnb1RvU3RlcDogZnVuY3Rpb24oc3RlcCkge1xuICAgICAgX2dvVG9TdGVwLmNhbGwodGhpcywgc3RlcCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGFkZFN0ZXA6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICghdGhpcy5fb3B0aW9ucy5zdGVwcykge1xuICAgICAgICB0aGlzLl9vcHRpb25zLnN0ZXBzID0gW107XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX29wdGlvbnMuc3RlcHMucHVzaChvcHRpb25zKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBhZGRTdGVwczogZnVuY3Rpb24oc3RlcHMpIHtcbiAgICAgIGlmICghc3RlcHMubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgIGZvcih2YXIgaW5kZXggPSAwOyBpbmRleCA8IHN0ZXBzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB0aGlzLmFkZFN0ZXAoc3RlcHNbaW5kZXhdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBnb1RvU3RlcE51bWJlcjogZnVuY3Rpb24oc3RlcCkge1xuICAgICAgX2dvVG9TdGVwTnVtYmVyLmNhbGwodGhpcywgc3RlcCk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgbmV4dFN0ZXA6IGZ1bmN0aW9uKCkge1xuICAgICAgX25leHRTdGVwLmNhbGwodGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHByZXZpb3VzU3RlcDogZnVuY3Rpb24oKSB7XG4gICAgICBfcHJldmlvdXNTdGVwLmNhbGwodGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGV4aXQ6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICBfZXhpdEludHJvLmNhbGwodGhpcywgdGhpcy5fdGFyZ2V0RWxlbWVudCwgZm9yY2UpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICByZWZyZXNoOiBmdW5jdGlvbigpIHtcbiAgICAgIF9yZWZyZXNoLmNhbGwodGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIG9uYmVmb3JlY2hhbmdlOiBmdW5jdGlvbihwcm92aWRlZENhbGxiYWNrKSB7XG4gICAgICBpZiAodHlwZW9mIChwcm92aWRlZENhbGxiYWNrKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9pbnRyb0JlZm9yZUNoYW5nZUNhbGxiYWNrID0gcHJvdmlkZWRDYWxsYmFjaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvdmlkZWQgY2FsbGJhY2sgZm9yIG9uYmVmb3JlY2hhbmdlIHdhcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBvbmNoYW5nZTogZnVuY3Rpb24ocHJvdmlkZWRDYWxsYmFjaykge1xuICAgICAgaWYgKHR5cGVvZiAocHJvdmlkZWRDYWxsYmFjaykgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5faW50cm9DaGFuZ2VDYWxsYmFjayA9IHByb3ZpZGVkQ2FsbGJhY2s7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb3ZpZGVkIGNhbGxiYWNrIGZvciBvbmNoYW5nZSB3YXMgbm90IGEgZnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIG9uYWZ0ZXJjaGFuZ2U6IGZ1bmN0aW9uKHByb3ZpZGVkQ2FsbGJhY2spIHtcbiAgICAgIGlmICh0eXBlb2YgKHByb3ZpZGVkQ2FsbGJhY2spID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX2ludHJvQWZ0ZXJDaGFuZ2VDYWxsYmFjayA9IHByb3ZpZGVkQ2FsbGJhY2s7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb3ZpZGVkIGNhbGxiYWNrIGZvciBvbmFmdGVyY2hhbmdlIHdhcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBvbmNvbXBsZXRlOiBmdW5jdGlvbihwcm92aWRlZENhbGxiYWNrKSB7XG4gICAgICBpZiAodHlwZW9mIChwcm92aWRlZENhbGxiYWNrKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9pbnRyb0NvbXBsZXRlQ2FsbGJhY2sgPSBwcm92aWRlZENhbGxiYWNrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm92aWRlZCBjYWxsYmFjayBmb3Igb25jb21wbGV0ZSB3YXMgbm90IGEgZnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIG9uaGludHNhZGRlZDogZnVuY3Rpb24ocHJvdmlkZWRDYWxsYmFjaykge1xuICAgICAgaWYgKHR5cGVvZiAocHJvdmlkZWRDYWxsYmFjaykgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5faGludHNBZGRlZENhbGxiYWNrID0gcHJvdmlkZWRDYWxsYmFjaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvdmlkZWQgY2FsbGJhY2sgZm9yIG9uaGludHNhZGRlZCB3YXMgbm90IGEgZnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIG9uaGludGNsaWNrOiBmdW5jdGlvbihwcm92aWRlZENhbGxiYWNrKSB7XG4gICAgICBpZiAodHlwZW9mIChwcm92aWRlZENhbGxiYWNrKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9oaW50Q2xpY2tDYWxsYmFjayA9IHByb3ZpZGVkQ2FsbGJhY2s7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb3ZpZGVkIGNhbGxiYWNrIGZvciBvbmhpbnRjbGljayB3YXMgbm90IGEgZnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIG9uaGludGNsb3NlOiBmdW5jdGlvbihwcm92aWRlZENhbGxiYWNrKSB7XG4gICAgICBpZiAodHlwZW9mIChwcm92aWRlZENhbGxiYWNrKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9oaW50Q2xvc2VDYWxsYmFjayA9IHByb3ZpZGVkQ2FsbGJhY2s7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb3ZpZGVkIGNhbGxiYWNrIGZvciBvbmhpbnRjbG9zZSB3YXMgbm90IGEgZnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIG9uZXhpdDogZnVuY3Rpb24ocHJvdmlkZWRDYWxsYmFjaykge1xuICAgICAgaWYgKHR5cGVvZiAocHJvdmlkZWRDYWxsYmFjaykgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5faW50cm9FeGl0Q2FsbGJhY2sgPSBwcm92aWRlZENhbGxiYWNrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm92aWRlZCBjYWxsYmFjayBmb3Igb25leGl0IHdhcyBub3QgYSBmdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgb25za2lwOiBmdW5jdGlvbihwcm92aWRlZENhbGxiYWNrKSB7XG4gICAgICBpZiAodHlwZW9mIChwcm92aWRlZENhbGxiYWNrKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9pbnRyb1NraXBDYWxsYmFjayA9IHByb3ZpZGVkQ2FsbGJhY2s7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb3ZpZGVkIGNhbGxiYWNrIGZvciBvbnNraXAgd2FzIG5vdCBhIGZ1bmN0aW9uLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBvbmJlZm9yZWV4aXQ6IGZ1bmN0aW9uKHByb3ZpZGVkQ2FsbGJhY2spIHtcbiAgICAgIGlmICh0eXBlb2YgKHByb3ZpZGVkQ2FsbGJhY2spID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX2ludHJvQmVmb3JlRXhpdENhbGxiYWNrID0gcHJvdmlkZWRDYWxsYmFjaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvdmlkZWQgY2FsbGJhY2sgZm9yIG9uYmVmb3JlZXhpdCB3YXMgbm90IGEgZnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGFkZEhpbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIF9wb3B1bGF0ZUhpbnRzLmNhbGwodGhpcywgdGhpcy5fdGFyZ2V0RWxlbWVudCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGhpZGVIaW50OiBmdW5jdGlvbiAoc3RlcElkKSB7XG4gICAgICBfaGlkZUhpbnQuY2FsbCh0aGlzLCBzdGVwSWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBoaWRlSGludHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIF9oaWRlSGludHMuY2FsbCh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgc2hvd0hpbnQ6IGZ1bmN0aW9uIChzdGVwSWQpIHtcbiAgICAgIF9zaG93SGludC5jYWxsKHRoaXMsIHN0ZXBJZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHNob3dIaW50czogZnVuY3Rpb24gKCkge1xuICAgICAgX3Nob3dIaW50cy5jYWxsKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICByZW1vdmVIaW50czogZnVuY3Rpb24gKCkge1xuICAgICAgX3JlbW92ZUhpbnRzLmNhbGwodGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHJlbW92ZUhpbnQ6IGZ1bmN0aW9uIChzdGVwSWQpIHtcbiAgICAgIF9yZW1vdmVIaW50LmNhbGwodGhpcywgc3RlcElkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgc2hvd0hpbnREaWFsb2c6IGZ1bmN0aW9uIChzdGVwSWQpIHtcbiAgICAgIF9zaG93SGludERpYWxvZy5jYWxsKHRoaXMsIHN0ZXBJZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGludHJvSnM7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=